function wb(r,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in r)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(r,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Rb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Sd={exports:{}},fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function Cb(){if(Cv)return fl;Cv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return fl.Fragment=e,fl.jsx=n,fl.jsxs=n,fl}var Iv;function Ib(){return Iv||(Iv=1,Sd.exports=Cb()),Sd.exports}var M=Ib(),wd={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function Nb(){if(Nv)return Re;Nv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function C(N){return N===null||typeof N!="object"?null:(N=A&&N[A]||N["@@iterator"],typeof N=="function"?N:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,W={};function G(N,J,re){this.props=N,this.context=J,this.refs=W,this.updater=re||B}G.prototype.isReactComponent={},G.prototype.setState=function(N,J){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,J,"setState")},G.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function ce(){}ce.prototype=G.prototype;function oe(N,J,re){this.props=N,this.context=J,this.refs=W,this.updater=re||B}var ae=oe.prototype=new ce;ae.constructor=oe,Y(ae,G.prototype),ae.isPureReactComponent=!0;var Ee=Array.isArray,me={H:null,A:null,T:null,S:null,V:null},Ne=Object.prototype.hasOwnProperty;function x(N,J,re,te,de,se){return re=se.ref,{$$typeof:r,type:N,key:J,ref:re!==void 0?re:null,props:se}}function S(N,J){return x(N.type,J,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function D(N){var J={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(re){return J[re]})}var V=/\/+/g;function k(N,J){return typeof N=="object"&&N!==null&&N.key!=null?D(""+N.key):J.toString(36)}function I(){}function mt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(I,I):(N.status="pending",N.then(function(J){N.status==="pending"&&(N.status="fulfilled",N.value=J)},function(J){N.status==="pending"&&(N.status="rejected",N.reason=J)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function et(N,J,re,te,de){var se=typeof N;(se==="undefined"||se==="boolean")&&(N=null);var be=!1;if(N===null)be=!0;else switch(se){case"bigint":case"string":case"number":be=!0;break;case"object":switch(N.$$typeof){case r:case e:be=!0;break;case E:return be=N._init,et(be(N._payload),J,re,te,de)}}if(be)return de=de(N),be=te===""?"."+k(N,0):te,Ee(de)?(re="",be!=null&&(re=be.replace(V,"$&/")+"/"),et(de,J,re,"",function(zn){return zn})):de!=null&&(R(de)&&(de=S(de,re+(de.key==null||N&&N.key===de.key?"":(""+de.key).replace(V,"$&/")+"/")+be)),J.push(de)),1;be=0;var It=te===""?".":te+":";if(Ee(N))for(var Je=0;Je<N.length;Je++)te=N[Je],se=It+k(te,Je),be+=et(te,J,re,se,de);else if(Je=C(N),typeof Je=="function")for(N=Je.call(N),Je=0;!(te=N.next()).done;)te=te.value,se=It+k(te,Je++),be+=et(te,J,re,se,de);else if(se==="object"){if(typeof N.then=="function")return et(mt(N),J,re,te,de);throw J=String(N),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return be}function Q(N,J,re){if(N==null)return N;var te=[],de=0;return et(N,te,"","",function(se){return J.call(re,se,de++)}),te}function ie(N){if(N._status===-1){var J=N._result;J=J(),J.then(function(re){(N._status===0||N._status===-1)&&(N._status=1,N._result=re)},function(re){(N._status===0||N._status===-1)&&(N._status=2,N._result=re)}),N._status===-1&&(N._status=0,N._result=J)}if(N._status===1)return N._result.default;throw N._result}var he=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function je(){}return Re.Children={map:Q,forEach:function(N,J,re){Q(N,function(){J.apply(this,arguments)},re)},count:function(N){var J=0;return Q(N,function(){J++}),J},toArray:function(N){return Q(N,function(J){return J})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Re.Component=G,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=oe,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=me,Re.__COMPILER_RUNTIME={__proto__:null,c:function(N){return me.H.useMemoCache(N)}},Re.cache=function(N){return function(){return N.apply(null,arguments)}},Re.cloneElement=function(N,J,re){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var te=Y({},N.props),de=N.key,se=void 0;if(J!=null)for(be in J.ref!==void 0&&(se=void 0),J.key!==void 0&&(de=""+J.key),J)!Ne.call(J,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&J.ref===void 0||(te[be]=J[be]);var be=arguments.length-2;if(be===1)te.children=re;else if(1<be){for(var It=Array(be),Je=0;Je<be;Je++)It[Je]=arguments[Je+2];te.children=It}return x(N.type,de,void 0,void 0,se,te)},Re.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Re.createElement=function(N,J,re){var te,de={},se=null;if(J!=null)for(te in J.key!==void 0&&(se=""+J.key),J)Ne.call(J,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(de[te]=J[te]);var be=arguments.length-2;if(be===1)de.children=re;else if(1<be){for(var It=Array(be),Je=0;Je<be;Je++)It[Je]=arguments[Je+2];de.children=It}if(N&&N.defaultProps)for(te in be=N.defaultProps,be)de[te]===void 0&&(de[te]=be[te]);return x(N,se,void 0,void 0,null,de)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(N){return{$$typeof:m,render:N}},Re.isValidElement=R,Re.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:ie}},Re.memo=function(N,J){return{$$typeof:y,type:N,compare:J===void 0?null:J}},Re.startTransition=function(N){var J=me.T,re={};me.T=re;try{var te=N(),de=me.S;de!==null&&de(re,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(je,he)}catch(se){he(se)}finally{me.T=J}},Re.unstable_useCacheRefresh=function(){return me.H.useCacheRefresh()},Re.use=function(N){return me.H.use(N)},Re.useActionState=function(N,J,re){return me.H.useActionState(N,J,re)},Re.useCallback=function(N,J){return me.H.useCallback(N,J)},Re.useContext=function(N){return me.H.useContext(N)},Re.useDebugValue=function(){},Re.useDeferredValue=function(N,J){return me.H.useDeferredValue(N,J)},Re.useEffect=function(N,J,re){var te=me.H;if(typeof re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(N,J)},Re.useId=function(){return me.H.useId()},Re.useImperativeHandle=function(N,J,re){return me.H.useImperativeHandle(N,J,re)},Re.useInsertionEffect=function(N,J){return me.H.useInsertionEffect(N,J)},Re.useLayoutEffect=function(N,J){return me.H.useLayoutEffect(N,J)},Re.useMemo=function(N,J){return me.H.useMemo(N,J)},Re.useOptimistic=function(N,J){return me.H.useOptimistic(N,J)},Re.useReducer=function(N,J,re){return me.H.useReducer(N,J,re)},Re.useRef=function(N){return me.H.useRef(N)},Re.useState=function(N){return me.H.useState(N)},Re.useSyncExternalStore=function(N,J,re){return me.H.useSyncExternalStore(N,J,re)},Re.useTransition=function(){return me.H.useTransition()},Re.version="19.1.0",Re}var Ov;function ym(){return Ov||(Ov=1,wd.exports=Nb()),wd.exports}var F=ym();const Rr=Rb(F),Ob=wb({__proto__:null,default:Rr},[F]);var Rd={exports:{}},dl={},Cd={exports:{}},Id={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function Db(){return Dv||(Dv=1,function(r){function e(Q,ie){var he=Q.length;Q.push(ie);e:for(;0<he;){var je=he-1>>>1,N=Q[je];if(0<o(N,ie))Q[je]=ie,Q[he]=N,he=je;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var ie=Q[0],he=Q.pop();if(he!==ie){Q[0]=he;e:for(var je=0,N=Q.length,J=N>>>1;je<J;){var re=2*(je+1)-1,te=Q[re],de=re+1,se=Q[de];if(0>o(te,he))de<N&&0>o(se,te)?(Q[je]=se,Q[de]=he,je=de):(Q[je]=te,Q[re]=he,je=re);else if(de<N&&0>o(se,he))Q[je]=se,Q[de]=he,je=de;else break e}}return ie}function o(Q,ie){var he=Q.sortIndex-ie.sortIndex;return he!==0?he:Q.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,A=null,C=3,B=!1,Y=!1,W=!1,G=!1,ce=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function Ee(Q){for(var ie=n(y);ie!==null;){if(ie.callback===null)s(y);else if(ie.startTime<=Q)s(y),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=n(y)}}function me(Q){if(W=!1,Ee(Q),!Y)if(n(p)!==null)Y=!0,Ne||(Ne=!0,k());else{var ie=n(y);ie!==null&&et(me,ie.startTime-Q)}}var Ne=!1,x=-1,S=5,R=-1;function D(){return G?!0:!(r.unstable_now()-R<S)}function V(){if(G=!1,Ne){var Q=r.unstable_now();R=Q;var ie=!0;try{e:{Y=!1,W&&(W=!1,oe(x),x=-1),B=!0;var he=C;try{t:{for(Ee(Q),A=n(p);A!==null&&!(A.expirationTime>Q&&D());){var je=A.callback;if(typeof je=="function"){A.callback=null,C=A.priorityLevel;var N=je(A.expirationTime<=Q);if(Q=r.unstable_now(),typeof N=="function"){A.callback=N,Ee(Q),ie=!0;break t}A===n(p)&&s(p),Ee(Q)}else s(p);A=n(p)}if(A!==null)ie=!0;else{var J=n(y);J!==null&&et(me,J.startTime-Q),ie=!1}}break e}finally{A=null,C=he,B=!1}ie=void 0}}finally{ie?k():Ne=!1}}}var k;if(typeof ae=="function")k=function(){ae(V)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,mt=I.port2;I.port1.onmessage=V,k=function(){mt.postMessage(null)}}else k=function(){ce(V,0)};function et(Q,ie){x=ce(function(){Q(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(Q){switch(C){case 1:case 2:case 3:var ie=3;break;default:ie=C}var he=C;C=ie;try{return Q()}finally{C=he}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function(Q,ie){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var he=C;C=Q;try{return ie()}finally{C=he}},r.unstable_scheduleCallback=function(Q,ie,he){var je=r.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?je+he:je):he=je,Q){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=he+N,Q={id:E++,callback:ie,priorityLevel:Q,startTime:he,expirationTime:N,sortIndex:-1},he>je?(Q.sortIndex=he,e(y,Q),n(p)===null&&Q===n(y)&&(W?(oe(x),x=-1):W=!0,et(me,he-je))):(Q.sortIndex=N,e(p,Q),Y||B||(Y=!0,Ne||(Ne=!0,k()))),Q},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(Q){var ie=C;return function(){var he=C;C=ie;try{return Q.apply(this,arguments)}finally{C=he}}}}(Id)),Id}var xv;function xb(){return xv||(xv=1,Cd.exports=Db()),Cd.exports}var Nd={exports:{}},Ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function Vb(){if(Vv)return Ft;Vv=1;var r=ym();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ft.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},Ft.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Ft.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Ft.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ft.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:C,fetchPriority:B}):E==="script"&&s.d.X(p,{crossOrigin:A,integrity:C,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ft.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Ft.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ft.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Ft.requestFormReset=function(p){s.d.r(p)},Ft.unstable_batchedUpdates=function(p,y){return p(y)},Ft.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Ft.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ft.version="19.1.0",Ft}var Mv;function _0(){if(Mv)return Nd.exports;Mv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Nd.exports=Vb(),Nd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function Mb(){if(Pv)return dl;Pv=1;var r=xb(),e=ym(),n=_0();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),ce=Symbol.for("react.provider"),oe=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function mt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case G:return"Profiler";case W:return"StrictMode";case me:return"Suspense";case Ne:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case ae:return(t.displayName||"Context")+".Provider";case oe:return(t._context.displayName||"Context")+".Consumer";case Ee:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:mt(t.type)||"Memo";case S:i=t._payload,t=t._init;try{return mt(t(i))}catch{}}return null}var et=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},je=[],N=-1;function J(t){return{current:t}}function re(t){0>N||(t.current=je[N],je[N]=null,N--)}function te(t,i){N++,je[N]=t.current,t.current=i}var de=J(null),se=J(null),be=J(null),It=J(null);function Je(t,i){switch(te(be,i),te(se,t),te(de,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?tv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=tv(i),t=nv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}re(de),te(de,t)}function zn(){re(de),re(se),re(be)}function Fi(t){t.memoizedState!==null&&te(It,t);var i=de.current,a=nv(i,t.type);i!==a&&(te(se,t),te(de,a))}function ci(t){se.current===t&&(re(de),re(se)),It.current===t&&(re(It),ol._currentValue=he)}var qr=Object.prototype.hasOwnProperty,Hr=r.unstable_scheduleCallback,Gr=r.unstable_cancelCallback,io=r.unstable_shouldYield,Kl=r.unstable_requestPaint,gn=r.unstable_now,Ah=r.unstable_getCurrentPriorityLevel,ro=r.unstable_ImmediatePriority,Ls=r.unstable_UserBlockingPriority,Fr=r.unstable_NormalPriority,Sh=r.unstable_LowPriority,js=r.unstable_IdlePriority,so=r.log,Yl=r.unstable_setDisableYieldValue,at=null,Ge=null;function sn(t){if(typeof so=="function"&&Yl(t),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(at,t)}catch{}}var Ht=Math.clz32?Math.clz32:Qr,Xl=Math.log,wh=Math.LN2;function Qr(t){return t>>>=0,t===0?32:31-(Xl(t)/wh|0)|0}var Kr=256,Yr=4194304;function Nn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function zs(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Nn(l):(_&=T,_!==0?h=Nn(_):a||(a=T&~t,a!==0&&(h=Nn(a))))):(T=l&~d,T!==0?h=Nn(T):_!==0?h=Nn(_):a||(a=l&~t,a!==0&&(h=Nn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Xr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ao(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oo(){var t=Kr;return Kr<<=1,(Kr&4194048)===0&&(Kr=256),t}function lo(){var t=Yr;return Yr<<=1,(Yr&62914560)===0&&(Yr=4194304),t}function hi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function fi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function uo(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,w=t.expirationTimes,j=t.hiddenUpdates;for(a=_&~a;0<a;){var K=31-Ht(a),$=1<<K;T[K]=0,w[K]=-1;var z=j[K];if(z!==null)for(j[K]=null,K=0;K<z.length;K++){var q=z[K];q!==null&&(q.lane&=-536870913)}a&=~$}l!==0&&Bn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Bn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Ht(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function co(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Ht(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Qi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Bs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ki(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:Tv(t.type))}function $l(t,i){var a=ie.p;try{return ie.p=t,i()}finally{ie.p=a}}var tt=Math.random().toString(36).slice(2),Et="__reactFiber$"+tt,gt="__reactProps$"+tt,pn="__reactContainer$"+tt,ho="__reactEvents$"+tt,Rh="__reactListeners$"+tt,Yi="__reactHandles$"+tt,Zl="__reactResources$"+tt,$r="__reactMarker$"+tt;function Xi(t){delete t[Et],delete t[gt],delete t[ho],delete t[Rh],delete t[Yi]}function di(t){var i=t[Et];if(i)return i;for(var a=t.parentNode;a;){if(i=a[pn]||a[Et]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=av(t);t!==null;){if(a=t[Et])return a;t=av(t)}return i}t=a,a=t.parentNode}return null}function qn(t){if(t=t[Et]||t[pn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Hn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function $t(t){var i=t[Zl];return i||(i=t[Zl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ut(t){t[$r]=!0}var fo=new Set,qs={};function On(t,i){mi(t,i),mi(t+"Capture",i)}function mi(t,i){for(qs[t]=i,t=0;t<i.length;t++)fo.add(i[t])}var Jl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wl={},Zr={};function eu(t){return qr.call(Zr,t)?!0:qr.call(Wl,t)?!1:Jl.test(t)?Zr[t]=!0:(Wl[t]=!0,!1)}function $i(t,i,a){if(eu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Gn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Pt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var Jr,tu;function gi(t){if(Jr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Jr=i&&i[1]||"",tu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jr+t+tu}var Hs=!1;function Gs(t,i){if(!t||Hs)return"";Hs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(q){var z=q}Reflect.construct(t,[],$)}else{try{$.call()}catch(q){z=q}t.call($.prototype)}}else{try{throw Error()}catch(q){z=q}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var w=_.split(`
`),j=T.split(`
`);for(h=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===w.length||h===j.length)for(l=w.length-1,h=j.length-1;1<=l&&0<=h&&w[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(w[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||w[l]!==j[h]){var K=`
`+w[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{Hs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?gi(a):""}function mo(t){switch(t.tag){case 26:case 27:case 5:return gi(t.type);case 16:return gi("Lazy");case 13:return gi("Suspense");case 19:return gi("SuspenseList");case 0:case 15:return Gs(t.type,!1);case 11:return Gs(t.type.render,!1);case 1:return Gs(t.type,!0);case 31:return gi("Activity");default:return""}}function Fs(t){try{var i="";do i+=mo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function go(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ch(t){var i=go(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qs(t){t._valueTracker||(t._valueTracker=Ch(t))}function po(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=go(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Wr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ih=/[\n"\\]/g;function pt(t){return t.replace(Ih,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function an(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Zt(i)):t.value!==""+Zt(i)&&(t.value=""+Zt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Zi(t,_,Zt(i)):a!=null?Zi(t,_,Zt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Zt(T):t.removeAttribute("name")}function es(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Zt(a):"",i=i!=null?""+Zt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Zi(t,i,a){i==="number"&&Wr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function pi(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Zt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ke(t,i,a){if(i!=null&&(i=""+Zt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Zt(a):""}function ts(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(et(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Zt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function yn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var ns=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||ns.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function yo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&nu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&nu(t,d,i[d])}function vo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ks(t){return Oh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var yi=null;function vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vi=null,_i=null;function _o(t){var i=qn(t);if(i&&(t=i.stateNode)){var a=t[gt]||null;e:switch(t=i.stateNode,i.type){case"input":if(an(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[gt]||null;if(!h)throw Error(s(90));an(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&po(l)}break e;case"textarea":Ke(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&pi(t,!!a.multiple,i,!1)}}}var Fn=!1;function iu(t,i,a){if(Fn)return t(i,a);Fn=!0;try{var l=t(i);return l}finally{if(Fn=!1,(vi!==null||_i!==null)&&($u(),vi&&(i=vi,t=_i,_i=vi=null,_o(i),t)))for(i=0;i<t.length;i++)_o(t[i])}}function is(t,i){var a=t.stateNode;if(a===null)return null;var l=a[gt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_n=!1;if(Dn)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){_n=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{_n=!1}var Qn=null,Ji=null,Ei=null;function Eo(){if(Ei)return Ei;var t,i=Ji,a=i.length,l,h="value"in Qn?Qn.value:Qn.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ei=h.slice(t,1<l?1-l:void 0)}function Kn(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Yn(){return!0}function To(){return!1}function Nt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Yn:To,this.isPropagationStopped=To,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),i}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=Nt(qe),ss=E({},qe,{view:0,detail:0}),ru=Nt(ss),Xs,$s,Xn,as=E({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:us,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xn&&(Xn&&t.type==="mousemove"?(Xs=t.screenX-Xn.screenX,$s=t.screenY-Xn.screenY):$s=Xs=0,Xn=t),Xs)},movementY:function(t){return"movementY"in t?t.movementY:$s}}),En=Nt(as),su=E({},as,{dataTransfer:0}),Dh=Nt(su),os=E({},ss,{relatedTarget:0}),Zs=Nt(os),bo=E({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Js=Nt(bo),au=E({},qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ws=Nt(au),xh=E({},qe,{data:0}),Ao=Nt(xh),ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function So(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=lu[t])?!!i[t]:!1}function us(){return So}var uu=E({},ss,{key:function(t){if(t.key){var i=ls[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Kn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ou[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:us,charCode:function(t){return t.type==="keypress"?Kn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ea=Nt(uu),cu=E({},as,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wo=Nt(cu),Ti=E({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:us}),hu=Nt(Ti),fu=E({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),du=Nt(fu),mu=E({},as,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ta=Nt(mu),Jt=E({},qe,{newState:0,oldState:0}),gu=Nt(Jt),pu=[9,13,27,32],$n=Dn&&"CompositionEvent"in window,c=null;Dn&&"documentMode"in document&&(c=document.documentMode);var g=Dn&&"TextEvent"in window&&!c,v=Dn&&(!$n||c&&8<c&&11>=c),b=" ",U=!1;function H(t,i){switch(t){case"keyup":return pu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ne(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pe=!1;function Tt(t,i){switch(t){case"compositionend":return ne(i);case"keypress":return i.which!==32?null:(U=!0,b);case"textInput":return t=i.data,t===b&&U?null:t;default:return null}}function ke(t,i){if(Pe)return t==="compositionend"||!$n&&H(t,i)?(t=Eo(),Ei=Ji=Qn=null,Pe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Ot={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ot[t.type]:i==="textarea"}function bi(t,i,a,l){vi?_i?_i.push(l):_i=[l]:vi=l,i=nc(i,"onChange"),0<i.length&&(a=new Ys("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var kt=null,Zn=null;function Ro(t){$y(t,0)}function yu(t){var i=Hn(t);if(po(i))return t}function yg(t,i){if(t==="change")return i}var vg=!1;if(Dn){var Vh;if(Dn){var Mh="oninput"in document;if(!Mh){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),Mh=typeof _g.oninput=="function"}Vh=Mh}else Vh=!1;vg=Vh&&(!document.documentMode||9<document.documentMode)}function Eg(){kt&&(kt.detachEvent("onpropertychange",Tg),Zn=kt=null)}function Tg(t){if(t.propertyName==="value"&&yu(Zn)){var i=[];bi(i,Zn,t,vn(t)),iu(Ro,i)}}function tT(t,i,a){t==="focusin"?(Eg(),kt=i,Zn=a,kt.attachEvent("onpropertychange",Tg)):t==="focusout"&&Eg()}function nT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yu(Zn)}function iT(t,i){if(t==="click")return yu(i)}function rT(t,i){if(t==="input"||t==="change")return yu(i)}function sT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var on=typeof Object.is=="function"?Object.is:sT;function Co(t,i){if(on(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!qr.call(i,h)||!on(t[h],i[h]))return!1}return!0}function bg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ag(t,i){var a=bg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=bg(a)}}function Sg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Sg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function wg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Wr(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Wr(t.document)}return i}function Ph(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var aT=Dn&&"documentMode"in document&&11>=document.documentMode,na=null,kh=null,Io=null,Uh=!1;function Rg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Uh||na==null||na!==Wr(l)||(l=na,"selectionStart"in l&&Ph(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Io&&Co(Io,l)||(Io=l,l=nc(kh,"onSelect"),0<l.length&&(i=new Ys("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=na)))}function cs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ia={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionrun:cs("Transition","TransitionRun"),transitionstart:cs("Transition","TransitionStart"),transitioncancel:cs("Transition","TransitionCancel"),transitionend:cs("Transition","TransitionEnd")},Lh={},Cg={};Dn&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function hs(t){if(Lh[t])return Lh[t];if(!ia[t])return t;var i=ia[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Cg)return Lh[t]=i[a];return t}var Ig=hs("animationend"),Ng=hs("animationiteration"),Og=hs("animationstart"),oT=hs("transitionrun"),lT=hs("transitionstart"),uT=hs("transitioncancel"),Dg=hs("transitionend"),xg=new Map,jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jh.push("scrollEnd");function xn(t,i){xg.set(t,i),On(i,[t])}var Vg=new WeakMap;function Tn(t,i){if(typeof t=="object"&&t!==null){var a=Vg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Fs(i)},Vg.set(t,i),i)}return{value:t,source:i,stack:Fs(i)}}var bn=[],ra=0,zh=0;function vu(){for(var t=ra,i=zh=ra=0;i<t;){var a=bn[i];bn[i++]=null;var l=bn[i];bn[i++]=null;var h=bn[i];bn[i++]=null;var d=bn[i];if(bn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Mg(a,h,d)}}function _u(t,i,a,l){bn[ra++]=t,bn[ra++]=i,bn[ra++]=a,bn[ra++]=l,zh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Bh(t,i,a,l){return _u(t,i,a,l),Eu(t)}function sa(t,i){return _u(t,null,null,i),Eu(t)}function Mg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Ht(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Eu(t){if(50<Wo)throw Wo=0,Yf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var aa={};function cT(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,i,a,l){return new cT(t,i,a,l)}function qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ai(t,i){var a=t.alternate;return a===null?(a=ln(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Pg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Tu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")qh(t)&&(_=1);else if(typeof t=="string")_=fb(t,a,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=ln(31,a,i,h),t.elementType=R,t.lanes=d,t;case Y:return fs(a.children,h,d,i);case W:_=8,h|=24;break;case G:return t=ln(12,a,i,h|2),t.elementType=G,t.lanes=d,t;case me:return t=ln(13,a,i,h),t.elementType=me,t.lanes=d,t;case Ne:return t=ln(19,a,i,h),t.elementType=Ne,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ce:case ae:_=10;break e;case oe:_=9;break e;case Ee:_=11;break e;case x:_=14;break e;case S:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=ln(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function fs(t,i,a,l){return t=ln(7,t,l,i),t.lanes=a,t}function Hh(t,i,a){return t=ln(6,t,null,i),t.lanes=a,t}function Gh(t,i,a){return i=ln(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var oa=[],la=0,bu=null,Au=0,An=[],Sn=0,ds=null,Si=1,wi="";function ms(t,i){oa[la++]=Au,oa[la++]=bu,bu=t,Au=i}function kg(t,i,a){An[Sn++]=Si,An[Sn++]=wi,An[Sn++]=ds,ds=t;var l=Si;t=wi;var h=32-Ht(l)-1;l&=~(1<<h),a+=1;var d=32-Ht(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Si=1<<32-Ht(i)+h|a<<h|l,wi=d+t}else Si=1<<d|a<<h|l,wi=t}function Fh(t){t.return!==null&&(ms(t,1),kg(t,1,0))}function Qh(t){for(;t===bu;)bu=oa[--la],oa[la]=null,Au=oa[--la],oa[la]=null;for(;t===ds;)ds=An[--Sn],An[Sn]=null,wi=An[--Sn],An[Sn]=null,Si=An[--Sn],An[Sn]=null}var Wt=null,ot=null,Be=!1,gs=null,Jn=!1,Kh=Error(s(519));function ps(t){var i=Error(s(418,""));throw Do(Tn(i,t)),Kh}function Ug(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Et]=t,i[gt]=l,a){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(a=0;a<tl.length;a++)xe(tl[a],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":xe("invalid",i),es(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Qs(i);break;case"select":xe("invalid",i);break;case"textarea":xe("invalid",i),ts(i,l.value,l.defaultValue,l.children),Qs(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||ev(i.textContent,a)?(l.popover!=null&&(xe("beforetoggle",i),xe("toggle",i)),l.onScroll!=null&&xe("scroll",i),l.onScrollEnd!=null&&xe("scrollend",i),l.onClick!=null&&(i.onclick=ic),i=!0):i=!1,i||ps(t)}function Lg(t){for(Wt=t.return;Wt;)switch(Wt.tag){case 5:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:Wt=Wt.return}}function No(t){if(t!==Wt)return!1;if(!Be)return Lg(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||cd(t.type,t.memoizedProps)),a=!a),a&&ot&&ps(t),Lg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ot=Mn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ot=null}}else i===27?(i=ot,mr(t.type)?(t=md,md=null,ot=t):ot=i):ot=Wt?Mn(t.stateNode.nextSibling):null;return!0}function Oo(){ot=Wt=null,Be=!1}function jg(){var t=gs;return t!==null&&(nn===null?nn=t:nn.push.apply(nn,t),gs=null),t}function Do(t){gs===null?gs=[t]:gs.push(t)}var Yh=J(null),ys=null,Ri=null;function Wi(t,i,a){te(Yh,i._currentValue),i._currentValue=a}function Ci(t){t._currentValue=Yh.current,re(Yh)}function Xh(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function $h(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var w=0;w<i.length;w++)if(T.context===i[w]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Xh(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Xh(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function xo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;on(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===It.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ol):t=[ol])}h=h.return}t!==null&&$h(i,t,a,l),i.flags|=262144}function Su(t){for(t=t.firstContext;t!==null;){if(!on(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function vs(t){ys=t,Ri=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return zg(ys,t)}function wu(t,i){return ys===null&&vs(t),zg(t,i)}function zg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ri===null){if(t===null)throw Error(s(308));Ri=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ri=Ri.next=i;return a}var hT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},fT=r.unstable_scheduleCallback,dT=r.unstable_NormalPriority,At={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zh(){return{controller:new hT,data:new Map,refCount:0}}function Vo(t){t.refCount--,t.refCount===0&&fT(dT,function(){t.controller.abort()})}var Mo=null,Jh=0,ua=0,ca=null;function mT(t,i){if(Mo===null){var a=Mo=[];Jh=0,ua=td(),ca={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Jh++,i.then(Bg,Bg),i}function Bg(){if(--Jh===0&&Mo!==null){ca!==null&&(ca.status="fulfilled");var t=Mo;Mo=null,ua=0,ca=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function gT(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var qg=Q.S;Q.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&mT(t,i),qg!==null&&qg(t,i)};var _s=J(null);function Wh(){var t=_s.current;return t!==null?t:We.pooledCache}function Ru(t,i){i===null?te(_s,_s.current):te(_s,i.pool)}function Hg(){var t=Wh();return t===null?null:{parent:At._currentValue,pool:t}}var Po=Error(s(460)),Gg=Error(s(474)),Cu=Error(s(542)),ef={then:function(){}};function Fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Iu(){}function Qg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Iu,Iu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Yg(t),t;default:if(typeof i.status=="string")i.then(Iu,Iu);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Yg(t),t}throw ko=i,Po}}var ko=null;function Kg(){if(ko===null)throw Error(s(459));var t=ko;return ko=null,t}function Yg(t){if(t===Po||t===Cu)throw Error(s(483))}var er=!1;function tf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function tr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function nr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Eu(t),Mg(t,null,a),i}return _u(t,l,i,a),Eu(t)}function Uo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,co(t,a)}}function rf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var sf=!1;function Lo(){if(sf){var t=ca;if(t!==null)throw t}}function jo(t,i,a,l){sf=!1;var h=t.updateQueue;er=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var w=T,j=w.next;w.next=null,_===null?d=j:_.next=j,_=w;var K=t.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==_&&(T===null?K.firstBaseUpdate=j:T.next=j,K.lastBaseUpdate=w))}if(d!==null){var $=h.baseState;_=0,K=j=w=null,T=d;do{var z=T.lane&-536870913,q=z!==T.lane;if(q?(Ue&z)===z:(l&z)===z){z!==0&&z===ua&&(sf=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Te=t,ye=T;z=i;var $e=a;switch(ye.tag){case 1:if(Te=ye.payload,typeof Te=="function"){$=Te.call($e,$,z);break e}$=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ye.payload,z=typeof Te=="function"?Te.call($e,$,z):Te,z==null)break e;$=E({},$,z);break e;case 2:er=!0}}z=T.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(j=K=q,w=$):K=K.next=q,_|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);K===null&&(w=$),h.baseState=w,h.firstBaseUpdate=j,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),cr|=_,t.lanes=_,t.memoizedState=$}}function Xg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function $g(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Xg(a[t],i)}var ha=J(null),Nu=J(0);function Zg(t,i){t=Mi,te(Nu,t),te(ha,i),Mi=t|i.baseLanes}function af(){te(Nu,Mi),te(ha,ha.current)}function of(){Mi=Nu.current,re(ha),re(Nu)}var ir=0,Ce=null,Ye=null,yt=null,Ou=!1,fa=!1,Es=!1,Du=0,zo=0,da=null,pT=0;function ct(){throw Error(s(321))}function lf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!on(t[a],i[a]))return!1;return!0}function uf(t,i,a,l,h,d){return ir=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?Mp:Pp,Es=!1,d=a(l,h),Es=!1,fa&&(d=Wg(i,a,l,h)),Jg(t),d}function Jg(t){Q.H=Uu;var i=Ye!==null&&Ye.next!==null;if(ir=0,yt=Ye=Ce=null,Ou=!1,zo=0,da=null,i)throw Error(s(300));t===null||Dt||(t=t.dependencies,t!==null&&Su(t)&&(Dt=!0))}function Wg(t,i,a,l){Ce=t;var h=0;do{if(fa&&(da=null),zo=0,fa=!1,25<=h)throw Error(s(301));if(h+=1,yt=Ye=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=AT,d=i(a,l)}while(fa);return d}function yT(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?Bo(i):i,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(Ce.flags|=1024),i}function cf(){var t=Du!==0;return Du=0,t}function hf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function ff(t){if(Ou){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ou=!1}ir=0,yt=Ye=Ce=null,fa=!1,zo=Du=0,da=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ce.memoizedState=yt=t:yt=yt.next=t,yt}function vt(){if(Ye===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var i=yt===null?Ce.memoizedState:yt.next;if(i!==null)yt=i,Ye=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},yt===null?Ce.memoizedState=yt=t:yt=yt.next=t}return yt}function df(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bo(t){var i=zo;return zo+=1,da===null&&(da=[]),t=Qg(da,t,i),i=Ce,(yt===null?i.memoizedState:yt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?Mp:Pp),t}function xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Bo(t);if(t.$$typeof===ae)return Gt(t)}throw Error(s(438,String(t)))}function mf(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=df(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=D;return i.index++,a}function Ii(t,i){return typeof i=="function"?i(t):i}function Vu(t){var i=vt();return gf(i,Ye,t)}function gf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,w=null,j=i,K=!1;do{var $=j.lane&-536870913;if($!==j.lane?(Ue&$)===$:(ir&$)===$){var z=j.revertLane;if(z===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),$===ua&&(K=!0);else if((ir&z)===z){j=j.next,z===ua&&(K=!0);continue}else $={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},w===null?(T=w=$,_=d):w=w.next=$,Ce.lanes|=z,cr|=z;$=j.action,Es&&a(d,$),d=j.hasEagerState?j.eagerState:a(d,$)}else z={lane:$,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},w===null?(T=w=z,_=d):w=w.next=z,Ce.lanes|=$,cr|=$;j=j.next}while(j!==null&&j!==i);if(w===null?_=d:w.next=T,!on(d,t.memoizedState)&&(Dt=!0,K&&(a=ca,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=w,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function pf(t){var i=vt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);on(d,i.memoizedState)||(Dt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ep(t,i,a){var l=Ce,h=vt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!on((Ye||h).memoizedState,a);_&&(h.memoizedState=a,Dt=!0),h=h.queue;var T=ip.bind(null,l,h,t);if(qo(2048,8,T,[t]),h.getSnapshot!==i||_||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,ma(9,Mu(),np.bind(null,l,h,a,i),null),We===null)throw Error(s(349));d||(ir&124)!==0||tp(l,i,a)}return a}function tp(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=df(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function np(t,i,a,l){i.value=a,i.getSnapshot=l,rp(i)&&sp(t)}function ip(t,i,a){return a(function(){rp(i)&&sp(t)})}function rp(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!on(t,a)}catch{return!0}}function sp(t){var i=sa(t,2);i!==null&&dn(i,t,2)}function yf(t){var i=en();if(typeof t=="function"){var a=t;if(t=a(),Es){sn(!0);try{a()}finally{sn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:t},i}function ap(t,i,a,l){return t.baseState=a,gf(t,Ye,typeof l=="function"?l:Ii)}function vT(t,i,a,l,h){if(ku(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,op(i,d)):(d.next=a.next,i.pending=a.next=d)}}function op(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Q.T,_={};Q.T=_;try{var T=a(h,l),w=Q.S;w!==null&&w(_,T),lp(t,i,T)}catch(j){vf(t,i,j)}finally{Q.T=d}}else try{d=a(h,l),lp(t,i,d)}catch(j){vf(t,i,j)}}function lp(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){up(t,i,l)},function(l){return vf(t,i,l)}):up(t,i,a)}function up(t,i,a){i.status="fulfilled",i.value=a,cp(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,op(t,a)))}function vf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,cp(i),i=i.next;while(i!==l)}t.action=null}function cp(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function hp(t,i){return i}function fp(t,i){if(Be){var a=We.formState;if(a!==null){e:{var l=Ce;if(Be){if(ot){t:{for(var h=ot,d=Jn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Mn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ot=Mn(h.nextSibling),l=h.data==="F!";break e}}ps(l)}l=!1}l&&(i=a[0])}}return a=en(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hp,lastRenderedState:i},a.queue=l,a=Dp.bind(null,Ce,l),l.dispatch=a,l=yf(!1),d=Af.bind(null,Ce,!1,l.queue),l=en(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=vT.bind(null,Ce,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function dp(t){var i=vt();return mp(i,Ye,t)}function mp(t,i,a){if(i=gf(t,i,hp)[0],t=Vu(Ii)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Bo(i)}catch(_){throw _===Po?Cu:_}else l=i;i=vt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ce.flags|=2048,ma(9,Mu(),_T.bind(null,h,a),null)),[l,d,t]}function _T(t,i){t.action=i}function gp(t){var i=vt(),a=Ye;if(a!==null)return mp(i,a,t);vt(),i=i.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function ma(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=df(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Mu(){return{destroy:void 0,resource:void 0}}function pp(){return vt().memoizedState}function Pu(t,i,a,l){var h=en();l=l===void 0?null:l,Ce.flags|=t,h.memoizedState=ma(1|i,Mu(),a,l)}function qo(t,i,a,l){var h=vt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ye!==null&&l!==null&&lf(l,Ye.memoizedState.deps)?h.memoizedState=ma(i,d,a,l):(Ce.flags|=t,h.memoizedState=ma(1|i,d,a,l))}function yp(t,i){Pu(8390656,8,t,i)}function vp(t,i){qo(2048,8,t,i)}function _p(t,i){return qo(4,2,t,i)}function Ep(t,i){return qo(4,4,t,i)}function Tp(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function bp(t,i,a){a=a!=null?a.concat([t]):null,qo(4,4,Tp.bind(null,i,t),a)}function _f(){}function Ap(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&lf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Sp(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&lf(i,l[1]))return l[0];if(l=t(),Es){sn(!0);try{t()}finally{sn(!1)}}return a.memoizedState=[l,i],l}function Ef(t,i,a){return a===void 0||(ir&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Cy(),Ce.lanes|=t,cr|=t,a)}function wp(t,i,a,l){return on(a,i)?a:ha.current!==null?(t=Ef(t,a,l),on(t,i)||(Dt=!0),t):(ir&42)===0?(Dt=!0,t.memoizedState=a):(t=Cy(),Ce.lanes|=t,cr|=t,i)}function Rp(t,i,a,l,h){var d=ie.p;ie.p=d!==0&&8>d?d:8;var _=Q.T,T={};Q.T=T,Af(t,!1,i,a);try{var w=h(),j=Q.S;if(j!==null&&j(T,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var K=gT(w,l);Ho(t,i,K,fn(t))}else Ho(t,i,l,fn(t))}catch($){Ho(t,i,{then:function(){},status:"rejected",reason:$},fn())}finally{ie.p=d,Q.T=_}}function ET(){}function Tf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Cp(t).queue;Rp(t,h,i,he,a===null?ET:function(){return Ip(t),a(l)})}function Cp(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:he},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ip(t){var i=Cp(t).next.queue;Ho(t,i,{},fn())}function bf(){return Gt(ol)}function Np(){return vt().memoizedState}function Op(){return vt().memoizedState}function TT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=fn();t=tr(a);var l=nr(i,t,a);l!==null&&(dn(l,i,a),Uo(l,i,a)),i={cache:Zh()},t.payload=i;return}i=i.return}}function bT(t,i,a){var l=fn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ku(t)?xp(i,a):(a=Bh(t,i,a,l),a!==null&&(dn(a,t,l),Vp(a,i,l)))}function Dp(t,i,a){var l=fn();Ho(t,i,a,l)}function Ho(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ku(t))xp(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,on(T,_))return _u(t,i,h,0),We===null&&vu(),!1}catch{}finally{}if(a=Bh(t,i,h,l),a!==null)return dn(a,t,l),Vp(a,i,l),!0}return!1}function Af(t,i,a,l){if(l={lane:2,revertLane:td(),action:l,hasEagerState:!1,eagerState:null,next:null},ku(t)){if(i)throw Error(s(479))}else i=Bh(t,a,l,2),i!==null&&dn(i,t,2)}function ku(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function xp(t,i){fa=Ou=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Vp(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,co(t,a)}}var Uu={readContext:Gt,use:xu,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct},Mp={readContext:Gt,use:xu,useCallback:function(t,i){return en().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:yp,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Pu(4194308,4,Tp.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Pu(4194308,4,t,i)},useInsertionEffect:function(t,i){Pu(4,2,t,i)},useMemo:function(t,i){var a=en();i=i===void 0?null:i;var l=t();if(Es){sn(!0);try{t()}finally{sn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=en();if(a!==void 0){var h=a(i);if(Es){sn(!0);try{a(i)}finally{sn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=bT.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=en();return t={current:t},i.memoizedState=t},useState:function(t){t=yf(t);var i=t.queue,a=Dp.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:_f,useDeferredValue:function(t,i){var a=en();return Ef(a,t,i)},useTransition:function(){var t=yf(!1);return t=Rp.bind(null,Ce,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ce,h=en();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),We===null)throw Error(s(349));(Ue&124)!==0||tp(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,yp(ip.bind(null,l,d,t),[t]),l.flags|=2048,ma(9,Mu(),np.bind(null,l,d,a,i),null),a},useId:function(){var t=en(),i=We.identifierPrefix;if(Be){var a=wi,l=Si;a=(l&~(1<<32-Ht(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Du++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=pT++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:bf,useFormState:fp,useActionState:fp,useOptimistic:function(t){var i=en();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Af.bind(null,Ce,!0,a),a.dispatch=i,[t,i]},useMemoCache:mf,useCacheRefresh:function(){return en().memoizedState=TT.bind(null,Ce)}},Pp={readContext:Gt,use:xu,useCallback:Ap,useContext:Gt,useEffect:vp,useImperativeHandle:bp,useInsertionEffect:_p,useLayoutEffect:Ep,useMemo:Sp,useReducer:Vu,useRef:pp,useState:function(){return Vu(Ii)},useDebugValue:_f,useDeferredValue:function(t,i){var a=vt();return wp(a,Ye.memoizedState,t,i)},useTransition:function(){var t=Vu(Ii)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:Bo(t),i]},useSyncExternalStore:ep,useId:Np,useHostTransitionStatus:bf,useFormState:dp,useActionState:dp,useOptimistic:function(t,i){var a=vt();return ap(a,Ye,t,i)},useMemoCache:mf,useCacheRefresh:Op},AT={readContext:Gt,use:xu,useCallback:Ap,useContext:Gt,useEffect:vp,useImperativeHandle:bp,useInsertionEffect:_p,useLayoutEffect:Ep,useMemo:Sp,useReducer:pf,useRef:pp,useState:function(){return pf(Ii)},useDebugValue:_f,useDeferredValue:function(t,i){var a=vt();return Ye===null?Ef(a,t,i):wp(a,Ye.memoizedState,t,i)},useTransition:function(){var t=pf(Ii)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:Bo(t),i]},useSyncExternalStore:ep,useId:Np,useHostTransitionStatus:bf,useFormState:gp,useActionState:gp,useOptimistic:function(t,i){var a=vt();return Ye!==null?ap(a,Ye,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:mf,useCacheRefresh:Op},ga=null,Go=0;function Lu(t){var i=Go;return Go+=1,ga===null&&(ga=[]),Qg(ga,t,i)}function Fo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ju(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function kp(t){var i=t._init;return i(t._payload)}function Up(t){function i(P,O){if(t){var L=P.deletions;L===null?(P.deletions=[O],P.flags|=16):L.push(O)}}function a(P,O){if(!t)return null;for(;O!==null;)i(P,O),O=O.sibling;return null}function l(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(P,O){return P=Ai(P,O),P.index=0,P.sibling=null,P}function d(P,O,L){return P.index=L,t?(L=P.alternate,L!==null?(L=L.index,L<O?(P.flags|=67108866,O):L):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,O,L,X){return O===null||O.tag!==6?(O=Hh(L,P.mode,X),O.return=P,O):(O=h(O,L),O.return=P,O)}function w(P,O,L,X){var ue=L.type;return ue===Y?K(P,O,L.props.children,X,L.key):O!==null&&(O.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===S&&kp(ue)===O.type)?(O=h(O,L.props),Fo(O,L),O.return=P,O):(O=Tu(L.type,L.key,L.props,null,P.mode,X),Fo(O,L),O.return=P,O)}function j(P,O,L,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=Gh(L,P.mode,X),O.return=P,O):(O=h(O,L.children||[]),O.return=P,O)}function K(P,O,L,X,ue){return O===null||O.tag!==7?(O=fs(L,P.mode,X,ue),O.return=P,O):(O=h(O,L),O.return=P,O)}function $(P,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Hh(""+O,P.mode,L),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case C:return L=Tu(O.type,O.key,O.props,null,P.mode,L),Fo(L,O),L.return=P,L;case B:return O=Gh(O,P.mode,L),O.return=P,O;case S:var X=O._init;return O=X(O._payload),$(P,O,L)}if(et(O)||k(O))return O=fs(O,P.mode,L,null),O.return=P,O;if(typeof O.then=="function")return $(P,Lu(O),L);if(O.$$typeof===ae)return $(P,wu(P,O),L);ju(P,O)}return null}function z(P,O,L,X){var ue=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ue!==null?null:T(P,O,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case C:return L.key===ue?w(P,O,L,X):null;case B:return L.key===ue?j(P,O,L,X):null;case S:return ue=L._init,L=ue(L._payload),z(P,O,L,X)}if(et(L)||k(L))return ue!==null?null:K(P,O,L,X,null);if(typeof L.then=="function")return z(P,O,Lu(L),X);if(L.$$typeof===ae)return z(P,O,wu(P,L),X);ju(P,L)}return null}function q(P,O,L,X,ue){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(L)||null,T(O,P,""+X,ue);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case C:return P=P.get(X.key===null?L:X.key)||null,w(O,P,X,ue);case B:return P=P.get(X.key===null?L:X.key)||null,j(O,P,X,ue);case S:var Oe=X._init;return X=Oe(X._payload),q(P,O,L,X,ue)}if(et(X)||k(X))return P=P.get(L)||null,K(O,P,X,ue,null);if(typeof X.then=="function")return q(P,O,L,Lu(X),ue);if(X.$$typeof===ae)return q(P,O,L,wu(O,X),ue);ju(O,X)}return null}function Te(P,O,L,X){for(var ue=null,Oe=null,fe=O,ve=O=0,Vt=null;fe!==null&&ve<L.length;ve++){fe.index>ve?(Vt=fe,fe=null):Vt=fe.sibling;var ze=z(P,fe,L[ve],X);if(ze===null){fe===null&&(fe=Vt);break}t&&fe&&ze.alternate===null&&i(P,fe),O=d(ze,O,ve),Oe===null?ue=ze:Oe.sibling=ze,Oe=ze,fe=Vt}if(ve===L.length)return a(P,fe),Be&&ms(P,ve),ue;if(fe===null){for(;ve<L.length;ve++)fe=$(P,L[ve],X),fe!==null&&(O=d(fe,O,ve),Oe===null?ue=fe:Oe.sibling=fe,Oe=fe);return Be&&ms(P,ve),ue}for(fe=l(fe);ve<L.length;ve++)Vt=q(fe,P,ve,L[ve],X),Vt!==null&&(t&&Vt.alternate!==null&&fe.delete(Vt.key===null?ve:Vt.key),O=d(Vt,O,ve),Oe===null?ue=Vt:Oe.sibling=Vt,Oe=Vt);return t&&fe.forEach(function(_r){return i(P,_r)}),Be&&ms(P,ve),ue}function ye(P,O,L,X){if(L==null)throw Error(s(151));for(var ue=null,Oe=null,fe=O,ve=O=0,Vt=null,ze=L.next();fe!==null&&!ze.done;ve++,ze=L.next()){fe.index>ve?(Vt=fe,fe=null):Vt=fe.sibling;var _r=z(P,fe,ze.value,X);if(_r===null){fe===null&&(fe=Vt);break}t&&fe&&_r.alternate===null&&i(P,fe),O=d(_r,O,ve),Oe===null?ue=_r:Oe.sibling=_r,Oe=_r,fe=Vt}if(ze.done)return a(P,fe),Be&&ms(P,ve),ue;if(fe===null){for(;!ze.done;ve++,ze=L.next())ze=$(P,ze.value,X),ze!==null&&(O=d(ze,O,ve),Oe===null?ue=ze:Oe.sibling=ze,Oe=ze);return Be&&ms(P,ve),ue}for(fe=l(fe);!ze.done;ve++,ze=L.next())ze=q(fe,P,ve,ze.value,X),ze!==null&&(t&&ze.alternate!==null&&fe.delete(ze.key===null?ve:ze.key),O=d(ze,O,ve),Oe===null?ue=ze:Oe.sibling=ze,Oe=ze);return t&&fe.forEach(function(Sb){return i(P,Sb)}),Be&&ms(P,ve),ue}function $e(P,O,L,X){if(typeof L=="object"&&L!==null&&L.type===Y&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case C:e:{for(var ue=L.key;O!==null;){if(O.key===ue){if(ue=L.type,ue===Y){if(O.tag===7){a(P,O.sibling),X=h(O,L.props.children),X.return=P,P=X;break e}}else if(O.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===S&&kp(ue)===O.type){a(P,O.sibling),X=h(O,L.props),Fo(X,L),X.return=P,P=X;break e}a(P,O);break}else i(P,O);O=O.sibling}L.type===Y?(X=fs(L.props.children,P.mode,X,L.key),X.return=P,P=X):(X=Tu(L.type,L.key,L.props,null,P.mode,X),Fo(X,L),X.return=P,P=X)}return _(P);case B:e:{for(ue=L.key;O!==null;){if(O.key===ue)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(P,O.sibling),X=h(O,L.children||[]),X.return=P,P=X;break e}else{a(P,O);break}else i(P,O);O=O.sibling}X=Gh(L,P.mode,X),X.return=P,P=X}return _(P);case S:return ue=L._init,L=ue(L._payload),$e(P,O,L,X)}if(et(L))return Te(P,O,L,X);if(k(L)){if(ue=k(L),typeof ue!="function")throw Error(s(150));return L=ue.call(L),ye(P,O,L,X)}if(typeof L.then=="function")return $e(P,O,Lu(L),X);if(L.$$typeof===ae)return $e(P,O,wu(P,L),X);ju(P,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(a(P,O.sibling),X=h(O,L),X.return=P,P=X):(a(P,O),X=Hh(L,P.mode,X),X.return=P,P=X),_(P)):a(P,O)}return function(P,O,L,X){try{Go=0;var ue=$e(P,O,L,X);return ga=null,ue}catch(fe){if(fe===Po||fe===Cu)throw fe;var Oe=ln(29,fe,null,P.mode);return Oe.lanes=X,Oe.return=P,Oe}finally{}}}var pa=Up(!0),Lp=Up(!1),wn=J(null),Wn=null;function rr(t){var i=t.alternate;te(St,St.current&1),te(wn,t),Wn===null&&(i===null||ha.current!==null||i.memoizedState!==null)&&(Wn=t)}function jp(t){if(t.tag===22){if(te(St,St.current),te(wn,t),Wn===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Wn=t)}}else sr()}function sr(){te(St,St.current),te(wn,wn.current)}function Ni(t){re(wn),Wn===t&&(Wn=null),re(St)}var St=J(0);function zu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||dd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Sf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var wf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=fn(),h=tr(l);h.payload=i,a!=null&&(h.callback=a),i=nr(t,h,l),i!==null&&(dn(i,t,l),Uo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=fn(),h=tr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=nr(t,h,l),i!==null&&(dn(i,t,l),Uo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=fn(),l=tr(a);l.tag=2,i!=null&&(l.callback=i),i=nr(t,l,a),i!==null&&(dn(i,t,a),Uo(i,t,a))}};function zp(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Co(a,l)||!Co(h,d):!0}function Bp(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&wf.enqueueReplaceState(i,i.state,null)}function Ts(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Bu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function qp(t){Bu(t)}function Hp(t){console.error(t)}function Gp(t){Bu(t)}function qu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Fp(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Rf(t,i,a){return a=tr(a),a.tag=3,a.payload={element:null},a.callback=function(){qu(t,i)},a}function Qp(t){return t=tr(t),t.tag=3,t}function Kp(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Fp(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Fp(i,a,l),typeof h!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function ST(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&xo(i,a,h,!0),a=wn.current,a!==null){switch(a.tag){case 13:return Wn===null?$f():a.alternate===null&&lt===0&&(lt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===ef?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Jf(t,l,h)),!1;case 22:return a.flags|=65536,l===ef?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Jf(t,l,h)),!1}throw Error(s(435,a.tag))}return Jf(t,l,h),$f(),!1}if(Be)return i=wn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Kh&&(t=Error(s(422),{cause:l}),Do(Tn(t,a)))):(l!==Kh&&(i=Error(s(423),{cause:l}),Do(Tn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Tn(l,a),h=Rf(t.stateNode,l,h),rf(t,h),lt!==4&&(lt=2)),!1;var d=Error(s(520),{cause:l});if(d=Tn(d,a),Jo===null?Jo=[d]:Jo.push(d),lt!==4&&(lt=2),i===null)return!0;l=Tn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Rf(a.stateNode,l,t),rf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(hr===null||!hr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Qp(h),Kp(h,t,a,l),rf(a,h),!1}a=a.return}while(a!==null);return!1}var Yp=Error(s(461)),Dt=!1;function Ut(t,i,a,l){i.child=t===null?Lp(i,null,a,l):pa(i,t.child,a,l)}function Xp(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return vs(i),l=uf(t,i,a,_,d,h),T=cf(),t!==null&&!Dt?(hf(t,i,h),Oi(t,i,h)):(Be&&T&&Fh(i),i.flags|=1,Ut(t,i,l,h),i.child)}function $p(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!qh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Zp(t,i,d,l,h)):(t=Tu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Mf(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Co,a(_,l)&&t.ref===i.ref)return Oi(t,i,h)}return i.flags|=1,t=Ai(d,l),t.ref=i.ref,t.return=i,i.child=t}function Zp(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Co(d,l)&&t.ref===i.ref)if(Dt=!1,i.pendingProps=l=d,Mf(t,h))(t.flags&131072)!==0&&(Dt=!0);else return i.lanes=t.lanes,Oi(t,i,h)}return Cf(t,i,a,l,h)}function Jp(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Wp(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ru(i,d!==null?d.cachePool:null),d!==null?Zg(i,d):af(),jp(i);else return i.lanes=i.childLanes=536870912,Wp(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Ru(i,d.cachePool),Zg(i,d),sr(),i.memoizedState=null):(t!==null&&Ru(i,null),af(),sr());return Ut(t,i,h,a),i.child}function Wp(t,i,a,l){var h=Wh();return h=h===null?null:{parent:At._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Ru(i,null),af(),jp(i),t!==null&&xo(t,i,l,!0),null}function Hu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Cf(t,i,a,l,h){return vs(i),a=uf(t,i,a,l,void 0,h),l=cf(),t!==null&&!Dt?(hf(t,i,h),Oi(t,i,h)):(Be&&l&&Fh(i),i.flags|=1,Ut(t,i,a,h),i.child)}function ey(t,i,a,l,h,d){return vs(i),i.updateQueue=null,a=Wg(i,l,a,h),Jg(t),l=cf(),t!==null&&!Dt?(hf(t,i,d),Oi(t,i,d)):(Be&&l&&Fh(i),i.flags|=1,Ut(t,i,a,d),i.child)}function ty(t,i,a,l,h){if(vs(i),i.stateNode===null){var d=aa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Gt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=wf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},tf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Gt(_):aa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Sf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&wf.enqueueReplaceState(d,d.state,null),jo(i,l,d,h),Lo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,w=Ts(a,T);d.props=w;var j=d.context,K=a.contextType;_=aa,typeof K=="object"&&K!==null&&(_=Gt(K));var $=a.getDerivedStateFromProps;K=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||j!==_)&&Bp(i,d,l,_),er=!1;var z=i.memoizedState;d.state=z,jo(i,l,d,h),Lo(),j=i.memoizedState,T||z!==j||er?(typeof $=="function"&&(Sf(i,a,$,l),j=i.memoizedState),(w=er||zp(i,a,w,l,z,j,_))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=_,l=w):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,nf(t,i),_=i.memoizedProps,K=Ts(a,_),d.props=K,$=i.pendingProps,z=d.context,j=a.contextType,w=aa,typeof j=="object"&&j!==null&&(w=Gt(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==$||z!==w)&&Bp(i,d,l,w),er=!1,z=i.memoizedState,d.state=z,jo(i,l,d,h),Lo();var q=i.memoizedState;_!==$||z!==q||er||t!==null&&t.dependencies!==null&&Su(t.dependencies)?(typeof T=="function"&&(Sf(i,a,T,l),q=i.memoizedState),(K=er||zp(i,a,K,l,z,q,w)||t!==null&&t.dependencies!==null&&Su(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,w)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=w,l=K):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Hu(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=pa(i,t.child,null,h),i.child=pa(i,null,a,h)):Ut(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Oi(t,i,h),t}function ny(t,i,a,l){return Oo(),i.flags|=256,Ut(t,i,a,l),i.child}var If={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nf(t){return{baseLanes:t,cachePool:Hg()}}function Of(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Rn),t}function iy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?rr(i):sr(),Be){var T=ot,w;if(w=T){e:{for(w=T,T=Jn;w.nodeType!==8;){if(!T){T=null;break e}if(w=Mn(w.nextSibling),w===null){T=null;break e}}T=w}T!==null?(i.memoizedState={dehydrated:T,treeContext:ds!==null?{id:Si,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},w=ln(18,null,null,0),w.stateNode=T,w.return=i,i.child=w,Wt=i,ot=null,w=!0):w=!1}w||ps(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return dd(T)?i.lanes=32:i.lanes=536870912,null;Ni(i)}return T=l.children,l=l.fallback,h?(sr(),h=i.mode,T=Gu({mode:"hidden",children:T},h),l=fs(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Nf(a),h.childLanes=Of(t,_,a),i.memoizedState=If,l):(rr(i),Df(i,T))}if(w=t.memoizedState,w!==null&&(T=w.dehydrated,T!==null)){if(d)i.flags&256?(rr(i),i.flags&=-257,i=xf(t,i,a)):i.memoizedState!==null?(sr(),i.child=t.child,i.flags|=128,i=null):(sr(),h=l.fallback,T=i.mode,l=Gu({mode:"visible",children:l.children},T),h=fs(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,pa(i,t.child,null,a),l=i.child,l.memoizedState=Nf(a),l.childLanes=Of(t,_,a),i.memoizedState=If,i=h);else if(rr(i),dd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var j=_.dgst;_=j,l=Error(s(419)),l.stack="",l.digest=_,Do({value:l,source:null,stack:null}),i=xf(t,i,a)}else if(Dt||xo(t,i,a,!1),_=(a&t.childLanes)!==0,Dt||_){if(_=We,_!==null&&(l=a&-a,l=(l&42)!==0?1:Qi(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,sa(t,l),dn(_,t,l),Yp;T.data==="$?"||$f(),i=xf(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=w.treeContext,ot=Mn(T.nextSibling),Wt=i,Be=!0,gs=null,Jn=!1,t!==null&&(An[Sn++]=Si,An[Sn++]=wi,An[Sn++]=ds,Si=t.id,wi=t.overflow,ds=i),i=Df(i,l.children),i.flags|=4096);return i}return h?(sr(),h=l.fallback,T=i.mode,w=t.child,j=w.sibling,l=Ai(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,j!==null?h=Ai(j,h):(h=fs(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=Nf(a):(w=T.cachePool,w!==null?(j=At._currentValue,w=w.parent!==j?{parent:j,pool:j}:w):w=Hg(),T={baseLanes:T.baseLanes|a,cachePool:w}),h.memoizedState=T,h.childLanes=Of(t,_,a),i.memoizedState=If,l):(rr(i),a=t.child,t=a.sibling,a=Ai(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Df(t,i){return i=Gu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Gu(t,i){return t=ln(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function xf(t,i,a){return pa(i,t.child,null,a),t=Df(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function ry(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Xh(t.return,i,a)}function Vf(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function sy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ut(t,i,l.children,a),l=St.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ry(t,a,i);else if(t.tag===19)ry(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(te(St,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&zu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Vf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&zu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Vf(i,!0,a,null,d);break;case"together":Vf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Oi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),cr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(xo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ai(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ai(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Mf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Su(t)))}function wT(t,i,a){switch(i.tag){case 3:Je(i,i.stateNode.containerInfo),Wi(i,At,t.memoizedState.cache),Oo();break;case 27:case 5:Fi(i);break;case 4:Je(i,i.stateNode.containerInfo);break;case 10:Wi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(rr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?iy(t,i,a):(rr(i),t=Oi(t,i,a),t!==null?t.sibling:null);rr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(xo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return sy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(St,St.current),l)break;return null;case 22:case 23:return i.lanes=0,Jp(t,i,a);case 24:Wi(i,At,t.memoizedState.cache)}return Oi(t,i,a)}function ay(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Dt=!0;else{if(!Mf(t,a)&&(i.flags&128)===0)return Dt=!1,wT(t,i,a);Dt=(t.flags&131072)!==0}else Dt=!1,Be&&(i.flags&1048576)!==0&&kg(i,Au,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")qh(l)?(t=Ts(l,t),i.tag=1,i=ty(null,i,l,t,a)):(i.tag=0,i=Cf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===Ee){i.tag=11,i=Xp(null,i,l,t,a);break e}else if(h===x){i.tag=14,i=$p(null,i,l,t,a);break e}}throw i=mt(l)||l,Error(s(306,i,""))}}return i;case 0:return Cf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ts(l,i.pendingProps),ty(t,i,l,h,a);case 3:e:{if(Je(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,nf(t,i),jo(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Wi(i,At,l),l!==d.cache&&$h(i,[At],a,!0),Lo(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=ny(t,i,l,a);break e}else if(l!==h){h=Tn(Error(s(424)),i),Do(h),i=ny(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ot=Mn(t.firstChild),Wt=i,Be=!0,gs=null,Jn=!0,a=Lp(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Oo(),l===h){i=Oi(t,i,a);break e}Ut(t,i,l,a)}i=i.child}return i;case 26:return Hu(t,i),t===null?(a=cv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=rc(be.current).createElement(a),l[Et]=i,l[gt]=t,jt(l,a,t),ut(l),i.stateNode=l):i.memoizedState=cv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Fi(i),t===null&&Be&&(l=i.stateNode=ov(i.type,i.pendingProps,be.current),Wt=i,Jn=!0,h=ot,mr(i.type)?(md=h,ot=Mn(l.firstChild)):ot=h),Ut(t,i,i.pendingProps.children,a),Hu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=l=ot)&&(l=WT(l,i.type,i.pendingProps,Jn),l!==null?(i.stateNode=l,Wt=i,ot=Mn(l.firstChild),Jn=!1,h=!0):h=!1),h||ps(i)),Fi(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,cd(h,d)?l=null:_!==null&&cd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=uf(t,i,yT,null,null,a),ol._currentValue=h),Hu(t,i),Ut(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=ot)&&(a=eb(a,i.pendingProps,Jn),a!==null?(i.stateNode=a,Wt=i,ot=null,t=!0):t=!1),t||ps(i)),null;case 13:return iy(t,i,a);case 4:return Je(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=pa(i,null,l,a):Ut(t,i,l,a),i.child;case 11:return Xp(t,i,i.type,i.pendingProps,a);case 7:return Ut(t,i,i.pendingProps,a),i.child;case 8:return Ut(t,i,i.pendingProps.children,a),i.child;case 12:return Ut(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Wi(i,i.type,l.value),Ut(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,vs(i),h=Gt(h),l=l(h),i.flags|=1,Ut(t,i,l,a),i.child;case 14:return $p(t,i,i.type,i.pendingProps,a);case 15:return Zp(t,i,i.type,i.pendingProps,a);case 19:return sy(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=Gu(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ai(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Jp(t,i,a);case 24:return vs(i),l=Gt(At),t===null?(h=Wh(),h===null&&(h=We,d=Zh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},tf(i),Wi(i,At,h)):((t.lanes&a)!==0&&(nf(t,i),jo(i,null,null,a),Lo()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Wi(i,At,l)):(l=d.cache,Wi(i,At,l),l!==h.cache&&$h(i,[At],a,!0))),Ut(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Di(t){t.flags|=4}function oy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!gv(i)){if(i=wn.current,i!==null&&((Ue&4194048)===Ue?Wn!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||i!==Wn))throw ko=ef,Gg;t.flags|=8192}}function Fu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?lo():536870912,t.lanes|=i,Ea|=i)}function Qo(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function RT(t,i,a){var l=i.pendingProps;switch(Qh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ci(At),zn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(No(i)?Di(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,jg())),rt(i),null;case 26:return a=i.memoizedState,t===null?(Di(i),a!==null?(rt(i),oy(i,a)):(rt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Di(i),rt(i),oy(i,a)):(rt(i),i.flags&=-16777217):(t.memoizedProps!==l&&Di(i),rt(i),i.flags&=-16777217),null;case 27:ci(i),a=be.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Di(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=de.current,No(i)?Ug(i):(t=ov(h,l,a),i.stateNode=t,Di(i))}return rt(i),null;case 5:if(ci(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Di(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(t=de.current,No(i))Ug(i);else{switch(h=rc(be.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Et]=i,t[gt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(jt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Di(i)}}return rt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Di(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=be.current,No(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Wt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ev(t.nodeValue,a)),t||ps(i)}else t=rc(t).createTextNode(l),t[Et]=i,i.stateNode=t}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=No(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Et]=i}else Oo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else h=jg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ni(i),i):(Ni(i),null)}if(Ni(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Fu(i,i.updateQueue),rt(i),null;case 4:return zn(),t===null&&sd(i.stateNode.containerInfo),rt(i),null;case 10:return Ci(i.type),rt(i),null;case 19:if(re(St),h=i.memoizedState,h===null)return rt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Qo(h,!1);else{if(lt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=zu(t),d!==null){for(i.flags|=128,Qo(h,!1),t=d.updateQueue,i.updateQueue=t,Fu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Pg(a,t),a=a.sibling;return te(St,St.current&1|2),i.child}t=t.sibling}h.tail!==null&&gn()>Yu&&(i.flags|=128,l=!0,Qo(h,!1),i.lanes=4194304)}else{if(!l)if(t=zu(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Fu(i,t),Qo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return rt(i),null}else 2*gn()-h.renderingStartTime>Yu&&a!==536870912&&(i.flags|=128,l=!0,Qo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=gn(),i.sibling=null,t=St.current,te(St,l?t&1|2:t&1),i):(rt(i),null);case 22:case 23:return Ni(i),of(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&Fu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&re(_s),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ci(At),rt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function CT(t,i){switch(Qh(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ci(At),zn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ci(i),null;case 13:if(Ni(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Oo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return re(St),null;case 4:return zn(),null;case 10:return Ci(i.type),null;case 22:case 23:return Ni(i),of(),t!==null&&re(_s),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ci(At),null;case 25:return null;default:return null}}function ly(t,i){switch(Qh(i),i.tag){case 3:Ci(At),zn();break;case 26:case 27:case 5:ci(i);break;case 4:zn();break;case 13:Ni(i);break;case 19:re(St);break;case 10:Ci(i.type);break;case 22:case 23:Ni(i),of(),t!==null&&re(_s);break;case 24:Ci(At)}}function Ko(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Ze(i,i.return,T)}}function ar(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var w=a,j=T;try{j()}catch(K){Ze(h,w,K)}}}l=l.next}while(l!==d)}}catch(K){Ze(i,i.return,K)}}function uy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{$g(i,a)}catch(l){Ze(t,t.return,l)}}}function cy(t,i,a){a.props=Ts(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,i,l)}}function Yo(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,i,h)}}function ei(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,i,h)}else a.current=null}function hy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function Pf(t,i,a){try{var l=t.stateNode;YT(l,t.type,a,i),l[gt]=i}catch(h){Ze(t,t.return,h)}}function fy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&mr(t.type)||t.tag===4}function kf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&mr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ic));else if(l!==4&&(l===27&&mr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Uf(t,i,a),t=t.sibling;t!==null;)Uf(t,i,a),t=t.sibling}function Qu(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&mr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Qu(t,i,a),t=t.sibling;t!==null;)Qu(t,i,a),t=t.sibling}function dy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);jt(i,l,a),i[Et]=t,i[gt]=a}catch(d){Ze(t,t.return,d)}}var xi=!1,ht=!1,Lf=!1,my=typeof WeakSet=="function"?WeakSet:Set,xt=null;function IT(t,i){if(t=t.containerInfo,ld=cc,t=wg(t),Ph(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,w=-1,j=0,K=0,$=t,z=null;t:for(;;){for(var q;$!==a||h!==0&&$.nodeType!==3||(T=_+h),$!==d||l!==0&&$.nodeType!==3||(w=_+l),$.nodeType===3&&(_+=$.nodeValue.length),(q=$.firstChild)!==null;)z=$,$=q;for(;;){if($===t)break t;if(z===a&&++j===h&&(T=_),z===d&&++K===l&&(w=_),(q=$.nextSibling)!==null)break;$=z,z=$.parentNode}$=q}a=T===-1||w===-1?null:{start:T,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(ud={focusedElem:t,selectionRange:a},cc=!1,xt=i;xt!==null;)if(i=xt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,xt=t;else for(;xt!==null;){switch(i=xt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=Ts(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Ze(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)fd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":fd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,xt=t;break}xt=i.return}}function gy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:or(t,a),l&4&&Ko(5,a);break;case 1:if(or(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ze(a,a.return,_)}else{var h=Ts(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ze(a,a.return,_)}}l&64&&uy(a),l&512&&Yo(a,a.return);break;case 3:if(or(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{$g(t,i)}catch(_){Ze(a,a.return,_)}}break;case 27:i===null&&l&4&&dy(a);case 26:case 5:or(t,a),i===null&&l&4&&hy(a),l&512&&Yo(a,a.return);break;case 12:or(t,a);break;case 13:or(t,a),l&4&&vy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=UT.bind(null,a),tb(t,a))));break;case 22:if(l=a.memoizedState!==null||xi,!l){i=i!==null&&i.memoizedState!==null||ht,h=xi;var d=ht;xi=l,(ht=i)&&!d?lr(t,a,(a.subtreeFlags&8772)!==0):or(t,a),xi=h,ht=d}break;case 30:break;default:or(t,a)}}function py(t){var i=t.alternate;i!==null&&(t.alternate=null,py(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Xi(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var nt=null,tn=!1;function Vi(t,i,a){for(a=a.child;a!==null;)yy(t,i,a),a=a.sibling}function yy(t,i,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(at,a)}catch{}switch(a.tag){case 26:ht||ei(a,i),Vi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ht||ei(a,i);var l=nt,h=tn;mr(a.type)&&(nt=a.stateNode,tn=!1),Vi(t,i,a),il(a.stateNode),nt=l,tn=h;break;case 5:ht||ei(a,i);case 6:if(l=nt,h=tn,nt=null,Vi(t,i,a),nt=l,tn=h,nt!==null)if(tn)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(a.stateNode)}catch(d){Ze(a,i,d)}else try{nt.removeChild(a.stateNode)}catch(d){Ze(a,i,d)}break;case 18:nt!==null&&(tn?(t=nt,sv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),hl(t)):sv(nt,a.stateNode));break;case 4:l=nt,h=tn,nt=a.stateNode.containerInfo,tn=!0,Vi(t,i,a),nt=l,tn=h;break;case 0:case 11:case 14:case 15:ht||ar(2,a,i),ht||ar(4,a,i),Vi(t,i,a);break;case 1:ht||(ei(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&cy(a,i,l)),Vi(t,i,a);break;case 21:Vi(t,i,a);break;case 22:ht=(l=ht)||a.memoizedState!==null,Vi(t,i,a),ht=l;break;default:Vi(t,i,a)}}function vy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{hl(t)}catch(a){Ze(i,i.return,a)}}function NT(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new my),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new my),i;default:throw Error(s(435,t.tag))}}function jf(t,i){var a=NT(t);i.forEach(function(l){var h=LT.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function un(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(mr(T.type)){nt=T.stateNode,tn=!1;break e}break;case 5:nt=T.stateNode,tn=!1;break e;case 3:case 4:nt=T.stateNode.containerInfo,tn=!0;break e}T=T.return}if(nt===null)throw Error(s(160));yy(d,_,h),nt=null,tn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)_y(i,t),i=i.sibling}var Vn=null;function _y(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(i,t),cn(t),l&4&&(ar(3,t,t.return),Ko(3,t),ar(5,t,t.return));break;case 1:un(i,t),cn(t),l&512&&(ht||a===null||ei(a,a.return)),l&64&&xi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Vn;if(un(i,t),cn(t),l&512&&(ht||a===null||ei(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[$r]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),jt(d,l,a),d[Et]=t,ut(d),l=d;break e;case"link":var _=dv("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),jt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=dv("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),jt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Et]=t,ut(d),l=d}t.stateNode=l}else mv(h,t.type,t.stateNode);else t.stateNode=fv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?mv(h,t.type,t.stateNode):fv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Pf(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(i,t),cn(t),l&512&&(ht||a===null||ei(a,a.return)),a!==null&&l&4&&Pf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(i,t),cn(t),l&512&&(ht||a===null||ei(a,a.return)),t.flags&32){h=t.stateNode;try{yn(h,"")}catch(q){Ze(t,t.return,q)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Pf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Lf=!0);break;case 6:if(un(i,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(q){Ze(t,t.return,q)}}break;case 3:if(oc=null,h=Vn,Vn=sc(i.containerInfo),un(i,t),Vn=h,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{hl(i.containerInfo)}catch(q){Ze(t,t.return,q)}Lf&&(Lf=!1,Ey(t));break;case 4:l=Vn,Vn=sc(t.stateNode.containerInfo),un(i,t),cn(t),Vn=l;break;case 12:un(i,t),cn(t);break;case 13:un(i,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ff=gn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jf(t,l)));break;case 22:h=t.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,j=xi,K=ht;if(xi=j||h,ht=K||w,un(i,t),ht=K,xi=j,cn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||w||xi||ht||bs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){w=a=i;try{if(d=w.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=w.stateNode;var $=w.memoizedProps.style,z=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(q){Ze(w,w.return,q)}}}else if(i.tag===6){if(a===null){w=i;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(q){Ze(w,w.return,q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,jf(t,a))));break;case 19:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jf(t,l)));break;case 30:break;case 21:break;default:un(i,t),cn(t)}}function cn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(fy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=kf(t);Qu(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(yn(_,""),a.flags&=-33);var T=kf(t);Qu(t,T,_);break;case 3:case 4:var w=a.stateNode.containerInfo,j=kf(t);Uf(t,j,w);break;default:throw Error(s(161))}}catch(K){Ze(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ey(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ey(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function or(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)gy(t,i.alternate,i),i=i.sibling}function bs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ar(4,i,i.return),bs(i);break;case 1:ei(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&cy(i,i.return,a),bs(i);break;case 27:il(i.stateNode);case 26:case 5:ei(i,i.return),bs(i);break;case 22:i.memoizedState===null&&bs(i);break;case 30:bs(i);break;default:bs(i)}t=t.sibling}}function lr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:lr(h,d,a),Ko(4,d);break;case 1:if(lr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Ze(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)Xg(w[h],T)}catch(j){Ze(l,l.return,j)}}a&&_&64&&uy(d),Yo(d,d.return);break;case 27:dy(d);case 26:case 5:lr(h,d,a),a&&l===null&&_&4&&hy(d),Yo(d,d.return);break;case 12:lr(h,d,a);break;case 13:lr(h,d,a),a&&_&4&&vy(h,d);break;case 22:d.memoizedState===null&&lr(h,d,a),Yo(d,d.return);break;case 30:break;default:lr(h,d,a)}i=i.sibling}}function zf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Vo(a))}function Bf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Vo(t))}function ti(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ty(t,i,a,l),i=i.sibling}function Ty(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ti(t,i,a,l),h&2048&&Ko(9,i);break;case 1:ti(t,i,a,l);break;case 3:ti(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Vo(t)));break;case 12:if(h&2048){ti(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Ze(i,i.return,w)}}else ti(t,i,a,l);break;case 13:ti(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ti(t,i,a,l):Xo(t,i):d._visibility&2?ti(t,i,a,l):(d._visibility|=2,ya(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&zf(_,i);break;case 24:ti(t,i,a,l),h&2048&&Bf(i.alternate,i);break;default:ti(t,i,a,l)}}function ya(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,_=i,T=a,w=l,j=_.flags;switch(_.tag){case 0:case 11:case 15:ya(d,_,T,w,h),Ko(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?ya(d,_,T,w,h):Xo(d,_):(K._visibility|=2,ya(d,_,T,w,h)),h&&j&2048&&zf(_.alternate,_);break;case 24:ya(d,_,T,w,h),h&&j&2048&&Bf(_.alternate,_);break;default:ya(d,_,T,w,h)}i=i.sibling}}function Xo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Xo(a,l),h&2048&&zf(l.alternate,l);break;case 24:Xo(a,l),h&2048&&Bf(l.alternate,l);break;default:Xo(a,l)}i=i.sibling}}var $o=8192;function va(t){if(t.subtreeFlags&$o)for(t=t.child;t!==null;)by(t),t=t.sibling}function by(t){switch(t.tag){case 26:va(t),t.flags&$o&&t.memoizedState!==null&&mb(Vn,t.memoizedState,t.memoizedProps);break;case 5:va(t);break;case 3:case 4:var i=Vn;Vn=sc(t.stateNode.containerInfo),va(t),Vn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=$o,$o=16777216,va(t),$o=i):va(t));break;default:va(t)}}function Ay(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Zo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];xt=l,wy(l,t)}Ay(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sy(t),t=t.sibling}function Sy(t){switch(t.tag){case 0:case 11:case 15:Zo(t),t.flags&2048&&ar(9,t,t.return);break;case 3:Zo(t);break;case 12:Zo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ku(t)):Zo(t);break;default:Zo(t)}}function Ku(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];xt=l,wy(l,t)}Ay(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ar(8,i,i.return),Ku(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ku(i));break;default:Ku(i)}t=t.sibling}}function wy(t,i){for(;xt!==null;){var a=xt;switch(a.tag){case 0:case 11:case 15:ar(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Vo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,xt=l;else e:for(a=t;xt!==null;){l=xt;var h=l.sibling,d=l.return;if(py(l),l===a){xt=null;break e}if(h!==null){h.return=d,xt=h;break e}xt=d}}}var OT={getCacheForType:function(t){var i=Gt(At),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},DT=typeof WeakMap=="function"?WeakMap:Map,Fe=0,We=null,De=null,Ue=0,Qe=0,hn=null,ur=!1,_a=!1,qf=!1,Mi=0,lt=0,cr=0,As=0,Hf=0,Rn=0,Ea=0,Jo=null,nn=null,Gf=!1,Ff=0,Yu=1/0,Xu=null,hr=null,Lt=0,fr=null,Ta=null,ba=0,Qf=0,Kf=null,Ry=null,Wo=0,Yf=null;function fn(){if((Fe&2)!==0&&Ue!==0)return Ue&-Ue;if(Q.T!==null){var t=ua;return t!==0?t:td()}return Ki()}function Cy(){Rn===0&&(Rn=(Ue&536870912)===0||Be?oo():536870912);var t=wn.current;return t!==null&&(t.flags|=32),Rn}function dn(t,i,a){(t===We&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(Aa(t,0),dr(t,Ue,Rn,!1)),fi(t,a),((Fe&2)===0||t!==We)&&(t===We&&((Fe&2)===0&&(As|=a),lt===4&&dr(t,Ue,Rn,!1)),ni(t))}function Iy(t,i,a){if((Fe&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||Xr(t,i),h=l?MT(t,i):Zf(t,i,!0),d=l;do{if(h===0){_a&&!l&&dr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!xT(a)){h=Zf(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=Jo;var w=T.current.memoizedState.isDehydrated;if(w&&(Aa(T,_).flags|=256),_=Zf(T,_,!1),_!==2){if(qf&&!w){T.errorRecoveryDisabledLanes|=d,As|=d,h=4;break e}d=nn,nn=h,d!==null&&(nn===null?nn=d:nn.push.apply(nn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Aa(t,0),dr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:dr(l,i,Rn,!ur);break e;case 2:nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ff+300-gn(),10<h)){if(dr(l,i,Rn,!ur),zs(l,0,!0)!==0)break e;l.timeoutHandle=iv(Ny.bind(null,l,a,nn,Xu,Gf,i,Rn,As,Ea,ur,d,2,-0,0),h);break e}Ny(l,a,nn,Xu,Gf,i,Rn,As,Ea,ur,d,0,-0,0)}}break}while(!0);ni(t)}function Ny(t,i,a,l,h,d,_,T,w,j,K,$,z,q){if(t.timeoutHandle=-1,$=i.subtreeFlags,($&8192||($&16785408)===16785408)&&(al={stylesheets:null,count:0,unsuspend:db},by(i),$=gb(),$!==null)){t.cancelPendingCommit=$(ky.bind(null,t,i,d,a,l,h,_,T,w,K,1,z,q)),dr(t,d,_,!j);return}ky(t,i,d,a,l,h,_,T,w)}function xT(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!on(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function dr(t,i,a,l){i&=~Hf,i&=~As,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Ht(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Bn(t,a,i)}function $u(){return(Fe&6)===0?(el(0),!1):!0}function Xf(){if(De!==null){if(Qe===0)var t=De.return;else t=De,Ri=ys=null,ff(t),ga=null,Go=0,t=De;for(;t!==null;)ly(t.alternate,t),t=t.return;De=null}}function Aa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,$T(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Xf(),We=t,De=a=Ai(t.current,null),Ue=i,Qe=0,hn=null,ur=!1,_a=Xr(t,i),qf=!1,Ea=Rn=Hf=As=cr=lt=0,nn=Jo=null,Gf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Ht(l),d=1<<h;i|=t[h],l&=~d}return Mi=i,vu(),a}function Oy(t,i){Ce=null,Q.H=Uu,i===Po||i===Cu?(i=Kg(),Qe=3):i===Gg?(i=Kg(),Qe=4):Qe=i===Yp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,hn=i,De===null&&(lt=1,qu(t,Tn(i,t.current)))}function Dy(){var t=Q.H;return Q.H=Uu,t===null?Uu:t}function xy(){var t=Q.A;return Q.A=OT,t}function $f(){lt=4,ur||(Ue&4194048)!==Ue&&wn.current!==null||(_a=!0),(cr&134217727)===0&&(As&134217727)===0||We===null||dr(We,Ue,Rn,!1)}function Zf(t,i,a){var l=Fe;Fe|=2;var h=Dy(),d=xy();(We!==t||Ue!==i)&&(Xu=null,Aa(t,i)),i=!1;var _=lt;e:do try{if(Qe!==0&&De!==null){var T=De,w=hn;switch(Qe){case 8:Xf(),_=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(i=!0);var j=Qe;if(Qe=0,hn=null,Sa(t,T,w,j),a&&_a){_=0;break e}break;default:j=Qe,Qe=0,hn=null,Sa(t,T,w,j)}}VT(),_=lt;break}catch(K){Oy(t,K)}while(!0);return i&&t.shellSuspendCounter++,Ri=ys=null,Fe=l,Q.H=h,Q.A=d,De===null&&(We=null,Ue=0,vu()),_}function VT(){for(;De!==null;)Vy(De)}function MT(t,i){var a=Fe;Fe|=2;var l=Dy(),h=xy();We!==t||Ue!==i?(Xu=null,Yu=gn()+500,Aa(t,i)):_a=Xr(t,i);e:do try{if(Qe!==0&&De!==null){i=De;var d=hn;t:switch(Qe){case 1:Qe=0,hn=null,Sa(t,i,d,1);break;case 2:case 9:if(Fg(d)){Qe=0,hn=null,My(i);break}i=function(){Qe!==2&&Qe!==9||We!==t||(Qe=7),ni(t)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Fg(d)?(Qe=0,hn=null,My(i)):(Qe=0,hn=null,Sa(t,i,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var T=De;if(!_||gv(_)){Qe=0,hn=null;var w=T.sibling;if(w!==null)De=w;else{var j=T.return;j!==null?(De=j,Zu(j)):De=null}break t}}Qe=0,hn=null,Sa(t,i,d,5);break;case 6:Qe=0,hn=null,Sa(t,i,d,6);break;case 8:Xf(),lt=6;break e;default:throw Error(s(462))}}PT();break}catch(K){Oy(t,K)}while(!0);return Ri=ys=null,Q.H=l,Q.A=h,Fe=a,De!==null?0:(We=null,Ue=0,vu(),lt)}function PT(){for(;De!==null&&!io();)Vy(De)}function Vy(t){var i=ay(t.alternate,t,Mi);t.memoizedProps=t.pendingProps,i===null?Zu(t):De=i}function My(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=ey(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=ey(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:ff(i);default:ly(a,i),i=De=Pg(i,Mi),i=ay(a,i,Mi)}t.memoizedProps=t.pendingProps,i===null?Zu(t):De=i}function Sa(t,i,a,l){Ri=ys=null,ff(i),ga=null,Go=0;var h=i.return;try{if(ST(t,h,i,a,Ue)){lt=1,qu(t,Tn(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;lt=1,qu(t,Tn(a,t.current)),De=null;return}i.flags&32768?(Be||l===1?t=!0:_a||(Ue&536870912)!==0?t=!1:(ur=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Py(i,t)):Zu(i)}function Zu(t){var i=t;do{if((i.flags&32768)!==0){Py(i,ur);return}t=i.return;var a=RT(i.alternate,i,Mi);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);lt===0&&(lt=5)}function Py(t,i){do{var a=CT(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);lt=6,De=null}function ky(t,i,a,l,h,d,_,T,w){t.cancelPendingCommit=null;do Ju();while(Lt!==0);if((Fe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=zh,uo(t,a,d,_,T,w),t===We&&(De=We=null,Ue=0),Ta=i,fr=t,ba=a,Qf=d,Kf=h,Ry=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,jT(Fr,function(){return By(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=ie.p,ie.p=2,_=Fe,Fe|=4;try{IT(t,i,a)}finally{Fe=_,ie.p=h,Q.T=l}}Lt=1,Uy(),Ly(),jy()}}function Uy(){if(Lt===1){Lt=0;var t=fr,i=Ta,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=ie.p;ie.p=2;var h=Fe;Fe|=4;try{_y(i,t);var d=ud,_=wg(t.containerInfo),T=d.focusedElem,w=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Sg(T.ownerDocument.documentElement,T)){if(w!==null&&Ph(T)){var j=w.start,K=w.end;if(K===void 0&&(K=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(K,T.value.length);else{var $=T.ownerDocument||document,z=$&&$.defaultView||window;if(z.getSelection){var q=z.getSelection(),Te=T.textContent.length,ye=Math.min(w.start,Te),$e=w.end===void 0?ye:Math.min(w.end,Te);!q.extend&&ye>$e&&(_=$e,$e=ye,ye=_);var P=Ag(T,ye),O=Ag(T,$e);if(P&&O&&(q.rangeCount!==1||q.anchorNode!==P.node||q.anchorOffset!==P.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var L=$.createRange();L.setStart(P.node,P.offset),q.removeAllRanges(),ye>$e?(q.addRange(L),q.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),q.addRange(L))}}}}for($=[],q=T;q=q.parentNode;)q.nodeType===1&&$.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var X=$[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}cc=!!ld,ud=ld=null}finally{Fe=h,ie.p=l,Q.T=a}}t.current=i,Lt=2}}function Ly(){if(Lt===2){Lt=0;var t=fr,i=Ta,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=ie.p;ie.p=2;var h=Fe;Fe|=4;try{gy(t,i.alternate,i)}finally{Fe=h,ie.p=l,Q.T=a}}Lt=3}}function jy(){if(Lt===4||Lt===3){Lt=0,Kl();var t=fr,i=Ta,a=ba,l=Ry;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Lt=5:(Lt=0,Ta=fr=null,zy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(hr=null),Bs(a),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(at,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=ie.p,ie.p=2,Q.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{Q.T=i,ie.p=h}}(ba&3)!==0&&Ju(),ni(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Yf?Wo++:(Wo=0,Yf=t):Wo=0,el(0)}}function zy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Vo(i)))}function Ju(t){return Uy(),Ly(),jy(),By()}function By(){if(Lt!==5)return!1;var t=fr,i=Qf;Qf=0;var a=Bs(ba),l=Q.T,h=ie.p;try{ie.p=32>a?32:a,Q.T=null,a=Kf,Kf=null;var d=fr,_=ba;if(Lt=0,Ta=fr=null,ba=0,(Fe&6)!==0)throw Error(s(331));var T=Fe;if(Fe|=4,Sy(d.current),Ty(d,d.current,_,a),Fe=T,el(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(at,d)}catch{}return!0}finally{ie.p=h,Q.T=l,zy(t,i)}}function qy(t,i,a){i=Tn(a,i),i=Rf(t.stateNode,i,2),t=nr(t,i,2),t!==null&&(fi(t,2),ni(t))}function Ze(t,i,a){if(t.tag===3)qy(t,t,a);else for(;i!==null;){if(i.tag===3){qy(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hr===null||!hr.has(l))){t=Tn(a,t),a=Qp(2),l=nr(i,a,2),l!==null&&(Kp(a,l,i,t),fi(l,2),ni(l));break}}i=i.return}}function Jf(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new DT;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(qf=!0,h.add(a),t=kT.bind(null,t,i,a),i.then(t,t))}function kT(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,We===t&&(Ue&a)===a&&(lt===4||lt===3&&(Ue&62914560)===Ue&&300>gn()-Ff?(Fe&2)===0&&Aa(t,0):Hf|=a,Ea===Ue&&(Ea=0)),ni(t)}function Hy(t,i){i===0&&(i=lo()),t=sa(t,i),t!==null&&(fi(t,i),ni(t))}function UT(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Hy(t,a)}function LT(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Hy(t,a)}function jT(t,i){return Hr(t,i)}var Wu=null,wa=null,Wf=!1,ec=!1,ed=!1,Ss=0;function ni(t){t!==wa&&t.next===null&&(wa===null?Wu=wa=t:wa=wa.next=t),ec=!0,Wf||(Wf=!0,BT())}function el(t,i){if(!ed&&ec){ed=!0;do for(var a=!1,l=Wu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Ht(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Ky(l,d))}else d=Ue,d=zs(l,l===We?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Xr(l,d)||(a=!0,Ky(l,d));l=l.next}while(a);ed=!1}}function zT(){Gy()}function Gy(){ec=Wf=!1;var t=0;Ss!==0&&(XT()&&(t=Ss),Ss=0);for(var i=gn(),a=null,l=Wu;l!==null;){var h=l.next,d=Fy(l,i);d===0?(l.next=null,a===null?Wu=h:a.next=h,h===null&&(wa=a)):(a=l,(t!==0||(d&3)!==0)&&(ec=!0)),l=h}el(t)}function Fy(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Ht(d),T=1<<_,w=h[_];w===-1?((T&a)===0||(T&l)!==0)&&(h[_]=ao(T,i)):w<=i&&(t.expiredLanes|=T),d&=~T}if(i=We,a=Ue,a=zs(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Gr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Xr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Gr(l),Bs(a)){case 2:case 8:a=Ls;break;case 32:a=Fr;break;case 268435456:a=js;break;default:a=Fr}return l=Qy.bind(null,t),a=Hr(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Gr(l),t.callbackPriority=2,t.callbackNode=null,2}function Qy(t,i){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ju()&&t.callbackNode!==a)return null;var l=Ue;return l=zs(t,t===We?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Iy(t,l,i),Fy(t,gn()),t.callbackNode!=null&&t.callbackNode===a?Qy.bind(null,t):null)}function Ky(t,i){if(Ju())return null;Iy(t,i,!0)}function BT(){ZT(function(){(Fe&6)!==0?Hr(ro,zT):Gy()})}function td(){return Ss===0&&(Ss=oo()),Ss}function Yy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ks(""+t)}function Xy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function qT(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Yy((h[gt]||null).action),_=l.submitter;_&&(i=(i=_[gt]||null)?Yy(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new Ys("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ss!==0){var w=_?Xy(h,_):new FormData(h);Tf(a,{pending:!0,data:w,method:h.method,action:d},null,w)}}else typeof d=="function"&&(T.preventDefault(),w=_?Xy(h,_):new FormData(h),Tf(a,{pending:!0,data:w,method:h.method,action:d},d,w))},currentTarget:h}]})}}for(var nd=0;nd<jh.length;nd++){var id=jh[nd],HT=id.toLowerCase(),GT=id[0].toUpperCase()+id.slice(1);xn(HT,"on"+GT)}xn(Ig,"onAnimationEnd"),xn(Ng,"onAnimationIteration"),xn(Og,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(oT,"onTransitionRun"),xn(lT,"onTransitionStart"),xn(uT,"onTransitionCancel"),xn(Dg,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),On("onBeforeInput",["compositionend","keypress","textInput","paste"]),On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tl));function $y(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],w=T.instance,j=T.currentTarget;if(T=T.listener,w!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch(K){Bu(K)}h.currentTarget=null,d=w}else for(_=0;_<l.length;_++){if(T=l[_],w=T.instance,j=T.currentTarget,T=T.listener,w!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch(K){Bu(K)}h.currentTarget=null,d=w}}}}function xe(t,i){var a=i[ho];a===void 0&&(a=i[ho]=new Set);var l=t+"__bubble";a.has(l)||(Zy(i,t,2,!1),a.add(l))}function rd(t,i,a){var l=0;i&&(l|=4),Zy(a,t,l,i)}var tc="_reactListening"+Math.random().toString(36).slice(2);function sd(t){if(!t[tc]){t[tc]=!0,fo.forEach(function(a){a!=="selectionchange"&&(FT.has(a)||rd(a,!1,t),rd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[tc]||(i[tc]=!0,rd("selectionchange",!1,i))}}function Zy(t,i,a,l){switch(Tv(i)){case 2:var h=vb;break;case 8:h=_b;break;default:h=_d}a=h.bind(null,i,a,t),h=void 0,!_n||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function ad(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var w=_.tag;if((w===3||w===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=di(T),_===null)return;if(w=_.tag,w===5||w===6||w===26||w===27){l=d=_;continue e}T=T.parentNode}}l=l.return}iu(function(){var j=d,K=vn(a),$=[];e:{var z=xg.get(t);if(z!==void 0){var q=Ys,Te=t;switch(t){case"keypress":if(Kn(a)===0)break e;case"keydown":case"keyup":q=ea;break;case"focusin":Te="focus",q=Zs;break;case"focusout":Te="blur",q=Zs;break;case"beforeblur":case"afterblur":q=Zs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Dh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=hu;break;case Ig:case Ng:case Og:q=Js;break;case Dg:q=du;break;case"scroll":case"scrollend":q=ru;break;case"wheel":q=ta;break;case"copy":case"cut":case"paste":q=Ws;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=wo;break;case"toggle":case"beforetoggle":q=gu}var ye=(i&4)!==0,$e=!ye&&(t==="scroll"||t==="scrollend"),P=ye?z!==null?z+"Capture":null:z;ye=[];for(var O=j,L;O!==null;){var X=O;if(L=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||L===null||P===null||(X=is(O,P),X!=null&&ye.push(nl(O,X,L))),$e)break;O=O.return}0<ye.length&&(z=new q(z,Te,null,a,K),$.push({event:z,listeners:ye}))}}if((i&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&a!==yi&&(Te=a.relatedTarget||a.fromElement)&&(di(Te)||Te[pn]))break e;if((q||z)&&(z=K.window===K?K:(z=K.ownerDocument)?z.defaultView||z.parentWindow:window,q?(Te=a.relatedTarget||a.toElement,q=j,Te=Te?di(Te):null,Te!==null&&($e=u(Te),ye=Te.tag,Te!==$e||ye!==5&&ye!==27&&ye!==6)&&(Te=null)):(q=null,Te=j),q!==Te)){if(ye=En,X="onMouseLeave",P="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ye=wo,X="onPointerLeave",P="onPointerEnter",O="pointer"),$e=q==null?z:Hn(q),L=Te==null?z:Hn(Te),z=new ye(X,O+"leave",q,a,K),z.target=$e,z.relatedTarget=L,X=null,di(K)===j&&(ye=new ye(P,O+"enter",Te,a,K),ye.target=L,ye.relatedTarget=$e,X=ye),$e=X,q&&Te)t:{for(ye=q,P=Te,O=0,L=ye;L;L=Ra(L))O++;for(L=0,X=P;X;X=Ra(X))L++;for(;0<O-L;)ye=Ra(ye),O--;for(;0<L-O;)P=Ra(P),L--;for(;O--;){if(ye===P||P!==null&&ye===P.alternate)break t;ye=Ra(ye),P=Ra(P)}ye=null}else ye=null;q!==null&&Jy($,z,q,ye,!1),Te!==null&&$e!==null&&Jy($,$e,Te,ye,!0)}}e:{if(z=j?Hn(j):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var ue=yg;else if(bt(z))if(vg)ue=rT;else{ue=nT;var Oe=tT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&vo(j.elementType)&&(ue=yg):ue=iT;if(ue&&(ue=ue(t,j))){bi($,ue,a,K);break e}Oe&&Oe(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Zi(z,"number",z.value)}switch(Oe=j?Hn(j):window,t){case"focusin":(bt(Oe)||Oe.contentEditable==="true")&&(na=Oe,kh=j,Io=null);break;case"focusout":Io=kh=na=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,Rg($,a,K);break;case"selectionchange":if(aT)break;case"keydown":case"keyup":Rg($,a,K)}var fe;if($n)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Pe?H(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(v&&a.locale!=="ko"&&(Pe||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Pe&&(fe=Eo()):(Qn=K,Ji="value"in Qn?Qn.value:Qn.textContent,Pe=!0)),Oe=nc(j,ve),0<Oe.length&&(ve=new Ao(ve,t,null,a,K),$.push({event:ve,listeners:Oe}),fe?ve.data=fe:(fe=ne(a),fe!==null&&(ve.data=fe)))),(fe=g?Tt(t,a):ke(t,a))&&(ve=nc(j,"onBeforeInput"),0<ve.length&&(Oe=new Ao("onBeforeInput","beforeinput",null,a,K),$.push({event:Oe,listeners:ve}),Oe.data=fe)),qT($,t,j,a,K)}$y($,i)})}function nl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function nc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=is(t,a),h!=null&&l.unshift(nl(t,h,d)),h=is(t,i),h!=null&&l.push(nl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Ra(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Jy(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,w=T.alternate,j=T.stateNode;if(T=T.tag,w!==null&&w===l)break;T!==5&&T!==26&&T!==27||j===null||(w=j,h?(j=is(a,d),j!=null&&_.unshift(nl(a,j,w))):h||(j=is(a,d),j!=null&&_.push(nl(a,j,w)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var QT=/\r\n?/g,KT=/\u0000|\uFFFD/g;function Wy(t){return(typeof t=="string"?t:""+t).replace(QT,`
`).replace(KT,"")}function ev(t,i){return i=Wy(i),Wy(t)===i}function ic(){}function Xe(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&yn(t,""+l);break;case"className":Gn(t,"class",l);break;case"tabIndex":Gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(t,a,l);break;case"style":yo(t,l,d);break;case"data":if(i!=="object"){Gn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ks(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Xe(t,i,"name",h.name,h,null),Xe(t,i,"formEncType",h.formEncType,h,null),Xe(t,i,"formMethod",h.formMethod,h,null),Xe(t,i,"formTarget",h.formTarget,h,null)):(Xe(t,i,"encType",h.encType,h,null),Xe(t,i,"method",h.method,h,null),Xe(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ks(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ic);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ks(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xe("beforetoggle",t),xe("toggle",t),$i(t,"popover",l);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":$i(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Nh.get(a)||a,$i(t,a,l))}}function od(t,i,a,l,h,d){switch(a){case"style":yo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ic);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[gt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):$i(t,a,l)}}}function jt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,d,_,a,null)}}h&&Xe(t,i,"srcSet",a.srcSet,a,null),l&&Xe(t,i,"src",a.src,a,null);return;case"input":xe("invalid",t);var T=d=_=h=null,w=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":_=K;break;case"checked":w=K;break;case"defaultChecked":j=K;break;case"value":d=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Xe(t,i,l,K,a,null)}}es(t,d,T,w,j,_,h,!1),Qs(t);return;case"select":xe("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Xe(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?pi(t,!!l,i,!1):a!=null&&pi(t,!!l,a,!0);return;case"textarea":xe("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xe(t,i,_,T,a,null)}ts(t,l,h,d),Qs(t);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,i,w,l,a,null)}return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(l=0;l<tl.length;l++)xe(tl[l],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,j,l,a,null)}return;default:if(vo(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&od(t,i,K,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Xe(t,i,T,l,a,null))}function YT(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,w=null,j=null,K=null;for(q in a){var $=a[q];if(a.hasOwnProperty(q)&&$!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":w=$;default:l.hasOwnProperty(q)||Xe(t,i,q,null,l,$)}}for(var z in l){var q=l[z];if($=a[z],l.hasOwnProperty(z)&&(q!=null||$!=null))switch(z){case"type":d=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":K=q;break;case"value":_=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==$&&Xe(t,i,z,q,l,$)}}an(t,_,T,w,j,K,d,h);return;case"select":q=_=T=z=null;for(d in a)if(w=a[d],a.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":q=w;default:l.hasOwnProperty(d)||Xe(t,i,d,null,l,w)}for(h in l)if(d=l[h],w=a[h],l.hasOwnProperty(h)&&(d!=null||w!=null))switch(h){case"value":z=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==w&&Xe(t,i,h,d,l,w)}i=T,a=_,l=q,z!=null?pi(t,!!a,z,!1):!!l!=!!a&&(i!=null?pi(t,!!a,i,!0):pi(t,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xe(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xe(t,i,_,h,l,d)}Ke(t,z,q);return;case"option":for(var Te in a)if(z=a[Te],a.hasOwnProperty(Te)&&z!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:Xe(t,i,Te,null,l,z)}for(w in l)if(z=l[w],q=a[w],l.hasOwnProperty(w)&&z!==q&&(z!=null||q!=null))switch(w){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Xe(t,i,w,z,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)z=a[ye],a.hasOwnProperty(ye)&&z!=null&&!l.hasOwnProperty(ye)&&Xe(t,i,ye,null,l,z);for(j in l)if(z=l[j],q=a[j],l.hasOwnProperty(j)&&z!==q&&(z!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Xe(t,i,j,z,l,q)}return;default:if(vo(i)){for(var $e in a)z=a[$e],a.hasOwnProperty($e)&&z!==void 0&&!l.hasOwnProperty($e)&&od(t,i,$e,void 0,l,z);for(K in l)z=l[K],q=a[K],!l.hasOwnProperty(K)||z===q||z===void 0&&q===void 0||od(t,i,K,z,l,q);return}}for(var P in a)z=a[P],a.hasOwnProperty(P)&&z!=null&&!l.hasOwnProperty(P)&&Xe(t,i,P,null,l,z);for($ in l)z=l[$],q=a[$],!l.hasOwnProperty($)||z===q||z==null&&q==null||Xe(t,i,$,z,l,q)}var ld=null,ud=null;function rc(t){return t.nodeType===9?t:t.ownerDocument}function tv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function cd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var hd=null;function XT(){var t=window.event;return t&&t.type==="popstate"?t===hd?!1:(hd=t,!0):(hd=null,!1)}var iv=typeof setTimeout=="function"?setTimeout:void 0,$T=typeof clearTimeout=="function"?clearTimeout:void 0,rv=typeof Promise=="function"?Promise:void 0,ZT=typeof queueMicrotask=="function"?queueMicrotask:typeof rv<"u"?function(t){return rv.resolve(null).then(t).catch(JT)}:iv;function JT(t){setTimeout(function(){throw t})}function mr(t){return t==="head"}function sv(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var _=t.ownerDocument;if(a&1&&il(_.documentElement),a&2&&il(_.body),a&4)for(a=_.head,il(a),_=a.firstChild;_;){var T=_.nextSibling,w=_.nodeName;_[$r]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=T}}if(h===0){t.removeChild(d),hl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);hl(i)}function fd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":fd(a),Xi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function WT(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[$r])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function eb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Mn(t.nextSibling),t===null))return null;return t}function dd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function tb(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var md=null;function av(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function ov(t,i,a){switch(i=rc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function il(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Xi(t)}var Cn=new Map,lv=new Set;function sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Pi=ie.d;ie.d={f:nb,r:ib,D:rb,C:sb,L:ab,m:ob,X:ub,S:lb,M:cb};function nb(){var t=Pi.f(),i=$u();return t||i}function ib(t){var i=qn(t);i!==null&&i.tag===5&&i.type==="form"?Ip(i):Pi.r(t)}var Ca=typeof document>"u"?null:document;function uv(t,i,a){var l=Ca;if(l&&typeof i=="string"&&i){var h=pt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),lv.has(h)||(lv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),jt(i,"link",t),ut(i),l.head.appendChild(i)))}}function rb(t){Pi.D(t),uv("dns-prefetch",t,null)}function sb(t,i){Pi.C(t,i),uv("preconnect",t,i)}function ab(t,i,a){Pi.L(t,i,a);var l=Ca;if(l&&t&&i){var h='link[rel="preload"][as="'+pt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pt(a.imageSizes)+'"]')):h+='[href="'+pt(t)+'"]';var d=h;switch(i){case"style":d=Ia(t);break;case"script":d=Na(t)}Cn.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Cn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(rl(d))||i==="script"&&l.querySelector(sl(d))||(i=l.createElement("link"),jt(i,"link",t),ut(i),l.head.appendChild(i)))}}function ob(t,i){Pi.m(t,i);var a=Ca;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+pt(l)+'"][href="'+pt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Na(t)}if(!Cn.has(d)&&(t=E({rel:"modulepreload",href:t},i),Cn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(sl(d)))return}l=a.createElement("link"),jt(l,"link",t),ut(l),a.head.appendChild(l)}}}function lb(t,i,a){Pi.S(t,i,a);var l=Ca;if(l&&t){var h=$t(l).hoistableStyles,d=Ia(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(rl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Cn.get(d))&&gd(t,a);var w=_=l.createElement("link");ut(w),jt(w,"link",t),w._p=new Promise(function(j,K){w.onload=j,w.onerror=K}),w.addEventListener("load",function(){T.loading|=1}),w.addEventListener("error",function(){T.loading|=2}),T.loading|=4,ac(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function ub(t,i){Pi.X(t,i);var a=Ca;if(a&&t){var l=$t(a).hoistableScripts,h=Na(t),d=l.get(h);d||(d=a.querySelector(sl(h)),d||(t=E({src:t,async:!0},i),(i=Cn.get(h))&&pd(t,i),d=a.createElement("script"),ut(d),jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function cb(t,i){Pi.M(t,i);var a=Ca;if(a&&t){var l=$t(a).hoistableScripts,h=Na(t),d=l.get(h);d||(d=a.querySelector(sl(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Cn.get(h))&&pd(t,i),d=a.createElement("script"),ut(d),jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function cv(t,i,a,l){var h=(h=be.current)?sc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ia(a.href),a=$t(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ia(a.href);var d=$t(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(rl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Cn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Cn.set(t,a),d||hb(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Na(a),a=$t(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ia(t){return'href="'+pt(t)+'"'}function rl(t){return'link[rel="stylesheet"]['+t+"]"}function hv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function hb(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),jt(i,"link",a),ut(i),t.head.appendChild(i))}function Na(t){return'[src="'+pt(t)+'"]'}function sl(t){return"script[async]"+t}function fv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+pt(a.href)+'"]');if(l)return i.instance=l,ut(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ut(l),jt(l,"style",h),ac(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ia(a.href);var d=t.querySelector(rl(h));if(d)return i.state.loading|=4,i.instance=d,ut(d),d;l=hv(a),(h=Cn.get(h))&&gd(l,h),d=(t.ownerDocument||t).createElement("link"),ut(d);var _=d;return _._p=new Promise(function(T,w){_.onload=T,_.onerror=w}),jt(d,"link",l),i.state.loading|=4,ac(d,a.precedence,t),i.instance=d;case"script":return d=Na(a.src),(h=t.querySelector(sl(d)))?(i.instance=h,ut(h),h):(l=a,(h=Cn.get(d))&&(l=E({},a),pd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ut(h),jt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,ac(l,a.precedence,t));return i.instance}function ac(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function gd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function pd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var oc=null;function dv(t,i,a){if(oc===null){var l=new Map,h=oc=new Map;h.set(a,l)}else h=oc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[$r]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function mv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function fb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function gv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var al=null;function db(){}function mb(t,i,a){if(al===null)throw Error(s(475));var l=al;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ia(a.href),d=t.querySelector(rl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=lc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ut(d);return}d=t.ownerDocument||t,a=hv(a),(h=Cn.get(h))&&gd(a,h),d=d.createElement("link"),ut(d);var _=d;_._p=new Promise(function(T,w){_.onload=T,_.onerror=w}),jt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=lc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function gb(){if(al===null)throw Error(s(475));var t=al;return t.stylesheets&&t.count===0&&yd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&yd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function lc(){if(this.count--,this.count===0){if(this.stylesheets)yd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var uc=null;function yd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,uc=new Map,i.forEach(pb,t),uc=null,lc.call(t))}function pb(t,i){if(!(i.state.loading&4)){var a=uc.get(t);if(a)var l=a.get(null);else{a=new Map,uc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=lc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var ol={$$typeof:ae,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function yb(t,i,a,l,h,d,_,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function pv(t,i,a,l,h,d,_,T,w,j,K,$){return t=new yb(t,i,a,_,T,w,j,$),i=1,d===!0&&(i|=24),d=ln(3,null,null,i),t.current=d,d.stateNode=t,i=Zh(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},tf(d),t}function yv(t){return t?(t=aa,t):aa}function vv(t,i,a,l,h,d){h=yv(h),l.context===null?l.context=h:l.pendingContext=h,l=tr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=nr(t,l,i),a!==null&&(dn(a,t,i),Uo(a,t,i))}function _v(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function vd(t,i){_v(t,i),(t=t.alternate)&&_v(t,i)}function Ev(t){if(t.tag===13){var i=sa(t,67108864);i!==null&&dn(i,t,67108864),vd(t,67108864)}}var cc=!0;function vb(t,i,a,l){var h=Q.T;Q.T=null;var d=ie.p;try{ie.p=2,_d(t,i,a,l)}finally{ie.p=d,Q.T=h}}function _b(t,i,a,l){var h=Q.T;Q.T=null;var d=ie.p;try{ie.p=8,_d(t,i,a,l)}finally{ie.p=d,Q.T=h}}function _d(t,i,a,l){if(cc){var h=Ed(l);if(h===null)ad(t,i,l,hc,a),bv(t,l);else if(Tb(h,t,i,a,l))l.stopPropagation();else if(bv(t,l),i&4&&-1<Eb.indexOf(t)){for(;h!==null;){var d=qn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Nn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var w=1<<31-Ht(_);T.entanglements[1]|=w,_&=~w}ni(d),(Fe&6)===0&&(Yu=gn()+500,el(0))}}break;case 13:T=sa(d,2),T!==null&&dn(T,d,2),$u(),vd(d,2)}if(d=Ed(l),d===null&&ad(t,i,l,hc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else ad(t,i,l,null,a)}}function Ed(t){return t=vn(t),Td(t)}var hc=null;function Td(t){if(hc=null,t=di(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return hc=t,null}function Tv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ah()){case ro:return 2;case Ls:return 8;case Fr:case Sh:return 32;case js:return 268435456;default:return 32}default:return 32}}var bd=!1,gr=null,pr=null,yr=null,ll=new Map,ul=new Map,vr=[],Eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bv(t,i){switch(t){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":ll.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(i.pointerId)}}function cl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=qn(i),i!==null&&Ev(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Tb(t,i,a,l,h){switch(i){case"focusin":return gr=cl(gr,t,i,a,l,h),!0;case"dragenter":return pr=cl(pr,t,i,a,l,h),!0;case"mouseover":return yr=cl(yr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return ll.set(d,cl(ll.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,ul.set(d,cl(ul.get(d)||null,t,i,a,l,h)),!0}return!1}function Av(t){var i=di(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,$l(t.priority,function(){if(a.tag===13){var l=fn();l=Qi(l);var h=sa(a,l);h!==null&&dn(h,a,l),vd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Ed(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);yi=l,a.target.dispatchEvent(l),yi=null}else return i=qn(a),i!==null&&Ev(i),t.blockedOn=a,!1;i.shift()}return!0}function Sv(t,i,a){fc(t)&&a.delete(i)}function bb(){bd=!1,gr!==null&&fc(gr)&&(gr=null),pr!==null&&fc(pr)&&(pr=null),yr!==null&&fc(yr)&&(yr=null),ll.forEach(Sv),ul.forEach(Sv)}function dc(t,i){t.blockedOn===i&&(t.blockedOn=null,bd||(bd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,bb)))}var mc=null;function wv(t){mc!==t&&(mc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){mc===t&&(mc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Td(l||a)===null)continue;break}var d=qn(a);d!==null&&(t.splice(i,3),i-=3,Tf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function hl(t){function i(w){return dc(w,t)}gr!==null&&dc(gr,t),pr!==null&&dc(pr,t),yr!==null&&dc(yr,t),ll.forEach(i),ul.forEach(i);for(var a=0;a<vr.length;a++){var l=vr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<vr.length&&(a=vr[0],a.blockedOn===null);)Av(a),a.blockedOn===null&&vr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[gt]||null;if(typeof d=="function")_||wv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[gt]||null)T=_.formAction;else if(Td(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),wv(a)}}}function Ad(t){this._internalRoot=t}gc.prototype.render=Ad.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=fn();vv(a,l,t,i,null,null)},gc.prototype.unmount=Ad.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;vv(t.current,2,null,t,null,null),$u(),i[pn]=null}};function gc(t){this._internalRoot=t}gc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ki();t={blockedOn:null,target:t,priority:i};for(var a=0;a<vr.length&&i!==0&&i<vr[a].priority;a++);vr.splice(a,0,t),a===0&&Av(t)}};var Rv=e.version;if(Rv!=="19.1.0")throw Error(s(527,Rv,"19.1.0"));ie.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var Ab={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{at=pc.inject(Ab),Ge=pc}catch{}}return dl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=qp,d=Hp,_=Gp,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=pv(t,1,!1,null,null,a,l,h,d,_,T,null),t[pn]=i.current,sd(t),new Ad(i)},dl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=qp,_=Hp,T=Gp,w=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),i=pv(t,1,!0,i,a??null,l,h,d,_,T,w,j),i.context=yv(null),a=i.current,l=fn(),l=Qi(l),h=tr(l),h.callback=null,nr(a,h,l),a=l,i.current.lanes=a,fi(i,a),ni(i),t[pn]=i.current,sd(t),new gc(i)},dl.version="19.1.0",dl}var kv;function Pb(){if(kv)return Rd.exports;kv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Rd.exports=Mb(),Rd.exports}var kb=Pb();_0();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Al(){return Al=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Al.apply(this,arguments)}var Sr;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Sr||(Sr={}));const Uv="popstate";function Ub(r){r===void 0&&(r={});function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Hd("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Pc(o)}return jb(e,n,null,r)}function dt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function E0(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Lb(){return Math.random().toString(36).substr(2,8)}function Lv(r,e){return{usr:r.state,key:r.key,idx:e}}function Hd(r,e,n,s){return n===void 0&&(n=null),Al({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Xa(e):e,{state:n,key:e&&e.key||s||Lb()})}function Pc(r){let{pathname:e="/",search:n="",hash:s=""}=r;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Xa(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substr(n),r=r.substr(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substr(s),r=r.substr(0,s)),r&&(e.pathname=r)}return e}function jb(r,e,n,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m=Sr.Pop,p=null,y=E();y==null&&(y=0,f.replaceState(Al({},f.state,{idx:y}),""));function E(){return(f.state||{idx:null}).idx}function A(){m=Sr.Pop;let G=E(),ce=G==null?null:G-y;y=G,p&&p({action:m,location:W.location,delta:ce})}function C(G,ce){m=Sr.Push;let oe=Hd(W.location,G,ce);y=E()+1;let ae=Lv(oe,y),Ee=W.createHref(oe);try{f.pushState(ae,"",Ee)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;o.location.assign(Ee)}u&&p&&p({action:m,location:W.location,delta:1})}function B(G,ce){m=Sr.Replace;let oe=Hd(W.location,G,ce);y=E();let ae=Lv(oe,y),Ee=W.createHref(oe);f.replaceState(ae,"",Ee),u&&p&&p({action:m,location:W.location,delta:0})}function Y(G){let ce=o.location.origin!=="null"?o.location.origin:o.location.href,oe=typeof G=="string"?G:Pc(G);return oe=oe.replace(/ $/,"%20"),dt(ce,"No window.location.(origin|href) available to create URL for href: "+oe),new URL(oe,ce)}let W={get action(){return m},get location(){return r(o,f)},listen(G){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Uv,A),p=G,()=>{o.removeEventListener(Uv,A),p=null}},createHref(G){return e(o,G)},createURL:Y,encodeLocation(G){let ce=Y(G);return{pathname:ce.pathname,search:ce.search,hash:ce.hash}},push:C,replace:B,go(G){return f.go(G)}};return W}var jv;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(jv||(jv={}));function zb(r,e,n){return n===void 0&&(n="/"),Bb(r,e,n)}function Bb(r,e,n,s){let o=typeof e=="string"?Xa(e):e,u=vm(o.pathname||"/",n);if(u==null)return null;let f=T0(r);qb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=eA(u);m=Zb(f[p],y)}return m}function T0(r,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(dt(p.relativePath.startsWith(s),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(s.length));let y=Cr([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(dt(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),T0(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:Xb(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of b0(u.path))o(u,f,p)}),e}function b0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=b0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function qb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:$b(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const Hb=/^:[\w-]+$/,Gb=3,Fb=2,Qb=1,Kb=10,Yb=-2,zv=r=>r==="*";function Xb(r,e){let n=r.split("/"),s=n.length;return n.some(zv)&&(s+=Yb),e&&(s+=Fb),n.filter(o=>!zv(o)).reduce((o,u)=>o+(Hb.test(u)?Gb:u===""?Qb:Kb),s)}function $b(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Zb(r,e,n){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=Jb({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),C=p.route;if(!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:Cr([u,A.pathname]),pathnameBase:rA(Cr([u,A.pathnameBase])),route:C}),A.pathnameBase!=="/"&&(u=Cr([u,A.pathnameBase]))}return f}function Jb(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Wb(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,E,A)=>{let{paramName:C,isOptional:B}=E;if(C==="*"){let W=m[A]||"";f=u.slice(0,u.length-W.length).replace(/(.)\/+$/,"$1")}const Y=m[A];return B&&!Y?y[C]=void 0:y[C]=(Y||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function Wb(r,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),E0(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function eA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return E0(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function vm(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function tA(r,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Xa(r):r;return{pathname:n?n.startsWith("/")?n:nA(n,e):e,search:sA(s),hash:aA(o)}}function nA(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Od(r,e,n,s){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _m(r,e){let n=iA(r);return e?n.map((s,o)=>o===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Em(r,e,n,s){s===void 0&&(s=!1);let o;typeof r=="string"?o=Xa(r):(o=Al({},r),dt(!o.pathname||!o.pathname.includes("?"),Od("?","pathname","search",o)),dt(!o.pathname||!o.pathname.includes("#"),Od("#","pathname","hash",o)),dt(!o.search||!o.search.includes("#"),Od("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),A-=1;o.pathname=C.join("/")}m=A>=0?e[A]:"/"}let p=tA(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}const Cr=r=>r.join("/").replace(/\/\/+/g,"/"),rA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),sA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,aA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function oA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const A0=["post","put","patch","delete"];new Set(A0);const lA=["get",...A0];new Set(lA);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sl(){return Sl=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Sl.apply(this,arguments)}const Tm=F.createContext(null),uA=F.createContext(null),zr=F.createContext(null),rh=F.createContext(null),Br=F.createContext({outlet:null,matches:[],isDataRoute:!1}),S0=F.createContext(null);function cA(r,e){let{relative:n}=e===void 0?{}:e;$a()||dt(!1);let{basename:s,navigator:o}=F.useContext(zr),{hash:u,pathname:f,search:m}=R0(r,{relative:n}),p=f;return s!=="/"&&(p=f==="/"?s:Cr([s,f])),o.createHref({pathname:p,search:m,hash:u})}function $a(){return F.useContext(rh)!=null}function Ml(){return $a()||dt(!1),F.useContext(rh).location}function w0(r){F.useContext(zr).static||F.useLayoutEffect(r)}function Pl(){let{isDataRoute:r}=F.useContext(Br);return r?AA():hA()}function hA(){$a()||dt(!1);let r=F.useContext(Tm),{basename:e,future:n,navigator:s}=F.useContext(zr),{matches:o}=F.useContext(Br),{pathname:u}=Ml(),f=JSON.stringify(_m(o,n.v7_relativeSplatPath)),m=F.useRef(!1);return w0(()=>{m.current=!0}),F.useCallback(function(y,E){if(E===void 0&&(E={}),!m.current)return;if(typeof y=="number"){s.go(y);return}let A=Em(y,JSON.parse(f),u,E.relative==="path");r==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:Cr([e,A.pathname])),(E.replace?s.replace:s.push)(A,E.state,E)},[e,s,f,u,r])}function R0(r,e){let{relative:n}=e===void 0?{}:e,{future:s}=F.useContext(zr),{matches:o}=F.useContext(Br),{pathname:u}=Ml(),f=JSON.stringify(_m(o,s.v7_relativeSplatPath));return F.useMemo(()=>Em(r,JSON.parse(f),u,n==="path"),[r,f,u,n])}function fA(r,e){return dA(r,e)}function dA(r,e,n,s){$a()||dt(!1);let{navigator:o}=F.useContext(zr),{matches:u}=F.useContext(Br),f=u[u.length-1],m=f?f.params:{};f&&f.pathname;let p=f?f.pathnameBase:"/";f&&f.route;let y=Ml(),E;if(e){var A;let G=typeof e=="string"?Xa(e):e;p==="/"||(A=G.pathname)!=null&&A.startsWith(p)||dt(!1),E=G}else E=y;let C=E.pathname||"/",B=C;if(p!=="/"){let G=p.replace(/^\//,"").split("/");B="/"+C.replace(/^\//,"").split("/").slice(G.length).join("/")}let Y=zb(r,{pathname:B}),W=vA(Y&&Y.map(G=>Object.assign({},G,{params:Object.assign({},m,G.params),pathname:Cr([p,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?p:Cr([p,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),u,n,s);return e&&W?F.createElement(rh.Provider,{value:{location:Sl({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:Sr.Pop}},W):W}function mA(){let r=bA(),e=oA(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:o},n):null,null)}const gA=F.createElement(mA,null);class pA extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?F.createElement(Br.Provider,{value:this.props.routeContext},F.createElement(S0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yA(r){let{routeContext:e,match:n,children:s}=r,o=F.useContext(Tm);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),F.createElement(Br.Provider,{value:e},s)}function vA(r,e,n,s){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),r==null){var u;if(!n)return null;if(n.errors)r=n.matches;else if((u=s)!=null&&u.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let f=r,m=(o=n)==null?void 0:o.errors;if(m!=null){let E=f.findIndex(A=>A.route.id&&(m==null?void 0:m[A.route.id])!==void 0);E>=0||dt(!1),f=f.slice(0,Math.min(f.length,E+1))}let p=!1,y=-1;if(n&&s&&s.v7_partialHydration)for(let E=0;E<f.length;E++){let A=f[E];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(y=E),A.route.id){let{loaderData:C,errors:B}=n,Y=A.route.loader&&C[A.route.id]===void 0&&(!B||B[A.route.id]===void 0);if(A.route.lazy||Y){p=!0,y>=0?f=f.slice(0,y+1):f=[f[0]];break}}}return f.reduceRight((E,A,C)=>{let B,Y=!1,W=null,G=null;n&&(B=m&&A.route.id?m[A.route.id]:void 0,W=A.route.errorElement||gA,p&&(y<0&&C===0?(SA("route-fallback"),Y=!0,G=null):y===C&&(Y=!0,G=A.route.hydrateFallbackElement||null)));let ce=e.concat(f.slice(0,C+1)),oe=()=>{let ae;return B?ae=W:Y?ae=G:A.route.Component?ae=F.createElement(A.route.Component,null):A.route.element?ae=A.route.element:ae=E,F.createElement(yA,{match:A,routeContext:{outlet:E,matches:ce,isDataRoute:n!=null},children:ae})};return n&&(A.route.ErrorBoundary||A.route.errorElement||C===0)?F.createElement(pA,{location:n.location,revalidation:n.revalidation,component:W,error:B,children:oe(),routeContext:{outlet:null,matches:ce,isDataRoute:!0}}):oe()},null)}var C0=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(C0||{}),I0=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(I0||{});function _A(r){let e=F.useContext(Tm);return e||dt(!1),e}function EA(r){let e=F.useContext(uA);return e||dt(!1),e}function TA(r){let e=F.useContext(Br);return e||dt(!1),e}function N0(r){let e=TA(),n=e.matches[e.matches.length-1];return n.route.id||dt(!1),n.route.id}function bA(){var r;let e=F.useContext(S0),n=EA(),s=N0();return e!==void 0?e:(r=n.errors)==null?void 0:r[s]}function AA(){let{router:r}=_A(C0.UseNavigateStable),e=N0(I0.UseNavigateStable),n=F.useRef(!1);return w0(()=>{n.current=!0}),F.useCallback(function(o,u){u===void 0&&(u={}),n.current&&(typeof o=="number"?r.navigate(o):r.navigate(o,Sl({fromRouteId:e},u)))},[r,e])}const Bv={};function SA(r,e,n){Bv[r]||(Bv[r]=!0)}function wA(r,e){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function RA(r){let{to:e,replace:n,state:s,relative:o}=r;$a()||dt(!1);let{future:u,static:f}=F.useContext(zr),{matches:m}=F.useContext(Br),{pathname:p}=Ml(),y=Pl(),E=Em(e,_m(m,u.v7_relativeSplatPath),p,o==="path"),A=JSON.stringify(E);return F.useEffect(()=>y(JSON.parse(A),{replace:n,state:s,relative:o}),[y,A,o,n,s]),null}function Oa(r){dt(!1)}function CA(r){let{basename:e="/",children:n=null,location:s,navigationType:o=Sr.Pop,navigator:u,static:f=!1,future:m}=r;$a()&&dt(!1);let p=e.replace(/^\/*/,"/"),y=F.useMemo(()=>({basename:p,navigator:u,static:f,future:Sl({v7_relativeSplatPath:!1},m)}),[p,m,u,f]);typeof s=="string"&&(s=Xa(s));let{pathname:E="/",search:A="",hash:C="",state:B=null,key:Y="default"}=s,W=F.useMemo(()=>{let G=vm(E,p);return G==null?null:{location:{pathname:G,search:A,hash:C,state:B,key:Y},navigationType:o}},[p,E,A,C,B,Y,o]);return W==null?null:F.createElement(zr.Provider,{value:y},F.createElement(rh.Provider,{children:n,value:W}))}function IA(r){let{children:e,location:n}=r;return fA(Gd(e),n)}new Promise(()=>{});function Gd(r,e){e===void 0&&(e=[]);let n=[];return F.Children.forEach(r,(s,o)=>{if(!F.isValidElement(s))return;let u=[...e,o];if(s.type===F.Fragment){n.push.apply(n,Gd(s.props.children,u));return}s.type!==Oa&&dt(!1),!s.props.index||!s.props.children||dt(!1);let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Gd(s.props.children,u)),n.push(f)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fd(){return Fd=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Fd.apply(this,arguments)}function NA(r,e){if(r==null)return{};var n={},s=Object.keys(r),o,u;for(u=0;u<s.length;u++)o=s[u],!(e.indexOf(o)>=0)&&(n[o]=r[o]);return n}function OA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function DA(r,e){return r.button===0&&(!e||e==="_self")&&!OA(r)}const xA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],VA="6";try{window.__reactRouterVersion=VA}catch{}const MA="startTransition",qv=Ob[MA];function PA(r){let{basename:e,children:n,future:s,window:o}=r,u=F.useRef();u.current==null&&(u.current=Ub({window:o,v5Compat:!0}));let f=u.current,[m,p]=F.useState({action:f.action,location:f.location}),{v7_startTransition:y}=s||{},E=F.useCallback(A=>{y&&qv?qv(()=>p(A)):p(A)},[p,y]);return F.useLayoutEffect(()=>f.listen(E),[f,E]),F.useEffect(()=>wA(s),[s]),F.createElement(CA,{basename:e,children:n,location:m.location,navigationType:m.action,navigator:f,future:s})}const kA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yc=F.forwardRef(function(e,n){let{onClick:s,relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:A}=e,C=NA(e,xA),{basename:B}=F.useContext(zr),Y,W=!1;if(typeof y=="string"&&UA.test(y)&&(Y=y,kA))try{let ae=new URL(window.location.href),Ee=y.startsWith("//")?new URL(ae.protocol+y):new URL(y),me=vm(Ee.pathname,B);Ee.origin===ae.origin&&me!=null?y=me+Ee.search+Ee.hash:W=!0}catch{}let G=cA(y,{relative:o}),ce=LA(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:A});function oe(ae){s&&s(ae),ae.defaultPrevented||ce(ae)}return F.createElement("a",Fd({},C,{href:Y||G,onClick:W||u?s:oe,ref:n,target:p}))});var Hv;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Hv||(Hv={}));var Gv;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Gv||(Gv={}));function LA(r,e){let{target:n,replace:s,state:o,preventScrollReset:u,relative:f,viewTransition:m}=e===void 0?{}:e,p=Pl(),y=Ml(),E=R0(r,{relative:f});return F.useCallback(A=>{if(DA(A,n)){A.preventDefault();let C=s!==void 0?s:Pc(y)===Pc(E);p(r,{replace:C,state:o,preventScrollReset:u,relative:f,viewTransition:m})}},[y,p,E,s,o,n,r,u,f,m])}const jA=()=>{};var Fv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},zA=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},D0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let C=(m&15)<<2|y>>6,B=y&63;p||(B=64,f||(C=64)),s.push(n[E],n[A],n[C],n[B])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(O0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):zA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||A==null)throw new BA;const C=u<<2|m>>4;if(s.push(C),y!==64){const B=m<<4&240|y>>2;if(s.push(B),A!==64){const Y=y<<6&192|A;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class BA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qA=function(r){const e=O0(r);return D0.encodeByteArray(e,!0)},kc=function(r){return qA(r).replace(/\./g,"")},x0=function(r){try{return D0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=()=>HA().__FIREBASE_DEFAULTS__,FA=()=>{if(typeof process>"u"||typeof Fv>"u")return;const r=Fv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},QA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&x0(r[1]);return e&&JSON.parse(e)},sh=()=>{try{return jA()||GA()||FA()||QA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},V0=r=>{var e,n;return(n=(e=sh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},KA=r=>{const e=V0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},M0=()=>{var r;return(r=sh())===null||r===void 0?void 0:r.config},P0=r=>{var e;return(e=sh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(r){return r.endsWith(".cloudworkstations.dev")}async function k0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[kc(JSON.stringify(n)),kc(JSON.stringify(f)),""].join(".")}const yl={};function $A(){const r={prod:[],emulator:[]};for(const e of Object.keys(yl))yl[e]?r.emulator.push(e):r.prod.push(e);return r}function ZA(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Qv=!1;function U0(r,e){if(typeof window>"u"||typeof document>"u"||!kl(window.location.host)||yl[r]===e||yl[r]||Qv)return;yl[r]=e;function n(C){return`__firebase__banner__${C}`}const s="__firebase__banner",u=$A().prod.length>0;function f(){const C=document.getElementById(s);C&&C.remove()}function m(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function p(C,B){C.setAttribute("width","24"),C.setAttribute("id",B),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function y(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{Qv=!0,f()},C}function E(C,B){C.setAttribute("id",B),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function A(){const C=ZA(s),B=n("text"),Y=document.getElementById(B)||document.createElement("span"),W=n("learnmore"),G=document.getElementById(W)||document.createElement("a"),ce=n("preprendIcon"),oe=document.getElementById(ce)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const ae=C.element;m(ae),E(G,W);const Ee=y();p(oe,ce),ae.append(oe,Y,G,Ee),document.body.appendChild(ae)}u?(Y.innerText="Preview backend disconnected.",oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function WA(){var r;const e=(r=sh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function nS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iS(){const r=Xt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function rS(){return!WA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sS(){try{return typeof indexedDB=="object"}catch{return!1}}function aS(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="FirebaseError";class Gi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=oS,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?lS(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Gi(o,m,s)}}function lS(r,e){return r.replace(uS,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const uS=/\{\$([^}]+)}/g;function cS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ns(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Kv(u)&&Kv(f)){if(!Ns(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Kv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function hS(r,e){const n=new fS(r,e);return n.subscribe.bind(n)}class fS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");dS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Dd),o.error===void 0&&(o.error=Dd),o.complete===void 0&&(o.complete=Dd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dS(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Dd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(r){return r&&r._delegate?r._delegate:r}class Os{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new YA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pS(e))try{this.getOrInitializeService({instanceIdentifier:ws})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ws){return this.instances.has(e)}getOptions(e=ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:gS(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ws){return this.component?this.component.multipleInstances?e:ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gS(r){return r===ws?void 0:r}function pS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const vS={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},_S=Ve.INFO,ES={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},TS=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=ES[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bm{constructor(e){this.name=e,this._logLevel=_S,this._logHandler=TS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const bS=(r,e)=>e.some(n=>r instanceof n);let Yv,Xv;function AS(){return Yv||(Yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SS(){return Xv||(Xv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L0=new WeakMap,Qd=new WeakMap,j0=new WeakMap,xd=new WeakMap,Am=new WeakMap;function wS(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Ir(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&L0.set(n,r)}).catch(()=>{}),Am.set(e,r),e}function RS(r){if(Qd.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Qd.set(r,e)}let Kd={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Qd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||j0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ir(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function CS(r){Kd=r(Kd)}function IS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Vd(this),e,...n);return j0.set(s,e.sort?e.sort():[e]),Ir(s)}:SS().includes(r)?function(...e){return r.apply(Vd(this),e),Ir(L0.get(this))}:function(...e){return Ir(r.apply(Vd(this),e))}}function NS(r){return typeof r=="function"?IS(r):(r instanceof IDBTransaction&&RS(r),bS(r,AS())?new Proxy(r,Kd):r)}function Ir(r){if(r instanceof IDBRequest)return wS(r);if(xd.has(r))return xd.get(r);const e=NS(r);return e!==r&&(xd.set(r,e),Am.set(e,r)),e}const Vd=r=>Am.get(r);function OS(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Ir(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Ir(f.result),p.oldVersion,p.newVersion,Ir(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const DS=["get","getKey","getAll","getAllKeys","count"],xS=["put","add","delete","clear"],Md=new Map;function $v(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Md.get(e))return Md.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=xS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||DS.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Md.set(e,u),u}CS(r=>({...r,get:(e,n,s)=>$v(e,n)||r.get(e,n,s),has:(e,n)=>!!$v(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function MS(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yd="@firebase/app",Zv="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new bm("@firebase/app"),PS="@firebase/app-compat",kS="@firebase/analytics-compat",US="@firebase/analytics",LS="@firebase/app-check-compat",jS="@firebase/app-check",zS="@firebase/auth",BS="@firebase/auth-compat",qS="@firebase/database",HS="@firebase/data-connect",GS="@firebase/database-compat",FS="@firebase/functions",QS="@firebase/functions-compat",KS="@firebase/installations",YS="@firebase/installations-compat",XS="@firebase/messaging",$S="@firebase/messaging-compat",ZS="@firebase/performance",JS="@firebase/performance-compat",WS="@firebase/remote-config",e2="@firebase/remote-config-compat",t2="@firebase/storage",n2="@firebase/storage-compat",i2="@firebase/firestore",r2="@firebase/ai",s2="@firebase/firestore-compat",a2="firebase",o2="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="[DEFAULT]",l2={[Yd]:"fire-core",[PS]:"fire-core-compat",[US]:"fire-analytics",[kS]:"fire-analytics-compat",[jS]:"fire-app-check",[LS]:"fire-app-check-compat",[zS]:"fire-auth",[BS]:"fire-auth-compat",[qS]:"fire-rtdb",[HS]:"fire-data-connect",[GS]:"fire-rtdb-compat",[FS]:"fire-fn",[QS]:"fire-fn-compat",[KS]:"fire-iid",[YS]:"fire-iid-compat",[XS]:"fire-fcm",[$S]:"fire-fcm-compat",[ZS]:"fire-perf",[JS]:"fire-perf-compat",[WS]:"fire-rc",[e2]:"fire-rc-compat",[t2]:"fire-gcs",[n2]:"fire-gcs-compat",[i2]:"fire-fst",[s2]:"fire-fst-compat",[r2]:"fire-vertex","fire-js":"fire-js",[a2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new Map,u2=new Map,$d=new Map;function Jv(r,e){try{r.container.addComponent(e)}catch(n){zi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function za(r){const e=r.name;if($d.has(e))return zi.debug(`There were multiple attempts to register component ${e}.`),!1;$d.set(e,r);for(const n of Uc.values())Jv(n,r);for(const n of u2.values())Jv(n,r);return!0}function Sm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Pn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nr=new Ul("app","Firebase",c2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=o2;function z0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Xd,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Nr.create("bad-app-name",{appName:String(o)});if(n||(n=M0()),!n)throw Nr.create("no-options");const u=Uc.get(o);if(u){if(Ns(n,u.options)&&Ns(s,u.config))return u;throw Nr.create("duplicate-app",{appName:o})}const f=new yS(o);for(const p of $d.values())f.addComponent(p);const m=new h2(n,s,f);return Uc.set(o,m),m}function B0(r=Xd){const e=Uc.get(r);if(!e&&r===Xd&&M0())return z0();if(!e)throw Nr.create("no-app",{appName:r});return e}function Or(r,e,n){var s;let o=(s=l2[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zi.warn(m.join(" "));return}za(new Os(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="firebase-heartbeat-database",d2=1,wl="firebase-heartbeat-store";let Pd=null;function q0(){return Pd||(Pd=OS(f2,d2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(wl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Nr.create("idb-open",{originalErrorMessage:r.message})})),Pd}async function m2(r){try{const n=(await q0()).transaction(wl),s=await n.objectStore(wl).get(H0(r));return await n.done,s}catch(e){if(e instanceof Gi)zi.warn(e.message);else{const n=Nr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zi.warn(n.message)}}}async function Wv(r,e){try{const s=(await q0()).transaction(wl,"readwrite");await s.objectStore(wl).put(e,H0(r)),await s.done}catch(n){if(n instanceof Gi)zi.warn(n.message);else{const s=Nr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zi.warn(s.message)}}}function H0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=1024,p2=30;class y2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=e_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>p2){const f=E2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){zi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=e_(),{heartbeatsToSend:s,unsentEntries:o}=v2(this._heartbeatsCache.heartbeats),u=kc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return zi.warn(n),""}}}function e_(){return new Date().toISOString().substring(0,10)}function v2(r,e=g2){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),t_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),t_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class _2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sS()?aS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await m2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Wv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Wv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function t_(r){return kc(JSON.stringify({version:2,heartbeats:r})).length}function E2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(r){za(new Os("platform-logger",e=>new VS(e),"PRIVATE")),za(new Os("heartbeat",e=>new y2(e),"PRIVATE")),Or(Yd,Zv,r),Or(Yd,Zv,"esm2017"),Or("fire-js","")}T2("");function wm(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function G0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const b2=G0,F0=new Ul("auth","Firebase",G0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=new bm("@firebase/auth");function A2(r,...e){Lc.logLevel<=Ve.WARN&&Lc.warn(`Auth (${Za}): ${r}`,...e)}function wc(r,...e){Lc.logLevel<=Ve.ERROR&&Lc.error(`Auth (${Za}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(r,...e){throw Cm(r,...e)}function Ln(r,...e){return Cm(r,...e)}function Rm(r,e,n){const s=Object.assign(Object.assign({},b2()),{[e]:n});return new Ul("auth","Firebase",s).create(e,{appName:r.name})}function Is(r){return Rm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function S2(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&oi(r,"argument-error"),Rm(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Cm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return F0.create(r,...e)}function Ae(r,e,...n){if(!r)throw Cm(e,...n)}function Ui(r){const e="INTERNAL ASSERTION FAILED: "+r;throw wc(e),new Error(e)}function Bi(r,e){r||Ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function w2(){return n_()==="http:"||n_()==="https:"}function n_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(w2()||tS()||"connection"in navigator)?navigator.onLine:!0}function C2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bi(n>e,"Short delay should be less than long delay!"),this.isMobile=JA()||nS()}get(){return R2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(r,e){Bi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],O2=new jl(3e4,6e4);function Nm(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Ja(r,e,n,s,o={}){return K0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Ll(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},u);return eS()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&kl(r.emulatorConfig.host)&&(y.credentials="include"),Q0.fetch()(await Y0(r,r.config.apiHost,n,m),y)})}async function K0(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},I2),e);try{const o=new x2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw vc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw vc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw vc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw vc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Rm(r,E,y);oi(r,E)}}catch(o){if(o instanceof Gi)throw o;oi(r,"network-request-failed",{message:String(o)})}}async function D2(r,e,n,s,o={}){const u=await Ja(r,e,n,s,o);return"mfaPendingCredential"in u&&oi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Y0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Im(r.config,o):`${r.config.apiScheme}://${o}`;return N2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class x2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ln(this.auth,"network-request-failed")),O2.get())})}}function vc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ln(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(r,e){return Ja(r,"POST","/v1/accounts:delete",e)}async function jc(r,e){return Ja(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function M2(r,e=!1){const n=mn(r),s=await n.getIdToken(e),o=Om(s);Ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:vl(kd(o.auth_time)),issuedAtTime:vl(kd(o.iat)),expirationTime:vl(kd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function kd(r){return Number(r)*1e3}function Om(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return wc("JWT malformed, contained fewer than 3 sections"),null;try{const o=x0(n);return o?JSON.parse(o):(wc("Failed to decode base64 JWT payload"),null)}catch(o){return wc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function i_(r){const e=Om(r);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Gi&&P2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function P2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vl(this.lastLoginAt),this.creationTime=vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zc(r){var e;const n=r.auth,s=await r.getIdToken(),o=await Rl(r,jc(n,{idToken:s}));Ae(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?X0(u.providerUserInfo):[],m=L2(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?y:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Jd(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,A)}async function U2(r){const e=mn(r);await zc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function L2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function X0(r){return r.map(e=>{var{providerId:n}=e,s=wm(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(r,e){const n=await K0(r,{},async()=>{const s=Ll({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await Y0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",Q0.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function z2(r,e){return Ja(r,"POST","/v2/accounts:revokeToken",Nm(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):i_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=i_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await j2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ka;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ae(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ae(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ka,this.toJSON())}_performRefresh(){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(r,e){Ae(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class kn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=wm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new k2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Jd(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Rl(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return M2(this,e)}reload(){return U2(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new kn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await zc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(Is(this.auth));const e=await this.getIdToken();return await Rl(this,V2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,y,E;const A=(s=n.displayName)!==null&&s!==void 0?s:void 0,C=(o=n.email)!==null&&o!==void 0?o:void 0,B=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,Y=(f=n.photoURL)!==null&&f!==void 0?f:void 0,W=(m=n.tenantId)!==null&&m!==void 0?m:void 0,G=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,ce=(y=n.createdAt)!==null&&y!==void 0?y:void 0,oe=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ae,emailVerified:Ee,isAnonymous:me,providerData:Ne,stsTokenManager:x}=n;Ae(ae&&x,e,"internal-error");const S=ka.fromJSON(this.name,x);Ae(typeof ae=="string",e,"internal-error"),Er(A,e.name),Er(C,e.name),Ae(typeof Ee=="boolean",e,"internal-error"),Ae(typeof me=="boolean",e,"internal-error"),Er(B,e.name),Er(Y,e.name),Er(W,e.name),Er(G,e.name),Er(ce,e.name),Er(oe,e.name);const R=new kn({uid:ae,auth:e,email:C,emailVerified:Ee,displayName:A,isAnonymous:me,photoURL:Y,phoneNumber:B,tenantId:W,stsTokenManager:S,createdAt:ce,lastLoginAt:oe});return Ne&&Array.isArray(Ne)&&(R.providerData=Ne.map(D=>Object.assign({},D))),G&&(R._redirectEventId=G),R}static async _fromIdTokenResponse(e,n,s=!1){const o=new ka;o.updateFromServerResponse(n);const u=new kn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await zc(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ae(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?X0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new ka;m.updateFromIdToken(s);const p=new kn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Jd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=new Map;function Li(r){Bi(r instanceof Function,"Expected a class definition");let e=r_.get(r);return e?(Bi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,r_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$0.type="NONE";const s_=$0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(r,e,n){return`firebase:${r}:${e}:${n}`}class Ua{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Rc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Rc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await jc(this.auth,{idToken:e}).catch(()=>{});return n?kn._fromGetAccountInfoResponse(this.auth,n,e):null}return kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ua(Li(s_),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Li(s_);const f=Rc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let A;if(typeof E=="string"){const C=await jc(e,{idToken:E}).catch(()=>{});if(!C)break;A=await kn._fromGetAccountInfoResponse(e,C,E)}else A=kn._fromJSON(e,E);y!==u&&(m=A),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ua(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Ua(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Z0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nE(e))return"Blackberry";if(iE(e))return"Webos";if(J0(e))return"Safari";if((e.includes("chrome/")||W0(e))&&!e.includes("edge/"))return"Chrome";if(tE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Z0(r=Xt()){return/firefox\//i.test(r)}function J0(r=Xt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function W0(r=Xt()){return/crios\//i.test(r)}function eE(r=Xt()){return/iemobile/i.test(r)}function tE(r=Xt()){return/android/i.test(r)}function nE(r=Xt()){return/blackberry/i.test(r)}function iE(r=Xt()){return/webos/i.test(r)}function Dm(r=Xt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function B2(r=Xt()){var e;return Dm(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function q2(){return iS()&&document.documentMode===10}function rE(r=Xt()){return Dm(r)||tE(r)||iE(r)||nE(r)||/windows phone/i.test(r)||eE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(r,e=[]){let n;switch(r){case"Browser":n=a_(Xt());break;case"Worker":n=`${a_(Xt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Za}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(r,e={}){return Ja(r,"GET","/v2/passwordPolicy",Nm(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=6;class Q2{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:F2,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o_(this),this.idTokenSubscription=new o_(this),this.beforeStateQueue=new H2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=F0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Li(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Ua.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await jc(this,{idToken:e}),s=await kn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Pn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=C2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(Is(this));const n=e?mn(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(Is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(Is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await G2(this),n=new Q2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ul("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await z2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Li(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await Ua.create(this,[Li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&A2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ah(r){return mn(r)}class o_{constructor(e){this.auth=e,this.observer=null,this.addObserver=hS(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y2(r){xm=r}function X2(r){return xm.loadJS(r)}function $2(){return xm.gapiScript}function Z2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(r,e){const n=Sm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ns(u,e??{}))return o;oi(o,"already-initialized")}return n.initialize({options:e})}function W2(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Li);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function ew(r,e,n){const s=ah(r);Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=aE(e),{host:f,port:m}=tw(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ae(Ns(y,s.config.emulator)&&Ns(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,kl(f)?(k0(`${u}//${f}${p}`),U0("Auth",!0)):nw()}function aE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function tw(r){const e=aE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:l_(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:l_(f)}}}function l_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function nw(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ui("not implemented")}_getIdTokenResponse(e){return Ui("not implemented")}_linkToIdToken(e,n){return Ui("not implemented")}_getReauthenticationResolver(e){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(r,e){return D2(r,"POST","/v1/accounts:signInWithIdp",Nm(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="http://localhost";class Ds extends oE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ds(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):oi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=wm(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Ds(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return La(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,La(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,La(e,n)}buildRequest(){const e={requestUri:iw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ll(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends Vm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends zl{constructor(){super("facebook.com")}static credential(e){return Ds._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tr.credential(e.oauthAccessToken)}catch{return null}}}Tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Tr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends zl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ds._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ki.credential(n,s)}catch{return null}}}ki.GOOGLE_SIGN_IN_METHOD="google.com";ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends zl{constructor(){super("github.com")}static credential(e){return Ds._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.GITHUB_SIGN_IN_METHOD="github.com";br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends zl{constructor(){super("twitter.com")}static credential(e,n){return Ds._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ar.credential(n,s)}catch{return null}}}Ar.TWITTER_SIGN_IN_METHOD="twitter.com";Ar.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await kn._fromIdTokenResponse(e,s,o),f=u_(s);return new Ba({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=u_(s);return new Ba({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function u_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends Gi{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Bc.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Bc(e,n,s,o)}}function lE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Bc._fromErrorAndOperation(r,u,e,s):u})}async function rw(r,e,n=!1){const s=await Rl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Ba._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sw(r,e,n=!1){const{auth:s}=r;if(Pn(s.app))return Promise.reject(Is(s));const o="reauthenticate";try{const u=await Rl(r,lE(s,o,e,r),n);Ae(u.idToken,s,"internal-error");const f=Om(u.idToken);Ae(f,s,"internal-error");const{sub:m}=f;return Ae(r.uid===m,s,"user-mismatch"),Ba._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&oi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aw(r,e,n=!1){if(Pn(r.app))return Promise.reject(Is(r));const s="signIn",o=await lE(r,s,e),u=await Ba._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function ow(r,e,n,s){return mn(r).onIdTokenChanged(e,n,s)}function lw(r,e,n){return mn(r).beforeAuthStateChanged(e,n)}function uw(r,e,n,s){return mn(r).onAuthStateChanged(e,n,s)}function cw(r){return mn(r).signOut()}const qc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qc,"1"),this.storage.removeItem(qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=1e3,fw=10;class cE extends uE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);q2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,fw):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},hw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cE.type="LOCAL";const dw=cE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE extends uE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hE.type="SESSION";const fE=hE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new oh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await mw(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=Mm("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const C=A;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(C.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function pw(r){ri().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function yw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vw(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function _w(){return dE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="firebaseLocalStorageDb",Ew=1,Hc="firebaseLocalStorage",gE="fbase_key";class Bl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function lh(r,e){return r.transaction([Hc],e?"readwrite":"readonly").objectStore(Hc)}function Tw(){const r=indexedDB.deleteDatabase(mE);return new Bl(r).toPromise()}function Wd(){const r=indexedDB.open(mE,Ew);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Hc,{keyPath:gE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Hc)?e(s):(s.close(),await Tw(),e(await Wd()))})})}async function c_(r,e,n){const s=lh(r,!0).put({[gE]:e,value:n});return new Bl(s).toPromise()}async function bw(r,e){const n=lh(r,!1).get(e),s=await new Bl(n).toPromise();return s===void 0?null:s.value}function h_(r,e){const n=lh(r,!0).delete(e);return new Bl(n).toPromise()}const Aw=800,Sw=3;class pE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Sw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oh._getInstance(_w()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await yw(),!this.activeServiceWorker)return;this.sender=new gw(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wd();return await c_(e,qc,"1"),await h_(e,qc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>c_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>bw(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>h_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=lh(o,!1).getAll();return new Bl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Aw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pE.type="LOCAL";const ww=pE;new jl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(r,e){return e?Li(e):(Ae(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm extends oE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return La(e,this._buildIdpRequest())}_linkToIdToken(e,n){return La(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return La(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Rw(r){return aw(r.auth,new Pm(r),r.bypassAuthState)}function Cw(r){const{auth:e,user:n}=r;return Ae(n,e,"internal-error"),sw(n,new Pm(r),r.bypassAuthState)}async function Iw(r){const{auth:e,user:n}=r;return Ae(n,e,"internal-error"),rw(n,new Pm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Rw;case"linkViaPopup":case"linkViaRedirect":return Iw;case"reauthViaPopup":case"reauthViaRedirect":return Cw;default:oi(this.auth,"internal-error")}}resolve(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=new jl(2e3,1e4);async function Ow(r,e,n){if(Pn(r.app))return Promise.reject(Ln(r,"operation-not-supported-in-this-environment"));const s=ah(r);S2(r,e,Vm);const o=yE(s,n);return new Rs(s,"signInViaPopup",e,o).executeNotNull()}class Rs extends vE{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Rs.currentPopupAction&&Rs.currentPopupAction.cancel(),Rs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Bi(this.filter.length===1,"Popup operations only handle one event");const e=Mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Nw.get())};e()}}Rs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="pendingRedirect",Cc=new Map;class xw extends vE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Cc.get(this.auth._key());if(!e){try{const s=await Vw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Cc.set(this.auth._key(),e)}return this.bypassAuthState||Cc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Vw(r,e){const n=kw(e),s=Pw(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function Mw(r,e){Cc.set(r._key(),e)}function Pw(r){return Li(r._redirectPersistence)}function kw(r){return Rc(Dw,r.config.apiKey,r.name)}async function Uw(r,e,n=!1){if(Pn(r.app))return Promise.reject(Is(r));const s=ah(r),o=yE(s,e),f=await new xw(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=10*60*1e3;class jw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zw(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!_E(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ln(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Lw&&this.cachedEventUids.clear(),this.cachedEventUids.has(f_(e))}saveEventToCache(e){this.cachedEventUids.add(f_(e)),this.lastProcessedEventTime=Date.now()}}function f_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function _E({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _E(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bw(r,e={}){return Ja(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hw=/^https?/;async function Gw(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Bw(r);for(const n of e)try{if(Fw(n))return}catch{}oi(r,"unauthorized-domain")}function Fw(r){const e=Zd(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!Hw.test(n))return!1;if(qw.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=new jl(3e4,6e4);function d_(){const r=ri().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Kw(r){return new Promise((e,n)=>{var s,o,u;function f(){d_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{d_(),n(Ln(r,"network-request-failed"))},timeout:Qw.get()})}if(!((o=(s=ri().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=ri().gapi)===null||u===void 0)&&u.load)f();else{const m=Z2("iframefcb");return ri()[m]=()=>{gapi.load?f():n(Ln(r,"network-request-failed"))},X2(`${$2()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Ic=null,e})}let Ic=null;function Yw(r){return Ic=Ic||Kw(r),Ic}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=new jl(5e3,15e3),$w="__/auth/iframe",Zw="emulator/auth/iframe",Jw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ww=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eR(r){const e=r.config;Ae(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Im(e,Zw):`https://${r.config.authDomain}/${$w}`,s={apiKey:e.apiKey,appName:r.name,v:Za},o=Ww.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Ll(s).slice(1)}`}async function tR(r){const e=await Yw(r),n=ri().gapi;return Ae(n,r,"internal-error"),e.open({where:document.body,url:eR(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jw,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ln(r,"network-request-failed"),m=ri().setTimeout(()=>{u(f)},Xw.get());function p(){ri().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iR=500,rR=600,sR="_blank",aR="http://localhost";class m_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oR(r,e,n,s=iR,o=rR){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},nR),{width:s.toString(),height:o.toString(),top:u,left:f}),y=Xt().toLowerCase();n&&(m=W0(y)?sR:n),Z0(y)&&(e=e||aR,p.scrollbars="yes");const E=Object.entries(p).reduce((C,[B,Y])=>`${C}${B}=${Y},`,"");if(B2(y)&&m!=="_self")return lR(e||"",m),new m_(null);const A=window.open(e||"",m,E);Ae(A,r,"popup-blocked");try{A.focus()}catch{}return new m_(A)}function lR(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="__/auth/handler",cR="emulator/auth/handler",hR=encodeURIComponent("fac");async function g_(r,e,n,s,o,u){Ae(r.config.authDomain,r,"auth-domain-config-required"),Ae(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Za,eventId:o};if(e instanceof Vm){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",cS(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(e instanceof zl){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${hR}=${encodeURIComponent(p)}`:"";return`${fR(r)}?${Ll(m).slice(1)}${y}`}function fR({config:r}){return r.emulator?Im(r,cR):`https://${r.authDomain}/${uR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="webStorageSupport";class dR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fE,this._completeRedirectFn=Uw,this._overrideRedirectResult=Mw}async _openPopup(e,n,s,o){var u;Bi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await g_(e,n,s,Zd(),o);return oR(e,f,Mm())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await g_(e,n,s,Zd(),o);return pw(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Bi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await tR(e),s=new jw(e);return n.register("authEvent",o=>(Ae(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ud,{type:Ud},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Ud];f!==void 0&&n(!!f),oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Gw(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rE()||J0()||Dm()}}const mR=dR;var p_="@firebase/auth",y_="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yR(r){za(new Os("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ae(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sE(r)},y=new K2(s,o,u,p);return W2(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),za(new Os("auth-internal",e=>{const n=ah(e.getProvider("auth").getImmediate());return(s=>new gR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Or(p_,y_,pR(r)),Or(p_,y_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=5*60,_R=P0("authIdTokenMaxAge")||vR;let v_=null;const ER=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>_R)return;const o=n==null?void 0:n.token;v_!==o&&(v_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function TR(r=B0()){const e=Sm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=J2(r,{popupRedirectResolver:mR,persistence:[ww,dw,fE]}),s=P0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=ER(u.toString());lw(n,f,()=>f(n.currentUser)),ow(n,m=>f(m))}}const o=V0("auth");return o&&ew(n,`http://${o}`),n}function bR(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}Y2({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ln("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",bR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yR("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function AR(r,e,n,s){function o(u){return u instanceof n?u:new n(function(f){f(u)})}return new(n||(n=Promise))(function(u,f){function m(E){try{y(s.next(E))}catch(A){f(A)}}function p(E){try{y(s.throw(E))}catch(A){f(A)}}function y(E){E.done?u(E.value):o(E.value).then(m,p)}y((s=s.apply(r,[])).next())})}function SR(r,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,o,u,f;return f={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(y){return function(E){return p([y,E])}}function p(y){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,o&&(u=y[0]&2?o.return:y[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,y[1])).done)return u;switch(o=0,u&&(y=[y[0]&2,u.value]),y[0]){case 0:case 1:u=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,o=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!u||y[1]>u[0]&&y[1]<u[3])){n.label=y[1];break}if(y[0]===6&&n.label<u[1]){n.label=u[1],u=y;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(y);break}u[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(r,n)}catch(E){y=[6,E],o=0}finally{s=u=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Pa=function(){return Pa=Object.assign||function(e){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},Pa.apply(this,arguments)},EE=function(r){return{loading:r==null,value:r}},wR=function(){return function(r,e){switch(e.type){case"error":return Pa(Pa({},r),{error:e.error,loading:!1,value:void 0});case"reset":return EE(e.defaultValue);case"value":return Pa(Pa({},r),{error:void 0,loading:!1,value:e.value});default:return r}}},RR=function(r){var e=r?r():void 0,n=F.useReducer(wR(),EE(e)),s=n[0],o=n[1],u=F.useCallback(function(){var p=r?r():void 0;o({type:"reset",defaultValue:p})},[r]),f=F.useCallback(function(p){o({type:"error",error:p})},[]),m=F.useCallback(function(p){o({type:"value",value:p})},[]);return F.useMemo(function(){return{error:s.error,loading:s.loading,reset:u,setError:f,setValue:m,value:s.value}},[s.error,s.loading,u,f,m,s.value])},CR=function(r,e){var n=RR(function(){return r.currentUser}),s=n.error,o=n.loading,u=n.setError,f=n.setValue,m=n.value;return F.useEffect(function(){var p=uw(r,function(y){return AR(void 0,void 0,void 0,function(){var E;return SR(this,function(A){switch(A.label){case 0:return[3,4];case 1:return A.trys.push([1,3,,4]),[4,e.onUserChanged(y)];case 2:return A.sent(),[3,4];case 3:return E=A.sent(),u(E),[3,4];case 4:return f(y),[2]}})})},u);return function(){p()}},[r]),[m,o,s]},IR="firebase",NR="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or(IR,NR,"app");var __=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Dr,TE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function R(){}R.prototype=S.prototype,x.D=S.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(D,V,k){for(var I=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)I[mt-2]=arguments[mt];return S.prototype[V].apply(D,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,S,R){R||(R=0);var D=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)D[V]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(V=0;16>V;++V)D[V]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=x.g[0],R=x.g[1],V=x.g[2];var k=x.g[3],I=S+(k^R&(V^k))+D[0]+3614090360&4294967295;S=R+(I<<7&4294967295|I>>>25),I=k+(V^S&(R^V))+D[1]+3905402710&4294967295,k=S+(I<<12&4294967295|I>>>20),I=V+(R^k&(S^R))+D[2]+606105819&4294967295,V=k+(I<<17&4294967295|I>>>15),I=R+(S^V&(k^S))+D[3]+3250441966&4294967295,R=V+(I<<22&4294967295|I>>>10),I=S+(k^R&(V^k))+D[4]+4118548399&4294967295,S=R+(I<<7&4294967295|I>>>25),I=k+(V^S&(R^V))+D[5]+1200080426&4294967295,k=S+(I<<12&4294967295|I>>>20),I=V+(R^k&(S^R))+D[6]+2821735955&4294967295,V=k+(I<<17&4294967295|I>>>15),I=R+(S^V&(k^S))+D[7]+4249261313&4294967295,R=V+(I<<22&4294967295|I>>>10),I=S+(k^R&(V^k))+D[8]+1770035416&4294967295,S=R+(I<<7&4294967295|I>>>25),I=k+(V^S&(R^V))+D[9]+2336552879&4294967295,k=S+(I<<12&4294967295|I>>>20),I=V+(R^k&(S^R))+D[10]+4294925233&4294967295,V=k+(I<<17&4294967295|I>>>15),I=R+(S^V&(k^S))+D[11]+2304563134&4294967295,R=V+(I<<22&4294967295|I>>>10),I=S+(k^R&(V^k))+D[12]+1804603682&4294967295,S=R+(I<<7&4294967295|I>>>25),I=k+(V^S&(R^V))+D[13]+4254626195&4294967295,k=S+(I<<12&4294967295|I>>>20),I=V+(R^k&(S^R))+D[14]+2792965006&4294967295,V=k+(I<<17&4294967295|I>>>15),I=R+(S^V&(k^S))+D[15]+1236535329&4294967295,R=V+(I<<22&4294967295|I>>>10),I=S+(V^k&(R^V))+D[1]+4129170786&4294967295,S=R+(I<<5&4294967295|I>>>27),I=k+(R^V&(S^R))+D[6]+3225465664&4294967295,k=S+(I<<9&4294967295|I>>>23),I=V+(S^R&(k^S))+D[11]+643717713&4294967295,V=k+(I<<14&4294967295|I>>>18),I=R+(k^S&(V^k))+D[0]+3921069994&4294967295,R=V+(I<<20&4294967295|I>>>12),I=S+(V^k&(R^V))+D[5]+3593408605&4294967295,S=R+(I<<5&4294967295|I>>>27),I=k+(R^V&(S^R))+D[10]+38016083&4294967295,k=S+(I<<9&4294967295|I>>>23),I=V+(S^R&(k^S))+D[15]+3634488961&4294967295,V=k+(I<<14&4294967295|I>>>18),I=R+(k^S&(V^k))+D[4]+3889429448&4294967295,R=V+(I<<20&4294967295|I>>>12),I=S+(V^k&(R^V))+D[9]+568446438&4294967295,S=R+(I<<5&4294967295|I>>>27),I=k+(R^V&(S^R))+D[14]+3275163606&4294967295,k=S+(I<<9&4294967295|I>>>23),I=V+(S^R&(k^S))+D[3]+4107603335&4294967295,V=k+(I<<14&4294967295|I>>>18),I=R+(k^S&(V^k))+D[8]+1163531501&4294967295,R=V+(I<<20&4294967295|I>>>12),I=S+(V^k&(R^V))+D[13]+2850285829&4294967295,S=R+(I<<5&4294967295|I>>>27),I=k+(R^V&(S^R))+D[2]+4243563512&4294967295,k=S+(I<<9&4294967295|I>>>23),I=V+(S^R&(k^S))+D[7]+1735328473&4294967295,V=k+(I<<14&4294967295|I>>>18),I=R+(k^S&(V^k))+D[12]+2368359562&4294967295,R=V+(I<<20&4294967295|I>>>12),I=S+(R^V^k)+D[5]+4294588738&4294967295,S=R+(I<<4&4294967295|I>>>28),I=k+(S^R^V)+D[8]+2272392833&4294967295,k=S+(I<<11&4294967295|I>>>21),I=V+(k^S^R)+D[11]+1839030562&4294967295,V=k+(I<<16&4294967295|I>>>16),I=R+(V^k^S)+D[14]+4259657740&4294967295,R=V+(I<<23&4294967295|I>>>9),I=S+(R^V^k)+D[1]+2763975236&4294967295,S=R+(I<<4&4294967295|I>>>28),I=k+(S^R^V)+D[4]+1272893353&4294967295,k=S+(I<<11&4294967295|I>>>21),I=V+(k^S^R)+D[7]+4139469664&4294967295,V=k+(I<<16&4294967295|I>>>16),I=R+(V^k^S)+D[10]+3200236656&4294967295,R=V+(I<<23&4294967295|I>>>9),I=S+(R^V^k)+D[13]+681279174&4294967295,S=R+(I<<4&4294967295|I>>>28),I=k+(S^R^V)+D[0]+3936430074&4294967295,k=S+(I<<11&4294967295|I>>>21),I=V+(k^S^R)+D[3]+3572445317&4294967295,V=k+(I<<16&4294967295|I>>>16),I=R+(V^k^S)+D[6]+76029189&4294967295,R=V+(I<<23&4294967295|I>>>9),I=S+(R^V^k)+D[9]+3654602809&4294967295,S=R+(I<<4&4294967295|I>>>28),I=k+(S^R^V)+D[12]+3873151461&4294967295,k=S+(I<<11&4294967295|I>>>21),I=V+(k^S^R)+D[15]+530742520&4294967295,V=k+(I<<16&4294967295|I>>>16),I=R+(V^k^S)+D[2]+3299628645&4294967295,R=V+(I<<23&4294967295|I>>>9),I=S+(V^(R|~k))+D[0]+4096336452&4294967295,S=R+(I<<6&4294967295|I>>>26),I=k+(R^(S|~V))+D[7]+1126891415&4294967295,k=S+(I<<10&4294967295|I>>>22),I=V+(S^(k|~R))+D[14]+2878612391&4294967295,V=k+(I<<15&4294967295|I>>>17),I=R+(k^(V|~S))+D[5]+4237533241&4294967295,R=V+(I<<21&4294967295|I>>>11),I=S+(V^(R|~k))+D[12]+1700485571&4294967295,S=R+(I<<6&4294967295|I>>>26),I=k+(R^(S|~V))+D[3]+2399980690&4294967295,k=S+(I<<10&4294967295|I>>>22),I=V+(S^(k|~R))+D[10]+4293915773&4294967295,V=k+(I<<15&4294967295|I>>>17),I=R+(k^(V|~S))+D[1]+2240044497&4294967295,R=V+(I<<21&4294967295|I>>>11),I=S+(V^(R|~k))+D[8]+1873313359&4294967295,S=R+(I<<6&4294967295|I>>>26),I=k+(R^(S|~V))+D[15]+4264355552&4294967295,k=S+(I<<10&4294967295|I>>>22),I=V+(S^(k|~R))+D[6]+2734768916&4294967295,V=k+(I<<15&4294967295|I>>>17),I=R+(k^(V|~S))+D[13]+1309151649&4294967295,R=V+(I<<21&4294967295|I>>>11),I=S+(V^(R|~k))+D[4]+4149444226&4294967295,S=R+(I<<6&4294967295|I>>>26),I=k+(R^(S|~V))+D[11]+3174756917&4294967295,k=S+(I<<10&4294967295|I>>>22),I=V+(S^(k|~R))+D[2]+718787259&4294967295,V=k+(I<<15&4294967295|I>>>17),I=R+(k^(V|~S))+D[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+V&4294967295,x.g[3]=x.g[3]+k&4294967295}s.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var R=S-this.blockSize,D=this.B,V=this.h,k=0;k<S;){if(V==0)for(;k<=R;)o(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<S;)if(D[V++]=x.charCodeAt(k++),V==this.blockSize){o(this,D),V=0;break}}else for(;k<S;)if(D[V++]=x[k++],V==this.blockSize){o(this,D),V=0;break}}this.h=V,this.o+=S},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var R=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=R&255,R/=256;for(this.u(x),x=Array(16),S=R=0;4>S;++S)for(var D=0;32>D;D+=8)x[R++]=this.g[S]>>>D&255;return x};function u(x,S){var R=m;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=S(x)}function f(x,S){this.h=S;for(var R=[],D=!0,V=x.length-1;0<=V;V--){var k=x[V]|0;D&&k==S||(R[V]=k,D=!1)}this.g=R}var m={};function p(x){return-128<=x&&128>x?u(x,function(S){return new f([S|0],0>S?-1:0)}):new f([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return A;if(0>x)return G(y(-x));for(var S=[],R=1,D=0;x>=R;D++)S[D]=x/R|0,R*=4294967296;return new f(S,0)}function E(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return G(E(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(S,8)),D=A,V=0;V<x.length;V+=8){var k=Math.min(8,x.length-V),I=parseInt(x.substring(V,V+k),S);8>k?(k=y(Math.pow(S,k)),D=D.j(k).add(y(I))):(D=D.j(R),D=D.add(y(I)))}return D}var A=p(0),C=p(1),B=p(16777216);r=f.prototype,r.m=function(){if(W(this))return-G(this).m();for(var x=0,S=1,R=0;R<this.g.length;R++){var D=this.i(R);x+=(0<=D?D:4294967296+D)*S,S*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(Y(this))return"0";if(W(this))return"-"+G(this).toString(x);for(var S=y(Math.pow(x,6)),R=this,D="";;){var V=Ee(R,S).g;R=ce(R,V.j(S));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=V,Y(R))return k+D;for(;6>k.length;)k="0"+k;D=k+D}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function Y(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function W(x){return x.h==-1}r.l=function(x){return x=ce(this,x),W(x)?-1:Y(x)?0:1};function G(x){for(var S=x.g.length,R=[],D=0;D<S;D++)R[D]=~x.g[D];return new f(R,~x.h).add(C)}r.abs=function(){return W(this)?G(this):this},r.add=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],D=0,V=0;V<=S;V++){var k=D+(this.i(V)&65535)+(x.i(V)&65535),I=(k>>>16)+(this.i(V)>>>16)+(x.i(V)>>>16);D=I>>>16,k&=65535,I&=65535,R[V]=I<<16|k}return new f(R,R[R.length-1]&-2147483648?-1:0)};function ce(x,S){return x.add(G(S))}r.j=function(x){if(Y(this)||Y(x))return A;if(W(this))return W(x)?G(this).j(G(x)):G(G(this).j(x));if(W(x))return G(this.j(G(x)));if(0>this.l(B)&&0>x.l(B))return y(this.m()*x.m());for(var S=this.g.length+x.g.length,R=[],D=0;D<2*S;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<x.g.length;V++){var k=this.i(D)>>>16,I=this.i(D)&65535,mt=x.i(V)>>>16,et=x.i(V)&65535;R[2*D+2*V]+=I*et,oe(R,2*D+2*V),R[2*D+2*V+1]+=k*et,oe(R,2*D+2*V+1),R[2*D+2*V+1]+=I*mt,oe(R,2*D+2*V+1),R[2*D+2*V+2]+=k*mt,oe(R,2*D+2*V+2)}for(D=0;D<S;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=S;D<2*S;D++)R[D]=0;return new f(R,0)};function oe(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function ae(x,S){this.g=x,this.h=S}function Ee(x,S){if(Y(S))throw Error("division by zero");if(Y(x))return new ae(A,A);if(W(x))return S=Ee(G(x),S),new ae(G(S.g),G(S.h));if(W(S))return S=Ee(x,G(S)),new ae(G(S.g),S.h);if(30<x.g.length){if(W(x)||W(S))throw Error("slowDivide_ only works with positive integers.");for(var R=C,D=S;0>=D.l(x);)R=me(R),D=me(D);var V=Ne(R,1),k=Ne(D,1);for(D=Ne(D,2),R=Ne(R,2);!Y(D);){var I=k.add(D);0>=I.l(x)&&(V=V.add(R),k=I),D=Ne(D,1),R=Ne(R,1)}return S=ce(x,V.j(S)),new ae(V,S)}for(V=A;0<=x.l(S);){for(R=Math.max(1,Math.floor(x.m()/S.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),k=y(R),I=k.j(S);W(I)||0<I.l(x);)R-=D,k=y(R),I=k.j(S);Y(k)&&(k=C),V=V.add(k),x=ce(x,I)}return new ae(V,x)}r.A=function(x){return Ee(this,x).h},r.and=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],D=0;D<S;D++)R[D]=this.i(D)&x.i(D);return new f(R,this.h&x.h)},r.or=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],D=0;D<S;D++)R[D]=this.i(D)|x.i(D);return new f(R,this.h|x.h)},r.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],D=0;D<S;D++)R[D]=this.i(D)^x.i(D);return new f(R,this.h^x.h)};function me(x){for(var S=x.g.length+1,R=[],D=0;D<S;D++)R[D]=x.i(D)<<1|x.i(D-1)>>>31;return new f(R,x.h)}function Ne(x,S){var R=S>>5;S%=32;for(var D=x.g.length-R,V=[],k=0;k<D;k++)V[k]=0<S?x.i(k+R)>>>S|x.i(k+R+1)<<32-S:x.i(k+R);return new f(V,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,TE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Dr=f}).apply(typeof __<"u"?__:typeof self<"u"?self:typeof window<"u"?window:{});var _c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bE,ml,AE,Nc,em,SE,wE,RE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof _c=="object"&&_c];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var v=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var U=c[b];if(!(U in v))break e;v=v[U]}c=c[c.length-1],b=v[c],g=g(b),g!=b&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var v=0,b=!1,U={next:function(){if(!b&&v<c.length){var H=v++;return{value:g(H,c[H]),done:!1}}return b=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,v){return c.call.apply(c.bind,arguments)}function A(c,g,v){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,b),c.apply(g,U)}}return function(){return c.apply(g,arguments)}}function C(c,g,v){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,C.apply(null,arguments)}function B(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function Y(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(b,U,H){for(var ne=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ne[Pe-2]=arguments[Pe];return g.prototype[U].apply(b,ne)}}function W(c){const g=c.length;if(0<g){const v=Array(g);for(let b=0;b<g;b++)v[b]=c[b];return v}return[]}function G(c,g){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(p(b)){const U=c.length||0,H=b.length||0;c.length=U+H;for(let ne=0;ne<H;ne++)c[U+ne]=b[ne]}else c.push(b)}}class ce{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function oe(c){return/^[\s\xa0]*$/.test(c)}function ae(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Ee(c){return Ee[" "](c),c}Ee[" "]=function(){};var me=ae().indexOf("Gecko")!=-1&&!(ae().toLowerCase().indexOf("webkit")!=-1&&ae().indexOf("Edge")==-1)&&!(ae().indexOf("Trident")!=-1||ae().indexOf("MSIE")!=-1)&&ae().indexOf("Edge")==-1;function Ne(c,g,v){for(const b in c)g.call(v,c[b],b,c)}function x(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function S(c){const g={};for(const v in c)g[v]=c[v];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,g){let v,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(v in b)c[v]=b[v];for(let H=0;H<R.length;H++)v=R[H],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function V(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function k(c){m.setTimeout(()=>{throw c},0)}function I(){var c=je;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class mt{constructor(){this.h=this.g=null}add(g,v){const b=et.get();b.set(g,v),this.h?this.h.next=b:this.g=b,this.h=b}}var et=new ce(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,he=!1,je=new mt,N=()=>{const c=m.Promise.resolve(void 0);ie=()=>{c.then(J)}};var J=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(v){k(v)}var g=et;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}he=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return c}();function se(c,g){if(te.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(me){e:{try{Ee(g.nodeName);var U=!0;break e}catch{}U=!1}U||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&se.aa.h.call(this)}}Y(se,te);var be={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var It="closure_listenable_"+(1e6*Math.random()|0),Je=0;function zn(c,g,v,b,U){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!b,this.ha=U,this.key=++Je,this.da=this.fa=!1}function Fi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ci(c){this.src=c,this.g={},this.h=0}ci.prototype.add=function(c,g,v,b,U){var H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);var ne=Hr(c,g,b,U);return-1<ne?(g=c[ne],v||(g.fa=!1)):(g=new zn(g,this.src,H,!!b,U),g.fa=v,c.push(g)),g};function qr(c,g){var v=g.type;if(v in c.g){var b=c.g[v],U=Array.prototype.indexOf.call(b,g,void 0),H;(H=0<=U)&&Array.prototype.splice.call(b,U,1),H&&(Fi(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Hr(c,g,v,b){for(var U=0;U<c.length;++U){var H=c[U];if(!H.da&&H.listener==g&&H.capture==!!v&&H.ha==b)return U}return-1}var Gr="closure_lm_"+(1e6*Math.random()|0),io={};function Kl(c,g,v,b,U){if(Array.isArray(g)){for(var H=0;H<g.length;H++)Kl(c,g[H],v,b,U);return null}return v=Yl(v),c&&c[It]?c.K(g,v,y(b)?!!b.capture:!1,U):gn(c,g,v,!1,b,U)}function gn(c,g,v,b,U,H){if(!g)throw Error("Invalid event type");var ne=y(U)?!!U.capture:!!U,Pe=js(c);if(Pe||(c[Gr]=Pe=new ci(c)),v=Pe.add(g,v,b,ne,H),v.proxy)return v;if(b=Ah(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)de||(U=ne),U===void 0&&(U=!1),c.addEventListener(g.toString(),b,U);else if(c.attachEvent)c.attachEvent(Fr(g.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ah(){function c(v){return g.call(c.src,c.listener,v)}const g=Sh;return c}function ro(c,g,v,b,U){if(Array.isArray(g))for(var H=0;H<g.length;H++)ro(c,g[H],v,b,U);else b=y(b)?!!b.capture:!!b,v=Yl(v),c&&c[It]?(c=c.i,g=String(g).toString(),g in c.g&&(H=c.g[g],v=Hr(H,v,b,U),-1<v&&(Fi(H[v]),Array.prototype.splice.call(H,v,1),H.length==0&&(delete c.g[g],c.h--)))):c&&(c=js(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Hr(g,v,b,U)),(v=-1<c?g[c]:null)&&Ls(v))}function Ls(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[It])qr(g.i,c);else{var v=c.type,b=c.proxy;g.removeEventListener?g.removeEventListener(v,b,c.capture):g.detachEvent?g.detachEvent(Fr(v),b):g.addListener&&g.removeListener&&g.removeListener(b),(v=js(g))?(qr(v,c),v.h==0&&(v.src=null,g[Gr]=null)):Fi(c)}}}function Fr(c){return c in io?io[c]:io[c]="on"+c}function Sh(c,g){if(c.da)c=!0;else{g=new se(g,this);var v=c.listener,b=c.ha||c.src;c.fa&&Ls(c),c=v.call(b,g)}return c}function js(c){return c=c[Gr],c instanceof ci?c:null}var so="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yl(c){return typeof c=="function"?c:(c[so]||(c[so]=function(g){return c.handleEvent(g)}),c[so])}function at(){re.call(this),this.i=new ci(this),this.M=this,this.F=null}Y(at,re),at.prototype[It]=!0,at.prototype.removeEventListener=function(c,g,v,b){ro(this,c,g,v,b)};function Ge(c,g){var v,b=c.F;if(b)for(v=[];b;b=b.F)v.push(b);if(c=c.M,b=g.type||g,typeof g=="string")g=new te(g,c);else if(g instanceof te)g.target=g.target||c;else{var U=g;g=new te(b,c),D(g,U)}if(U=!0,v)for(var H=v.length-1;0<=H;H--){var ne=g.g=v[H];U=sn(ne,b,!0,g)&&U}if(ne=g.g=c,U=sn(ne,b,!0,g)&&U,U=sn(ne,b,!1,g)&&U,v)for(H=0;H<v.length;H++)ne=g.g=v[H],U=sn(ne,b,!1,g)&&U}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],b=0;b<v.length;b++)Fi(v[b]);delete c.g[g],c.h--}}this.F=null},at.prototype.K=function(c,g,v,b){return this.i.add(String(c),g,!1,v,b)},at.prototype.L=function(c,g,v,b){return this.i.add(String(c),g,!0,v,b)};function sn(c,g,v,b){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,H=0;H<g.length;++H){var ne=g[H];if(ne&&!ne.da&&ne.capture==v){var Pe=ne.listener,Tt=ne.ha||ne.src;ne.fa&&qr(c.i,ne),U=Pe.call(Tt,b)!==!1&&U}}return U&&!b.defaultPrevented}function Ht(c,g,v){if(typeof c=="function")v&&(c=C(c,v));else if(c&&typeof c.handleEvent=="function")c=C(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function Xl(c){c.g=Ht(()=>{c.g=null,c.i&&(c.i=!1,Xl(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class wh extends re{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Xl(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qr(c){re.call(this),this.h=c,this.g={}}Y(Qr,re);var Kr=[];function Yr(c){Ne(c.g,function(g,v){this.g.hasOwnProperty(v)&&Ls(g)},c),c.g={}}Qr.prototype.N=function(){Qr.aa.N.call(this),Yr(this)},Qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nn=m.JSON.stringify,zs=m.JSON.parse,Xr=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ao(){}ao.prototype.h=null;function oo(c){return c.h||(c.h=c.i())}function lo(){}var hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fi(){te.call(this,"d")}Y(fi,te);function uo(){te.call(this,"c")}Y(uo,te);var Bn={},co=null;function Qi(){return co=co||new at}Bn.La="serverreachability";function Bs(c){te.call(this,Bn.La,c)}Y(Bs,te);function Ki(c){const g=Qi();Ge(g,new Bs(g))}Bn.STAT_EVENT="statevent";function $l(c,g){te.call(this,Bn.STAT_EVENT,c),this.stat=g}Y($l,te);function tt(c){const g=Qi();Ge(g,new $l(g,c))}Bn.Ma="timingevent";function Et(c,g){te.call(this,Bn.Ma,c),this.size=g}Y(Et,te);function gt(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function ho(c,g,v,b,U,H){c.info(function(){if(c.g)if(H)for(var ne="",Pe=H.split("&"),Tt=0;Tt<Pe.length;Tt++){var ke=Pe[Tt].split("=");if(1<ke.length){var Ot=ke[0];ke=ke[1];var bt=Ot.split("_");ne=2<=bt.length&&bt[1]=="type"?ne+(Ot+"="+ke+"&"):ne+(Ot+"=redacted&")}}else ne=null;else ne=H;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+g+`
`+v+`
`+ne})}function Rh(c,g,v,b,U,H,ne){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+g+`
`+v+`
`+H+" "+ne})}function Yi(c,g,v,b){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+$r(c,v)+(b?" "+b:"")})}function Zl(c,g){c.info(function(){return"TIMEOUT: "+g})}pn.prototype.info=function(){};function $r(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var b=v[c];if(!(2>b.length)){var U=b[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ne=1;ne<U.length;ne++)U[ne]=""}}}}return Nn(v)}catch{return g}}var Xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qn;function Hn(){}Y(Hn,ao),Hn.prototype.g=function(){return new XMLHttpRequest},Hn.prototype.i=function(){return{}},qn=new Hn;function $t(c,g,v,b){this.j=c,this.i=g,this.l=v,this.R=b||1,this.U=new Qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ut}function ut(){this.i=null,this.g="",this.h=!1}var fo={},qs={};function On(c,g,v){c.L=1,c.v=ts(an(g)),c.m=v,c.P=!0,mi(c,null)}function mi(c,g){c.F=Date.now(),Zr(c),c.A=an(c.v);var v=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),_o(v.i,"t",b),c.C=0,v=c.j.J,c.h=new ut,c.g=du(c.j,v?g:null,!c.m),0<c.O&&(c.M=new wh(C(c.Y,c,c.g),c.O)),g=c.U,v=c.g,b=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(Kr[0]=U.toString()),U=Kr);for(var H=0;H<U.length;H++){var ne=Kl(v,U[H],b||g.handleEvent,!1,g.h||g);if(!ne)break;g.g[ne.key]=ne}g=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Ki(),ho(c.i,c.u,c.A,c.l,c.R,c.m)}$t.prototype.ca=function(c){c=c.target;const g=this.M;g&&En(c)==3?g.j():this.Y(c)},$t.prototype.Y=function(c){try{if(c==this.g)e:{const bt=En(this.g);var g=this.g.Ba();const bi=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||su(this.g)))){this.J||bt!=4||g==7||(g==8||0>=bi?Ki(3):Ki(2)),$i(this);var v=this.g.Z();this.X=v;t:if(Jl(this)){var b=su(this.g);c="";var U=b.length,H=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pt(this),Gn(this);var ne="";break t}this.h.i=new m.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,c+=this.h.i.decode(b[g],{stream:!(H&&g==U-1)});b.length=0,this.h.g+=c,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=v==200,Rh(this.i,this.u,this.A,this.l,this.R,bt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,Tt=this.g;if((Pe=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!oe(Pe)){var ke=Pe;break t}}ke=null}if(v=ke)Yi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jr(this,v);else{this.o=!1,this.s=3,tt(12),Pt(this),Gn(this);break e}}if(this.P){v=!0;let kt;for(;!this.J&&this.C<ne.length;)if(kt=Wl(this,ne),kt==qs){bt==4&&(this.s=4,tt(14),v=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==fo){this.s=4,tt(15),Yi(this.i,this.l,ne,"[Invalid Chunk]"),v=!1;break}else Yi(this.i,this.l,kt,null),Jr(this,kt);if(Jl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||ne.length!=0||this.h.h||(this.s=1,tt(16),v=!1),this.o=this.o&&v,!v)Yi(this.i,this.l,ne,"[Invalid Chunked Response]"),Pt(this),Gn(this);else if(0<ne.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),us(Ot),Ot.M=!0,tt(11))}}else Yi(this.i,this.l,ne,null),Jr(this,ne);bt==4&&Pt(this),this.o&&!this.J&&(bt==4?cu(this.j,this):(this.o=!1,Zr(this)))}else Dh(this.g),v==400&&0<ne.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),Pt(this),Gn(this)}}}catch{}finally{}};function Jl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Wl(c,g){var v=c.C,b=g.indexOf(`
`,v);return b==-1?qs:(v=Number(g.substring(v,b)),isNaN(v)?fo:(b+=1,b+v>g.length?qs:(g=g.slice(b,b+v),c.C=b+v,g)))}$t.prototype.cancel=function(){this.J=!0,Pt(this)};function Zr(c){c.S=Date.now()+c.I,eu(c,c.I)}function eu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=gt(C(c.ba,c),g)}function $i(c){c.B&&(m.clearTimeout(c.B),c.B=null)}$t.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Zl(this.i,this.A),this.L!=2&&(Ki(),tt(17)),Pt(this),this.s=2,Gn(this)):eu(this,this.S-c)};function Gn(c){c.j.G==0||c.J||cu(c.j,c)}function Pt(c){$i(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Yr(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Jr(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||mo(v.h,c))){if(!c.K&&mo(v.h,c)&&v.G==3){try{var b=v.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)ea(v),Js(v);else break e;So(v),tt(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=gt(C(v.Za,v),6e3));if(1>=Gs(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ti(v,11)}else if((c.K||v.g==c)&&ea(v),!oe(g))for(U=v.Da.g.parse(g),g=0;g<U.length;g++){let ke=U[g];if(v.T=ke[0],ke=ke[1],v.G==2)if(ke[0]=="c"){v.K=ke[1],v.ia=ke[2];const Ot=ke[3];Ot!=null&&(v.la=Ot,v.j.info("VER="+v.la));const bt=ke[4];bt!=null&&(v.Aa=bt,v.j.info("SVER="+v.Aa));const bi=ke[5];bi!=null&&typeof bi=="number"&&0<bi&&(b=1.5*bi,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const kt=c.g;if(kt){const Zn=kt.g?kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zn){var H=b.h;H.g||Zn.indexOf("spdy")==-1&&Zn.indexOf("quic")==-1&&Zn.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Fs(H,H.h),H.h=null))}if(b.D){const Ro=kt.g?kt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ro&&(b.ya=Ro,Ke(b.I,b.D,Ro))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var ne=c;if(b.qa=fu(b,b.J?b.ia:null,b.W),ne.K){Zt(b.h,ne);var Pe=ne,Tt=b.L;Tt&&(Pe.I=Tt),Pe.B&&($i(Pe),Zr(Pe)),b.g=ne}else lu(b);0<v.i.length&&Ws(v)}else ke[0]!="stop"&&ke[0]!="close"||Ti(v,7);else v.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Ti(v,7):bo(v):ke[0]!="noop"&&v.l&&v.l.ta(ke),v.v=0)}}Ki(4)}catch{}}var tu=class{constructor(c,g){this.g=c,this.map=g}};function gi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Gs(c){return c.h?1:c.g?c.g.size:0}function mo(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Fs(c,g){c.g?c.g.add(g):c.h=g}function Zt(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}gi.prototype.cancel=function(){if(this.i=go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function go(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return W(c.i)}function Ch(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],v=c.length,b=0;b<v;b++)g.push(c[b]);return g}g=[],v=0;for(b in c)g[v++]=c[b];return g}function Qs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const b in c)g[v++]=b;return g}}}function po(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=Qs(c),b=Ch(c),U=b.length,H=0;H<U;H++)g.call(void 0,b[H],v&&v[H],c)}var Wr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ih(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var b=c[v].indexOf("="),U=null;if(0<=b){var H=c[v].substring(0,b);U=c[v].substring(b+1)}else H=c[v];g(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function pt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pt){this.h=c.h,es(this,c.j),this.o=c.o,this.g=c.g,Zi(this,c.s),this.l=c.l;var g=c.i,v=new yi;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),pi(this,v),this.m=c.m}else c&&(g=String(c).match(Wr))?(this.h=!1,es(this,g[1]||"",!0),this.o=yn(g[2]||""),this.g=yn(g[3]||"",!0),Zi(this,g[4]),this.l=yn(g[5]||"",!0),pi(this,g[6]||"",!0),this.m=yn(g[7]||"")):(this.h=!1,this.i=new yi(null,this.h))}pt.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ns(g,yo,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ns(g,yo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ns(v,v.charAt(0)=="/"?Nh:vo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ns(v,Ks)),c.join("")};function an(c){return new pt(c)}function es(c,g,v){c.j=v?yn(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Zi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function pi(c,g,v){g instanceof yi?(c.i=g,iu(c.i,c.h)):(v||(g=ns(g,Oh)),c.i=new yi(g,c.h))}function Ke(c,g,v){c.i.set(g,v)}function ts(c){return Ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function yn(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ns(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,nu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var yo=/[#\/\?@]/g,vo=/[#\?:]/g,Nh=/[#\?]/g,Oh=/[#\?@]/g,Ks=/#/g;function yi(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function vn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ih(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=yi.prototype,r.add=function(c,g){vn(this),this.i=null,c=Fn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function vi(c,g){vn(c),g=Fn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function _i(c,g){return vn(c),g=Fn(c,g),c.g.has(g)}r.forEach=function(c,g){vn(this),this.g.forEach(function(v,b){v.forEach(function(U){c.call(g,U,b,this)},this)},this)},r.na=function(){vn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let b=0;b<g.length;b++){const U=c[b];for(let H=0;H<U.length;H++)v.push(g[b])}return v},r.V=function(c){vn(this);let g=[];if(typeof c=="string")_i(this,c)&&(g=g.concat(this.g.get(Fn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},r.set=function(c,g){return vn(this),this.i=null,c=Fn(this,c),_i(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function _o(c,g,v){vi(c,g),0<v.length&&(c.i=null,c.g.set(Fn(c,g),W(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var b=g[v];const H=encodeURIComponent(String(b)),ne=this.V(b);for(b=0;b<ne.length;b++){var U=H;ne[b]!==""&&(U+="="+encodeURIComponent(String(ne[b]))),c.push(U)}}return this.i=c.join("&")};function Fn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function iu(c,g){g&&!c.j&&(vn(c),c.i=null,c.g.forEach(function(v,b){var U=b.toLowerCase();b!=U&&(vi(this,b),_o(this,U,v))},c)),c.j=g}function is(c,g){const v=new pn;if(m.Image){const b=new Image;b.onload=B(_n,v,"TestLoadImage: loaded",!0,g,b),b.onerror=B(_n,v,"TestLoadImage: error",!1,g,b),b.onabort=B(_n,v,"TestLoadImage: abort",!1,g,b),b.ontimeout=B(_n,v,"TestLoadImage: timeout",!1,g,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else g(!1)}function Dn(c,g){const v=new pn,b=new AbortController,U=setTimeout(()=>{b.abort(),_n(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:b.signal}).then(H=>{clearTimeout(U),H.ok?_n(v,"TestPingServer: ok",!0,g):_n(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),_n(v,"TestPingServer: error",!1,g)})}function _n(c,g,v,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(v)}catch{}}function rs(){this.g=new Xr}function Qn(c,g,v){const b=v||"";try{po(c,function(U,H){let ne=U;y(U)&&(ne=Nn(U)),g.push(b+H+"="+encodeURIComponent(ne))})}catch(U){throw g.push(b+"type="+encodeURIComponent("_badmap")),U}}function Ji(c){this.l=c.Ub||null,this.j=c.eb||!1}Y(Ji,ao),Ji.prototype.g=function(){return new Ei(this.l,this.j)},Ji.prototype.i=function(c){return function(){return c}}({});function Ei(c,g){at.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(Ei,at),r=Ei.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Yn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Kn(this):Yn(this),this.readyState==3&&Eo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Kn(this))},r.Qa=function(c){this.g&&(this.response=c,Kn(this))},r.ga=function(){this.g&&Kn(this)};function Kn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Yn(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Yn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ei.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function To(c){let g="";return Ne(c,function(v,b){g+=b,g+=":",g+=v,g+=`\r
`}),g}function Nt(c,g,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=To(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ke(c,g,v))}function qe(c){at.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(qe,at);var Ys=/^https?$/i,ss=["POST","PUT"];r=qe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qn.g(),this.v=this.o?oo(this.o):oo(qn),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(H){ru(this,H);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)v.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())v.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ss,g,void 0))||b||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ne]of v)this.g.setRequestHeader(H,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{as(this),this.u=!0,this.g.send(c),this.u=!1}catch(H){ru(this,H)}};function ru(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Xs(c),Xn(c)}function Xs(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),Xn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xn(this,!0)),qe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?$s(this):this.bb())},r.bb=function(){$s(this)};function $s(c){if(c.h&&typeof f<"u"&&(!c.v[1]||En(c)!=4||c.Z()!=2)){if(c.u&&En(c)==4)Ht(c.Ea,0,c);else if(Ge(c,"readystatechange"),En(c)==4){c.h=!1;try{const ne=c.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var b;if(b=ne===0){var U=String(c.D).match(Wr)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),b=!Ys.test(U?U.toLowerCase():"")}v=b}if(v)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var H=2<En(c)?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.Z()+"]",Xs(c)}}finally{Xn(c)}}}}function Xn(c,g){if(c.g){as(c);const v=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ge(c,"ready");try{v.onreadystatechange=b}catch{}}}function as(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function En(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),zs(g)}};function su(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Dh(c){const g={};c=(c.g&&2<=En(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(oe(c[b]))continue;var v=V(c[b]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=g[U]||[];g[U]=H,H.push(v)}x(g,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function os(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Zs(c){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=os("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=os("baseRetryDelayMs",5e3,c),this.cb=os("retryDelaySeedMs",1e4,c),this.Wa=os("forwardChannelMaxRetries",2,c),this.wa=os("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new gi(c&&c.concurrentRequestLimit),this.Da=new rs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Zs.prototype,r.la=8,r.G=1,r.connect=function(c,g,v,b){tt(0),this.W=c,this.H=g||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=fu(this,null,this.W),Ws(this)};function bo(c){if(au(c),c.G==3){var g=c.U++,v=an(c.I);if(Ke(v,"SID",c.K),Ke(v,"RID",g),Ke(v,"TYPE","terminate"),ls(c,v),g=new $t(c,c.j,g),g.L=2,g.v=ts(an(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=du(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Zr(g)}hu(c)}function Js(c){c.g&&(us(c),c.g.cancel(),c.g=null)}function au(c){Js(c),c.u&&(m.clearTimeout(c.u),c.u=null),ea(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ws(c){if(!Hs(c.h)&&!c.s){c.s=!0;var g=c.Ga;ie||N(),he||(ie(),he=!0),je.add(g,c),c.B=0}}function xh(c,g){return Gs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=gt(C(c.Ga,c,g),wo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new $t(this,this.j,c);let H=this.o;if(this.S&&(H?(H=S(H),D(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=ou(this,U,g),v=an(this.I),Ke(v,"RID",c),Ke(v,"CVER",22),this.D&&Ke(v,"X-HTTP-Session-Id",this.D),ls(this,v),H&&(this.O?g="headers="+encodeURIComponent(String(To(H)))+"&"+g:this.m&&Nt(v,this.m,H)),Fs(this.h,U),this.Ua&&Ke(v,"TYPE","init"),this.P?(Ke(v,"$req",g),Ke(v,"SID","null"),U.T=!0,On(U,v,null)):On(U,v,g),this.G=2}}else this.G==3&&(c?Ao(this,c):this.i.length==0||Hs(this.h)||Ao(this))};function Ao(c,g){var v;g?v=g.l:v=c.U++;const b=an(c.I);Ke(b,"SID",c.K),Ke(b,"RID",v),Ke(b,"AID",c.T),ls(c,b),c.m&&c.o&&Nt(b,c.m,c.o),v=new $t(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=ou(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Fs(c.h,v),On(v,b,g)}function ls(c,g){c.H&&Ne(c.H,function(v,b){Ke(g,b,v)}),c.l&&po({},function(v,b){Ke(g,b,v)})}function ou(c,g,v){v=Math.min(c.i.length,v);var b=c.l?C(c.l.Na,c.l,c):null;e:{var U=c.i;let H=-1;for(;;){const ne=["count="+v];H==-1?0<v?(H=U[0].g,ne.push("ofs="+H)):H=0:ne.push("ofs="+H);let Pe=!0;for(let Tt=0;Tt<v;Tt++){let ke=U[Tt].g;const Ot=U[Tt].map;if(ke-=H,0>ke)H=Math.max(0,U[Tt].g-100),Pe=!1;else try{Qn(Ot,ne,"req"+ke+"_")}catch{b&&b(Ot)}}if(Pe){b=ne.join("&");break e}}}return c=c.i.splice(0,v),g.D=c,b}function lu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ie||N(),he||(ie(),he=!0),je.add(g,c),c.v=0}}function So(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=gt(C(c.Fa,c),wo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,uu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=gt(C(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),Js(this),uu(this))};function us(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function uu(c){c.g=new $t(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=an(c.qa);Ke(g,"RID","rpc"),Ke(g,"SID",c.K),Ke(g,"AID",c.T),Ke(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ke(g,"TO",c.ja),Ke(g,"TYPE","xmlhttp"),ls(c,g),c.m&&c.o&&Nt(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ts(an(g)),v.m=null,v.P=!0,mi(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Js(this),So(this),tt(19))};function ea(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function cu(c,g){var v=null;if(c.g==g){ea(c),us(c),c.g=null;var b=2}else if(mo(c.h,g))v=g.D,Zt(c.h,g),b=1;else return;if(c.G!=0){if(g.o)if(b==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var U=c.B;b=Qi(),Ge(b,new Et(b,v)),Ws(c)}else lu(c);else if(U=g.s,U==3||U==0&&0<g.X||!(b==1&&xh(c,g)||b==2&&So(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),U){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function wo(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function Ti(c,g){if(c.j.info("Error code "+g),g==2){var v=C(c.fb,c),b=c.Xa;const U=!b;b=new pt(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||es(b,"https"),ts(b),U?is(b.toString(),v):Dn(b.toString(),v)}else tt(2);c.G=0,c.l&&c.l.sa(g),hu(c),au(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function hu(c){if(c.G=0,c.ka=[],c.l){const g=go(c.h);(g.length!=0||c.i.length!=0)&&(G(c.ka,g),G(c.ka,c.i),c.h.i.length=0,W(c.i),c.i.length=0),c.l.ra()}}function fu(c,g,v){var b=v instanceof pt?an(v):new pt(v);if(b.g!="")g&&(b.g=g+"."+b.g),Zi(b,b.s);else{var U=m.location;b=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var H=new pt(null);b&&es(H,b),g&&(H.g=g),U&&Zi(H,U),v&&(H.l=v),b=H}return v=c.D,g=c.ya,v&&g&&Ke(b,v,g),Ke(b,"VER",c.la),ls(c,b),b}function du(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new qe(new Ji({eb:v})):new qe(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}r=mu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ta(){}ta.prototype.g=function(c,g){return new Jt(c,g)};function Jt(c,g){at.call(this),this.g=new Zs(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!oe(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!oe(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new $n(this)}Y(Jt,at),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){bo(this.g)},Jt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Nn(c),c=v);g.i.push(new tu(g.Ya++,c)),g.G==3&&Ws(g)},Jt.prototype.N=function(){this.g.l=null,delete this.j,bo(this.g),delete this.g,Jt.aa.N.call(this)};function gu(c){fi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}Y(gu,fi);function pu(){uo.call(this),this.status=1}Y(pu,uo);function $n(c){this.g=c}Y($n,mu),$n.prototype.ua=function(){Ge(this.g,"a")},$n.prototype.ta=function(c){Ge(this.g,new gu(c))},$n.prototype.sa=function(c){Ge(this.g,new pu)},$n.prototype.ra=function(){Ge(this.g,"b")},ta.prototype.createWebChannel=ta.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,RE=function(){return new ta},wE=function(){return Qi()},SE=Bn,em={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xi.NO_ERROR=0,Xi.TIMEOUT=8,Xi.HTTP_ERROR=6,Nc=Xi,di.COMPLETE="complete",AE=di,lo.EventType=hi,hi.OPEN="a",hi.CLOSE="b",hi.ERROR="c",hi.MESSAGE="d",at.prototype.listen=at.prototype.K,ml=lo,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,bE=qe}).apply(typeof _c<"u"?_c:typeof self<"u"?self:typeof window<"u"?window:{});const E_="@firebase/firestore",T_="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wa="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new bm("@firebase/firestore");function Da(){return xs.logLevel}function le(r,...e){if(xs.logLevel<=Ve.DEBUG){const n=e.map(km);xs.debug(`Firestore (${Wa}): ${r}`,...n)}}function qi(r,...e){if(xs.logLevel<=Ve.ERROR){const n=e.map(km);xs.error(`Firestore (${Wa}): ${r}`,...n)}}function qa(r,...e){if(xs.logLevel<=Ve.WARN){const n=e.map(km);xs.warn(`Firestore (${Wa}): ${r}`,...n)}}function km(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,CE(r,s,n)}function CE(r,e,n){let s=`FIRESTORE (${Wa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw qi(s),new Error(s)}function He(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||CE(e,o,s)}function we(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Gi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kt.UNAUTHENTICATED))}shutdown(){}}class DR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xR{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new xr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new xr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new IE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Kt(e)}}class VR{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MR{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new VR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class b_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new b_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new b_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=kR(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ie(r,e){return r<e?-1:r>e?1:0}function tm(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ie(s,o);{const u=NE(),f=UR(u.encode(A_(r,n)),u.encode(A_(e,n)));return f!==0?f:Ie(s,o)}}n+=s>65535?2:1}return Ie(r.length,e.length)}function A_(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function UR(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ie(r[n],e[n]);return Ie(r.length,e.length)}function Ha(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=-62135596800,w_=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*w_);return new Rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<S_)throw new ge(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/w_}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-S_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Rt(0,0))}static max(){return new Se(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="__name__";class ii{constructor(e,n,s){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&_e(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ii.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ii?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=ii.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ie(e.length,n.length)}static compareSegments(e,n){const s=ii.isNumericId(e),o=ii.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ii.extractNumericId(e).compare(ii.extractNumericId(n)):tm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Dr.fromString(e.substring(4,e.length-2))}}class it extends ii{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new it(n)}static emptyPath(){return new it([])}}const LR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends ii{construct(e,n,s){return new Bt(e,n,s)}static isValidIdentifier(e){return LR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===R_}static keyField(){return new Bt([R_])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ge(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ge(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ge(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(it.fromString(e))}static fromName(e){return new pe(it.fromString(e).popFirst(5))}static empty(){return new pe(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new it(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=-1;function jR(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new Rt(n+1,0):new Rt(n,s));return new Mr(o,pe.empty(),e)}function zR(r){return new Mr(r.readTime,r.key,Cl)}class Mr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Mr(Se.min(),pe.empty(),Cl)}static max(){return new Mr(Se.max(),pe.empty(),Cl)}}function BR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:Ie(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==qR)throw r;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,s)=>{n(e)})}static reject(e){return new Z((n,s)=>{s(e)})}static waitFor(e){return new Z((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=Z.resolve(!1);for(const s of e)n=n.next(o=>o?Z.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new Z((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new Z((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function GR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function to(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}uh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um=-1;function ch(r){return r==null}function Gc(r){return r===0&&1/r==-1/0}function FR(r){return typeof r=="number"&&Number.isInteger(r)&&!Gc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="";function QR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=C_(e)),e=KR(r.get(n),e);return C_(e)}function KR(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case DE:n+="";break;default:n+=u}}return n}function C_(r){return r+DE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ms(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function xE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ec(this.root,e,this.comparator,!0)}}class Ec{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??zt.RED,this.left=o??zt.EMPTY,this.right=u??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new zt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return zt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new N_(this.data.getIterator())}getIteratorFrom(e){return new N_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class N_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new Un([])}unionWith(e){let n=new Ct(Bt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ha(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new VE("Invalid base64 string: "+u):u}}(e);return new qt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const YR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(r){if(He(!!r,39018),typeof r=="string"){let e=0;const n=YR.exec(r);if(He(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ft(r.seconds),nanos:ft(r.nanos)}}function ft(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function kr(r){return typeof r=="string"?qt.fromBase64String(r):qt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="server_timestamp",PE="__type__",kE="__previous_value__",UE="__local_write_time__";function Lm(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[PE])===null||n===void 0?void 0:n.stringValue)===ME}function hh(r){const e=r.mapValue.fields[kE];return Lm(e)?hh(e):e}function Il(r){const e=Pr(r.mapValue.fields[UE].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n,s,o,u,f,m,p,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const Fc="(default)";class Nl{constructor(e,n){this.projectId=e,this.database=n||Fc}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database===Fc}isEqual(e){return e instanceof Nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="__type__",$R="__max__",Tc={mapValue:{}},jE="__vector__",Qc="value";function Ur(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Lm(r)?4:JR(r)?9007199254740991:ZR(r)?10:11:_e(28295,{value:r})}function li(r,e){if(r===e)return!0;const n=Ur(r);if(n!==Ur(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Il(r).isEqual(Il(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Pr(o.timestampValue),m=Pr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return kr(o.bytesValue).isEqual(kr(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return ft(o.geoPointValue.latitude)===ft(u.geoPointValue.latitude)&&ft(o.geoPointValue.longitude)===ft(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ft(o.integerValue)===ft(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ft(o.doubleValue),m=ft(u.doubleValue);return f===m?Gc(f)===Gc(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return Ha(r.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(I_(f)!==I_(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!li(f[p],m[p])))return!1;return!0}(r,e);default:return _e(52216,{left:r})}}function Ol(r,e){return(r.values||[]).find(n=>li(n,e))!==void 0}function Ga(r,e){if(r===e)return 0;const n=Ur(r),s=Ur(e);if(n!==s)return Ie(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=ft(u.integerValue||u.doubleValue),p=ft(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return O_(r.timestampValue,e.timestampValue);case 4:return O_(Il(r),Il(e));case 5:return tm(r.stringValue,e.stringValue);case 6:return function(u,f){const m=kr(u),p=kr(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ie(m[y],p[y]);if(E!==0)return E}return Ie(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ie(ft(u.latitude),ft(f.latitude));return m!==0?m:Ie(ft(u.longitude),ft(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return D_(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,y,E;const A=u.fields||{},C=f.fields||{},B=(m=A[Qc])===null||m===void 0?void 0:m.arrayValue,Y=(p=C[Qc])===null||p===void 0?void 0:p.arrayValue,W=Ie(((y=B==null?void 0:B.values)===null||y===void 0?void 0:y.length)||0,((E=Y==null?void 0:Y.values)===null||E===void 0?void 0:E.length)||0);return W!==0?W:D_(B,Y)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Tc.mapValue&&f===Tc.mapValue)return 0;if(u===Tc.mapValue)return 1;if(f===Tc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const C=tm(p[A],E[A]);if(C!==0)return C;const B=Ga(m[p[A]],y[E[A]]);if(B!==0)return B}return Ie(p.length,E.length)}(r.mapValue,e.mapValue);default:throw _e(23264,{Pe:n})}}function O_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ie(r,e);const n=Pr(r),s=Pr(e),o=Ie(n.seconds,s.seconds);return o!==0?o:Ie(n.nanos,s.nanos)}function D_(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ga(n[o],s[o]);if(u)return u}return Ie(n.length,s.length)}function Fa(r){return nm(r)}function nm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Pr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return kr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return pe.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=nm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${nm(n.fields[f])}`;return o+"}"}(r.mapValue):_e(61005,{value:r})}function Oc(r){switch(Ur(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hh(r);return e?16+Oc(e):16;case 5:return 2*r.stringValue.length;case 6:return kr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Oc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Ms(s.fields,(u,f)=>{o+=u.length+Oc(f)}),o}(r.mapValue);default:throw _e(13486,{value:r})}}function im(r){return!!r&&"integerValue"in r}function jm(r){return!!r&&"arrayValue"in r}function x_(r){return!!r&&"nullValue"in r}function V_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Dc(r){return!!r&&"mapValue"in r}function ZR(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[LE])===null||n===void 0?void 0:n.stringValue)===jE}function _l(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ms(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=_l(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_l(r.arrayValue.values[n]);return e}return Object.assign({},r)}function JR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===$R}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Dc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_l(n)}setAll(e){let n=Bt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=_l(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Dc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Dc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ms(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new In(_l(this.value))}}function zE(r){const e=[];return Ms(r.fields,(n,s)=>{const o=new Bt([n]);if(Dc(s)){const u=zE(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Yt(e,0,Se.min(),Se.min(),Se.min(),In.empty(),0)}static newFoundDocument(e,n,s,o){return new Yt(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new Yt(e,2,n,Se.min(),Se.min(),In.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,Se.min(),Se.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n){this.position=e,this.inclusive=n}}function M_(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),n.key):s=Ga(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function P_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!li(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n="asc"){this.field=e,this.dir=n}}function WR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{}class wt extends BE{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new tC(e,n,s):n==="array-contains"?new rC(e,s):n==="in"?new sC(e,s):n==="not-in"?new aC(e,s):n==="array-contains-any"?new oC(e,s):new wt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new nC(e,s):new iC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ga(n,this.value)):n!==null&&Ur(this.value)===Ur(n)&&this.matchesComparison(Ga(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends BE{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new ui(e,n)}matches(e){return qE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function qE(r){return r.op==="and"}function HE(r){return eC(r)&&qE(r)}function eC(r){for(const e of r.filters)if(e instanceof ui)return!1;return!0}function rm(r){if(r instanceof wt)return r.field.canonicalString()+r.op.toString()+Fa(r.value);if(HE(r))return r.filters.map(e=>rm(e)).join(",");{const e=r.filters.map(n=>rm(n)).join(",");return`${r.op}(${e})`}}function GE(r,e){return r instanceof wt?function(s,o){return o instanceof wt&&s.op===o.op&&s.field.isEqual(o.field)&&li(s.value,o.value)}(r,e):r instanceof ui?function(s,o){return o instanceof ui&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&GE(f,o.filters[m]),!0):!1}(r,e):void _e(19439)}function FE(r){return r instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${Fa(n.value)}`}(r):r instanceof ui?function(n){return n.op.toString()+" {"+n.getFilters().map(FE).join(" ,")+"}"}(r):"Filter"}class tC extends wt{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class nC extends wt{constructor(e,n){super(e,"in",n),this.keys=QE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class iC extends wt{constructor(e,n){super(e,"not-in",n),this.keys=QE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function QE(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>pe.fromName(s.referenceValue))}class rC extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jm(n)&&Ol(n.arrayValue,this.value)}}class sC extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ol(this.value.arrayValue,n)}}class aC extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ol(this.value.arrayValue,n)}}class oC extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ol(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function k_(r,e=null,n=[],s=[],o=null,u=null,f=null){return new lC(r,e,n,s,o,u,f)}function zm(r){const e=we(r);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>rm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Fa(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Fa(s)).join(",")),e.Ie=n}return e.Ie}function Bm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!WR(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!GE(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!P_(r.startAt,e.startAt)&&P_(r.endAt,e.endAt)}function sm(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function uC(r,e,n,s,o,u,f,m){return new fh(r,e,n,s,o,u,f,m)}function KE(r){return new fh(r)}function U_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function cC(r){return r.collectionGroup!==null}function El(r){const e=we(r);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ct(Bt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Yc(u,s))}),n.has(Bt.keyField().canonicalString())||e.Ee.push(new Yc(Bt.keyField(),s))}return e.Ee}function si(r){const e=we(r);return e.de||(e.de=hC(e,El(r))),e.de}function hC(r,e){if(r.limitType==="F")return k_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Yc(o.field,u)});const n=r.endAt?new Kc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Kc(r.startAt.position,r.startAt.inclusive):null;return k_(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function am(r,e,n){return new fh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function dh(r,e){return Bm(si(r),si(e))&&r.limitType===e.limitType}function YE(r){return`${zm(si(r))}|lt:${r.limitType}`}function xa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>FE(o)).join(", ")}]`),ch(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Fa(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Fa(o)).join(",")),`Target(${s})`}(si(r))}; limitType=${r.limitType})`}function mh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of El(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=M_(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,El(s),o)||s.endAt&&!function(f,m,p){const y=M_(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,El(s),o))}(r,e)}function fC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function XE(r){return(e,n)=>{let s=!1;for(const o of El(r)){const u=dC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function dC(r,e,n){const s=r.field.isKeyField()?pe.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Ga(p,y):_e(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _e(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return xE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=new st(pe.comparator);function Hi(){return mC}const $E=new st(pe.comparator);function gl(...r){let e=$E;for(const n of r)e=e.insert(n.key,n);return e}function ZE(r){let e=$E;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Cs(){return Tl()}function JE(){return Tl()}function Tl(){return new Ps(r=>r.toString(),(r,e)=>r.isEqual(e))}const gC=new st(pe.comparator),pC=new Ct(pe.comparator);function Me(...r){let e=pC;for(const n of r)e=e.add(n);return e}const yC=new Ct(Ie);function vC(){return yC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(e)?"-0":e}}function WE(r){return{integerValue:""+r}}function _C(r,e){return FR(e)?WE(e):qm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(){this._=void 0}}function EC(r,e,n){return r instanceof Dl?function(o,u){const f={fields:{[PE]:{stringValue:ME},[UE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Lm(u)&&(u=hh(u)),u&&(f.fields[kE]=u),{mapValue:f}}(n,e):r instanceof xl?t1(r,e):r instanceof Vl?n1(r,e):function(o,u){const f=e1(o,u),m=L_(f)+L_(o.Re);return im(f)&&im(o.Re)?WE(m):qm(o.serializer,m)}(r,e)}function TC(r,e,n){return r instanceof xl?t1(r,e):r instanceof Vl?n1(r,e):n}function e1(r,e){return r instanceof Xc?function(s){return im(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Dl extends gh{}class xl extends gh{constructor(e){super(),this.elements=e}}function t1(r,e){const n=i1(e);for(const s of r.elements)n.some(o=>li(o,s))||n.push(s);return{arrayValue:{values:n}}}class Vl extends gh{constructor(e){super(),this.elements=e}}function n1(r,e){let n=i1(e);for(const s of r.elements)n=n.filter(o=>!li(o,s));return{arrayValue:{values:n}}}class Xc extends gh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function L_(r){return ft(r.integerValue||r.doubleValue)}function i1(r){return jm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n){this.field=e,this.transform=n}}function AC(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof xl&&o instanceof xl||s instanceof Vl&&o instanceof Vl?Ha(s.elements,o.elements,li):s instanceof Xc&&o instanceof Xc?li(s.Re,o.Re):s instanceof Dl&&o instanceof Dl}(r.transform,e.transform)}class SC{constructor(e,n){this.version=e,this.transformResults=n}}class ji{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ji}static exists(e){return new ji(void 0,e)}static updateTime(e){return new ji(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class ph{}function r1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new a1(r.key,ji.none()):new ql(r.key,r.data,ji.none());{const n=r.data,s=In.empty();let o=new Ct(Bt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ks(r.key,s,new Un(o.toArray()),ji.none())}}function wC(r,e,n){r instanceof ql?function(o,u,f){const m=o.value.clone(),p=z_(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof ks?function(o,u,f){if(!xc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=z_(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(s1(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function bl(r,e,n,s){return r instanceof ql?function(u,f,m,p){if(!xc(u.precondition,f))return m;const y=u.value.clone(),E=B_(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof ks?function(u,f,m,p){if(!xc(u.precondition,f))return m;const y=B_(u.fieldTransforms,p,f),E=f.data;return E.setAll(s1(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,e,n,s):function(u,f,m){return xc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function RC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=e1(s.transform,o||null);u!=null&&(n===null&&(n=In.empty()),n.set(s.field,u))}return n||null}function j_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ha(s,o,(u,f)=>AC(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ql extends ph{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ks extends ph{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function s1(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function z_(r,e,n){const s=new Map;He(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,TC(f,m,n[o]))}return s}function B_(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,EC(u,f,e))}return s}class a1 extends ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CC extends ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&wC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=bl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=bl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=JE();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=r1(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&Ha(this.mutations,e.mutations,(n,s)=>j_(n,s))&&Ha(this.baseMutations,e.baseMutations,(n,s)=>j_(n,s))}}class Hm{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){He(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return gC}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Hm(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Le;function DC(r){switch(r){case ee.OK:return _e(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return _e(15467,{code:r})}}function o1(r){if(r===void 0)return qi("GRPC error has no .code"),ee.UNKNOWN;switch(r){case _t.OK:return ee.OK;case _t.CANCELLED:return ee.CANCELLED;case _t.UNKNOWN:return ee.UNKNOWN;case _t.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case _t.INTERNAL:return ee.INTERNAL;case _t.UNAVAILABLE:return ee.UNAVAILABLE;case _t.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case _t.NOT_FOUND:return ee.NOT_FOUND;case _t.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case _t.ABORTED:return ee.ABORTED;case _t.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case _t.DATA_LOSS:return ee.DATA_LOSS;default:return _e(39323,{code:r})}}(Le=_t||(_t={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=new Dr([4294967295,4294967295],0);function q_(r){const e=NE().encode(r),n=new TE;return n.update(e),new Uint8Array(n.digest())}function H_(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Dr([n,s],0),new Dr([o,u],0)]}class Gm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new pl(`Invalid padding: ${n}`);if(s<0)throw new pl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new pl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new pl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Dr.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(Dr.fromNumber(s)));return o.compare(xC)===1&&(o=new Dr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=q_(e),[s,o]=H_(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.Se(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Gm(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const n=q_(e),[s,o]=H_(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Hl.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new yh(Se.min(),o,new st(Ie),Hi(),Me())}}class Hl{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Hl(s,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class l1{constructor(e,n){this.targetId=e,this.Ce=n}}class u1{constructor(e,n,s=qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class G_{constructor(){this.Fe=0,this.Me=F_(),this.xe=qt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Me(),n=Me(),s=Me();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:_e(38017,{changeType:u})}}),new Hl(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=F_()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,He(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class VC{constructor(e){this.ze=e,this.je=new Map,this.He=Hi(),this.Je=bc(),this.Ye=bc(),this.Ze=new st(Ie)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:_e(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(sm(u))if(s===0){const f=new pe(u.path);this.tt(n,f,Yt.newNoDocument(f,Se.min()))}else He(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(e),p=m?this.lt(m,e,f):1;if(p!==0){this.st(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=kr(s).toUint8Array()}catch(p){if(p instanceof VE)return qa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Gm(f,o,u)}catch(p){return qa(p instanceof pl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&sm(m.target)){const p=new pe(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,Yt.newNoDocument(p,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=Me();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this._t(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new yh(e,n,this.Ze,this.He,s);return this.He=Hi(),this.Je=bc(),this.Ye=bc(),this.Ze=new st(Ie),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new G_,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ct(Ie),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ct(Ie),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new G_),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function bc(){return new st(pe.comparator)}function F_(){return new st(pe.comparator)}const MC={asc:"ASCENDING",desc:"DESCENDING"},PC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kC={and:"AND",or:"OR"};class UC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function om(r,e){return r.useProto3Json||ch(e)?e:{value:e}}function $c(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function c1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function LC(r,e){return $c(r,e.toTimestamp())}function ai(r){return He(!!r,49232),Se.fromTimestamp(function(n){const s=Pr(n);return new Rt(s.seconds,s.nanos)}(r))}function Fm(r,e){return lm(r,e).canonicalString()}function lm(r,e){const n=function(o){return new it(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function h1(r){const e=it.fromString(r);return He(p1(e),10190,{key:e.toString()}),e}function um(r,e){return Fm(r.databaseId,e.path)}function Ld(r,e){const n=h1(e);if(n.get(1)!==r.databaseId.projectId)throw new ge(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ge(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(d1(n))}function f1(r,e){return Fm(r.databaseId,e)}function jC(r){const e=h1(r);return e.length===4?it.emptyPath():d1(e)}function cm(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function d1(r){return He(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Q_(r,e,n){return{name:um(r,e),fields:n.value.mapValue.fields}}function zC(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_e(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(He(E===void 0||typeof E=="string",58123),qt.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),qt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?ee.UNKNOWN:o1(y.code);return new ge(E,y.message||"")}(f);n=new u1(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Ld(r,s.document.name),u=ai(s.document.updateTime),f=s.document.createTime?ai(s.document.createTime):Se.min(),m=new In({mapValue:{fields:s.document.fields}}),p=Yt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Vc(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Ld(r,s.document),u=s.readTime?ai(s.readTime):Se.min(),f=Yt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Vc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Ld(r,s.document),u=s.removedTargetIds||[];n=new Vc([],u,o,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new OC(o,u),m=s.targetId;n=new l1(m,f)}}return n}function BC(r,e){let n;if(e instanceof ql)n={update:Q_(r,e.key,e.value)};else if(e instanceof a1)n={delete:um(r,e.key)};else if(e instanceof ks)n={update:Q_(r,e.key,e.data),updateMask:$C(e.fieldMask)};else{if(!(e instanceof CC))return _e(16599,{ft:e.type});n={verify:um(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Dl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof xl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Vl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Xc)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw _e(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:LC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)}(r,e.precondition)),n}function qC(r,e){return r&&r.length>0?(He(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?ai(o.updateTime):ai(u);return f.isEqual(Se.min())&&(f=ai(u)),new SC(f,o.transformResults||[])}(n,e))):[]}function HC(r,e){return{documents:[f1(r,e.path)]}}function GC(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=f1(r,o);const u=function(y){if(y.length!==0)return g1(ui.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(C){return{field:Va(C.field),direction:KC(C.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=om(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{gt:n,parent:o}}function FC(r){let e=jC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){He(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(A){const C=m1(A);return C instanceof ui&&HE(C)?C.getFilters():[C]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(C=>function(Y){return new Yc(Ma(Y.field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Y.direction))}(C))}(n.orderBy));let m=null;n.limit&&(m=function(A){let C;return C=typeof A=="object"?A.value:A,ch(C)?null:C}(n.limit));let p=null;n.startAt&&(p=function(A){const C=!!A.before,B=A.values||[];return new Kc(B,C)}(n.startAt));let y=null;return n.endAt&&(y=function(A){const C=!A.before,B=A.values||[];return new Kc(B,C)}(n.endAt)),uC(e,o,f,u,m,"F",p,y)}function QC(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function m1(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ma(n.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ma(n.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ma(n.unaryFilter.field);return wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ma(n.unaryFilter.field);return wt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}}(r):r.fieldFilter!==void 0?function(n){return wt.create(Ma(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return ui.create(n.compositeFilter.filters.map(s=>m1(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}}(n.compositeFilter.op))}(r):_e(30097,{filter:r})}function KC(r){return MC[r]}function YC(r){return PC[r]}function XC(r){return kC[r]}function Va(r){return{fieldPath:r.canonicalString()}}function Ma(r){return Bt.fromServerFormat(r.fieldPath)}function g1(r){return r instanceof wt?function(n){if(n.op==="=="){if(V_(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NAN"}};if(x_(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(V_(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NOT_NAN"}};if(x_(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(n.field),op:YC(n.op),value:n.value}}}(r):r instanceof ui?function(n){const s=n.getFilters().map(o=>g1(o));return s.length===1?s[0]:{compositeFilter:{op:XC(n.op),filters:s}}}(r):_e(54877,{filter:r})}function $C(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function p1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.wt=e}}function JC(r){const e=FC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?am(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.Cn=new eI}addToCollectionParentIndex(e,n){return this.Cn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(Mr.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(Mr.min())}updateCollectionGroup(e,n,s){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class eI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ct(it.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ct(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},y1=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(y1,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Qa(0)}static lr(){return new Qa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="LruGarbageCollector",tI=1048576;function X_([r,e],[n,s]){const o=Ie(r,n);return o===0?Ie(e,s):o}class nI{constructor(e){this.Er=e,this.buffer=new Ct(X_),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();X_(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class iI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){le(Y_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){to(n)?le(Y_,"Ignoring IndexedDB error during garbage collection: ",n):await eo(n)}await this.mr(3e5)})}}class rI{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(uh.le);const s=new nI(n);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(K_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),K_):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,n))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(y=Date.now(),Da()<=Ve.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function sI(r,e){return new rI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.changes=new Ps(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&bl(s.mutation,o,Un.empty(),Rt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Me()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Me()){const o=Cs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=gl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Cs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Me()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=Hi();const f=Tl(),m=function(){return Tl()}();return n.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof ks)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),bl(E.mutation,y,E.mutation.getFieldMask(),Rt.now())):f.set(y.key,Un.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var A;return m.set(y,new oI(E,(A=f.get(y))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Tl();let o=new st((f,m)=>f-m),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Un.empty();E=m.applyToLocalView(y,E),s.set(p,E);const A=(o.get(m.batchId)||Me()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,A=JE();E.forEach(C=>{if(!u.has(C)){const B=r1(n.get(C),s.get(C));B!==null&&A.set(C,B),u=u.add(C)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,A))}return Z.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):Z.resolve(Cs());let m=Cl,p=u;return f.next(y=>Z.forEach(y,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(e,E).next(C=>{p=p.insert(E,C)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,Me())).next(E=>({batchId:m,changes:ZE(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(s=>{let o=gl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=gl();return this.indexManager.getCollectionParents(e,u).next(m=>Z.forEach(m,p=>{const y=function(A,C){return new fh(C,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((A,C)=>{f=f.insert(A,C)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Yt.newInvalidDocument(E)))});let m=gl();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&bl(E.mutation,y,Un.empty(),Rt.now()),mh(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return Z.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:ai(o.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:JC(o.bundledQuery),readTime:ai(o.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(){this.overlays=new st(pe.comparator),this.Qr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Cs();return Z.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.bt(e,n,u)}),Z.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),Z.resolve()}getOverlaysForCollection(e,n,s){const o=Cs(),u=n.length+1,f=new pe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new st((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Cs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Cs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return Z.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new NC(n,s));let u=this.Qr.get(n);u===void 0&&(u=Me(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this.$r=new Ct(Mt.Ur),this.Kr=new Ct(Mt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new Mt(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new Mt(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new pe(new it([])),s=new Mt(n,e),o=new Mt(n,e+1),u=[];return this.Kr.forEachInRange([s,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new pe(new it([])),s=new Mt(n,e),o=new Mt(n,e+1);let u=Me();return this.Kr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Mt(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Mt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return pe.comparator(e.key,n.key)||Ie(e.Zr,n.Zr)}static Wr(e,n){return Ie(e.Zr,n.Zr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ct(Mt.Ur)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new IC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Xr=this.Xr.add(new Mt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(e,n){return Z.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Um:this.nr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Mt(n,0),o=new Mt(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],f=>{const m=this.ei(f.Zr);u.push(m)}),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ct(Ie);return n.forEach(o=>{const u=new Mt(o,0),f=new Mt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],m=>{s=s.add(m.Zr)})}),Z.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const f=new Mt(new pe(u),0);let m=new Ct(Ie);return this.Xr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Zr)),!0)},f),Z.resolve(this.ni(m))}ni(e){const n=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){He(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return Z.forEach(n.mutations,o=>{const u=new Mt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new Mt(n,0),o=this.Xr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.ii=e,this.docs=function(){return new st(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let s=Hi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Yt.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Hi();const f=n.path,m=new pe(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||BR(zR(E),s)<=0||(o.has(E.key)||mh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,n,s,o){_e(9500)}si(e,n){return Z.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new mI(this)}getSize(e){return Z.resolve(this.size)}}class mI extends aI{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),Z.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.persistence=e,this.oi=new Ps(n=>zm(n),Bm),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this._i=0,this.ai=new Qm,this.targetCount=0,this.ui=Qa.cr()}forEachTarget(e,n){return this.oi.forEach((s,o)=>n(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),Z.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Qa(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Tr(n),Z.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.oi.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Z.waitFor(u).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return Z.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),Z.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),Z.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return Z.resolve(s)}containsKey(e,n){return Z.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n){this.ci={},this.overlays={},this.li=new uh(0),this.hi=!1,this.hi=!0,this.Pi=new hI,this.referenceDelegate=e(this),this.Ti=new gI(this),this.indexManager=new WC,this.remoteDocumentCache=function(o){return new dI(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new ZC(n),this.Ei=new uI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new fI(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new pI(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return Z.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class pI extends HR{constructor(e){super(),this.currentSequenceNumber=e}}class Km{constructor(e){this.persistence=e,this.Vi=new Qm,this.mi=null}static fi(e){return new Km(e)}get gi(){if(this.mi)return this.mi;throw _e(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),Z.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.gi,s=>{const o=pe.fromPath(s);return this.pi(e,o).next(u=>{u||n.removeEntry(o,Se.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return Z.or([()=>Z.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Zc{constructor(e,n){this.persistence=e,this.yi=new Ps(s=>QR(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=sI(this,n)}static fi(e,n){return new Zc(e,n)}di(){}Ai(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}Sr(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return Z.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(u=>u?Z.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,f=>this.Dr(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),Z.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Oc(e.data.value)),n}Dr(e,n,s){return Z.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ds=s,this.As=o}static Rs(e,n){let s=Me(),o=Me();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ym(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return rS()?8:GR(Xt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ws(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new yI;return this.bs(e,n,f).next(m=>{if(u.result=m,this.fs)return this.Ds(e,n,f,m.size)})}).next(()=>u.result)}Ds(e,n,s,o){return s.documentReadCount<this.gs?(Da()<=Ve.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Z.resolve()):(Da()<=Ve.DEBUG&&le("QueryEngine","Query:",xa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(Da()<=Ve.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,si(n))):Z.resolve())}ws(e,n){if(U_(n))return Z.resolve(null);let s=si(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=am(n,null,"F"),s=si(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Me(...u);return this.ys.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.vs(n,m);return this.Cs(n,y,f,p.readTime)?this.ws(e,am(n,null,"F")):this.Fs(e,y,n,p)}))})))}Ss(e,n,s,o){return U_(n)||o.isEqual(Se.min())?Z.resolve(null):this.ys.getDocuments(e,s).next(u=>{const f=this.vs(n,u);return this.Cs(n,f,s,o)?Z.resolve(null):(Da()<=Ve.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xa(n)),this.Fs(e,f,n,jR(o,Cl)).next(m=>m))})}vs(e,n){let s=new Ct(XE(e));return n.forEach((o,u)=>{mh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}bs(e,n,s){return Da()<=Ve.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",xa(n)),this.ys.getDocumentsMatchingQuery(e,n,Mr.min(),s)}Fs(e,n,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="LocalStore",_I=3e8;class EI{constructor(e,n,s,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new st(Ie),this.Os=new Ps(u=>zm(u),Bm),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lI(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function TI(r,e,n,s){return new EI(r,e,n,s)}async function _1(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Me();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(y=>({ks:y,removedBatchIds:f,addedBatchIds:m}))})})}function bI(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const A=y.batch,C=A.keys();let B=Z.resolve();return C.forEach(Y=>{B=B.next(()=>E.getEntry(p,Y)).next(W=>{const G=y.docVersions.get(Y);He(G!==null,48541),W.version.compareTo(G)<0&&(A.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),E.addEntry(W)))})}),B.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Me();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function E1(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function AI(r,e){const n=we(r),s=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];e.targetChanges.forEach((E,A)=>{const C=o.get(A);if(!C)return;m.push(n.Ti.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.Ti.addMatchingKeys(u,E.addedDocuments,A)));let B=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?B=B.withResumeToken(qt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(E.resumeToken,s)),o=o.insert(A,B),function(W,G,ce){return W.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=_I?!0:ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0}(C,B,E)&&m.push(n.Ti.updateTargetData(u,B))});let p=Hi(),y=Me();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(SI(u,f,e.documentUpdates).next(E=>{p=E.qs,y=E.Qs})),!s.isEqual(Se.min())){const E=n.Ti.getLastRemoteSnapshotVersion(u).next(A=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return Z.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.xs=o,u))}function SI(r,e,n){let s=Me(),o=Me();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=Hi();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):le(Xm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{qs:f,Qs:o}})}function wI(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Um),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function RI(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,e).next(u=>u?(o=u,Z.resolve(o)):n.Ti.allocateTargetId(s).next(f=>(o=new wr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function hm(r,e,n){const s=we(r),o=s.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!to(f))throw f;le(Xm,`Failed to update sequence numbers for target ${e}: ${f}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function $_(r,e,n){const s=we(r);let o=Se.min(),u=Me();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const A=we(p),C=A.Os.get(E);return C!==void 0?Z.resolve(A.xs.get(C)):A.Ti.getTargetData(y,E)}(s,f,si(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:Me())).next(m=>(CI(s,fC(e),m),{documents:m,$s:u})))}function CI(r,e,n){let s=r.Ns.get(e)||Se.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Ns.set(e,s)}class Z_{constructor(){this.activeTargetIds=vC()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class II{constructor(){this.xo=new Z_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Z_,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="ConnectivityMonitor";class W_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){le(J_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){le(J_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac=null;function fm(){return Ac===null?Ac=function(){return 268435456+Math.round(2147483648*Math.random())}():Ac++,"0x"+Ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="RestConnection",OI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DI{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Fc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,n,s,o,u){const f=fm(),m=this.jo(e,n.toUriEncodedString());le(jd,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:y}=new URL(m),E=kl(y);return this.Jo(e,m,p,s,E).then(A=>(le(jd,`Received RPC '${e}' ${f}: `,A),A),A=>{throw qa(jd,`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",s),A})}Yo(e,n,s,o,u,f){return this.zo(e,n,s,o,u)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const s=OI[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class VI extends DI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=fm();return new Promise((m,p)=>{const y=new bE;y.setWithCredentials(!0),y.listenOnce(AE.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Nc.NO_ERROR:const A=y.getResponseJson();le(Qt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),m(A);break;case Nc.TIMEOUT:le(Qt,`RPC '${e}' ${f} timed out`),p(new ge(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Nc.HTTP_ERROR:const C=y.getStatus();if(le(Qt,`RPC '${e}' ${f} failed with status:`,C,"response text:",y.getResponseText()),C>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const Y=B==null?void 0:B.error;if(Y&&Y.status&&Y.message){const W=function(ce){const oe=ce.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(oe)>=0?oe:ee.UNKNOWN}(Y.status);p(new ge(W,Y.message))}else p(new ge(ee.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ge(ee.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{le(Qt,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);le(Qt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)})}T_(e,n,s){const o=fm(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=RE(),m=wE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");le(Qt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const A=f.createWebChannel(E,p);let C=!1,B=!1;const Y=new xI({Zo:G=>{B?le(Qt,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(C||(le(Qt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),C=!0),le(Qt,`RPC '${e}' stream ${o} sending:`,G),A.send(G))},Xo:()=>A.close()}),W=(G,ce,oe)=>{G.listen(ce,ae=>{try{oe(ae)}catch(Ee){setTimeout(()=>{throw Ee},0)}})};return W(A,ml.EventType.OPEN,()=>{B||(le(Qt,`RPC '${e}' stream ${o} transport opened.`),Y.__())}),W(A,ml.EventType.CLOSE,()=>{B||(B=!0,le(Qt,`RPC '${e}' stream ${o} transport closed`),Y.u_())}),W(A,ml.EventType.ERROR,G=>{B||(B=!0,qa(Qt,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),Y.u_(new ge(ee.UNAVAILABLE,"The operation could not be completed")))}),W(A,ml.EventType.MESSAGE,G=>{var ce;if(!B){const oe=G.data[0];He(!!oe,16349);const ae=oe,Ee=(ae==null?void 0:ae.error)||((ce=ae[0])===null||ce===void 0?void 0:ce.error);if(Ee){le(Qt,`RPC '${e}' stream ${o} received error:`,Ee);const me=Ee.status;let Ne=function(R){const D=_t[R];if(D!==void 0)return o1(D)}(me),x=Ee.message;Ne===void 0&&(Ne=ee.INTERNAL,x="Unknown error status: "+me+" with message "+Ee.message),B=!0,Y.u_(new ge(Ne,x)),A.close()}else le(Qt,`RPC '${e}' stream ${o} received:`,oe),Y.c_(oe)}}),W(m,SE.STAT_EVENT,G=>{G.stat===em.PROXY?le(Qt,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===em.NOPROXY&&le(Qt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Y.a_()},0),Y}}function zd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(r){return new UC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,n,s=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.I_=s,this.E_=o,this.d_=u,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="PersistentStream";class b1{constructor(e,n,s,o,u,f,m,p){this.xi=e,this.y_=s,this.w_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new T1(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(qi(n.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.S_===n&&this.K_(s,o)},s=>{e(()=>{const o=new ge(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(o)})})}K_(e,n){const s=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.W_(o))}),this.stream.onMessage(o=>{s(()=>++this.v_==1?this.z_(o):this.onNext(o))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return le(e0,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(le(e0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MI extends b1{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=zC(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?ai(f.readTime):Se.min()}(e);return this.listener.j_(n,s)}H_(e){const n={};n.database=cm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=sm(p)?{documents:HC(u,p)}:{query:GC(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=c1(u,f.resumeToken);const y=om(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=$c(u,f.snapshotVersion.toTimestamp());const y=om(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=QC(this.serializer,e);s&&(n.labels=s),this.L_(n)}J_(e){const n={};n.database=cm(this.serializer),n.removeTarget=e,this.L_(n)}}class PI extends b1{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=qC(e.writeResults,e.commitTime),s=ai(e.commitTime);return this.listener.ea(s,n)}ta(){const e={};e.database=cm(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>BC(this.serializer,s))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{}class UI extends kI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.na=!1}ra(){if(this.na)throw new ge(ee.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(e,lm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(ee.UNKNOWN,u.toString())})}Yo(e,n,s,o,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Yo(e,lm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ge(ee.UNKNOWN,f.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class LI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(qi(n),this.oa=!1):le("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="RemoteStore";class jI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=u,this.Ea.No(f=>{s.enqueueAndForget(async()=>{Us(this)&&(le(Vs,"Restarting streams for network reachability change."),await async function(p){const y=we(p);y.Ta.add(4),await Gl(y),y.da.set("Unknown"),y.Ta.delete(4),await _h(y)}(this))})}),this.da=new LI(s,o)}}async function _h(r){if(Us(r))for(const e of r.Ia)await e(!0)}async function Gl(r){for(const e of r.Ia)await e(!1)}function A1(r,e){const n=we(r);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),Wm(n)?Jm(n):no(n).M_()&&Zm(n,e))}function $m(r,e){const n=we(r),s=no(n);n.Pa.delete(e),s.M_()&&S1(n,e),n.Pa.size===0&&(s.M_()?s.N_():Us(n)&&n.da.set("Unknown"))}function Zm(r,e){if(r.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}no(r).H_(e)}function S1(r,e){r.Aa.Ke(e),no(r).J_(e)}function Jm(r){r.Aa=new VC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Pa.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),no(r).start(),r.da._a()}function Wm(r){return Us(r)&&!no(r).F_()&&r.Pa.size>0}function Us(r){return we(r).Ta.size===0}function w1(r){r.Aa=void 0}async function zI(r){r.da.set("Online")}async function BI(r){r.Pa.forEach((e,n)=>{Zm(r,e)})}async function qI(r,e){w1(r),Wm(r)?(r.da.ca(e),Jm(r)):r.da.set("Unknown")}async function HI(r,e,n){if(r.da.set("Online"),e instanceof u1&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Pa.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Pa.delete(m),o.Aa.removeTarget(m))}(r,e)}catch(s){le(Vs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Jc(r,s)}else if(e instanceof Vc?r.Aa.Xe(e):e instanceof l1?r.Aa.ot(e):r.Aa.nt(e),!n.isEqual(Se.min()))try{const s=await E1(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Aa.It(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Pa.get(y);E&&u.Pa.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u.Pa.get(p);if(!E)return;u.Pa.set(p,E.withResumeToken(qt.EMPTY_BYTE_STRING,E.snapshotVersion)),S1(u,p);const A=new wr(E.target,p,y,E.sequenceNumber);Zm(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){le(Vs,"Failed to raise snapshot:",s),await Jc(r,s)}}async function Jc(r,e,n){if(!to(e))throw e;r.Ta.add(1),await Gl(r),r.da.set("Offline"),n||(n=()=>E1(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{le(Vs,"Retrying IndexedDB access"),await n(),r.Ta.delete(1),await _h(r)})}function R1(r,e){return e().catch(n=>Jc(r,n,e))}async function Eh(r){const e=we(r),n=Lr(e);let s=e.ha.length>0?e.ha[e.ha.length-1].batchId:Um;for(;GI(e);)try{const o=await wI(e.localStore,s);if(o===null){e.ha.length===0&&n.N_();break}s=o.batchId,FI(e,o)}catch(o){await Jc(e,o)}C1(e)&&I1(e)}function GI(r){return Us(r)&&r.ha.length<10}function FI(r,e){r.ha.push(e);const n=Lr(r);n.M_()&&n.Y_&&n.Z_(e.mutations)}function C1(r){return Us(r)&&!Lr(r).F_()&&r.ha.length>0}function I1(r){Lr(r).start()}async function QI(r){Lr(r).ta()}async function KI(r){const e=Lr(r);for(const n of r.ha)e.Z_(n.mutations)}async function YI(r,e,n){const s=r.ha.shift(),o=Hm.from(s,e,n);await R1(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Eh(r)}async function XI(r,e){e&&Lr(r).Y_&&await async function(s,o){if(function(f){return DC(f)&&f!==ee.ABORTED}(o.code)){const u=s.ha.shift();Lr(s).O_(),await R1(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Eh(s)}}(r,e),C1(r)&&I1(r)}async function t0(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),le(Vs,"RemoteStore received new credentials");const s=Us(n);n.Ta.add(3),await Gl(n),s&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await _h(n)}async function $I(r,e){const n=we(r);e?(n.Ta.delete(2),await _h(n)):e||(n.Ta.add(2),await Gl(n),n.da.set("Unknown"))}function no(r){return r.Ra||(r.Ra=function(n,s,o){const u=we(n);return u.ra(),new MI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:zI.bind(null,r),n_:BI.bind(null,r),i_:qI.bind(null,r),j_:HI.bind(null,r)}),r.Ia.push(async e=>{e?(r.Ra.O_(),Wm(r)?Jm(r):r.da.set("Unknown")):(await r.Ra.stop(),w1(r))})),r.Ra}function Lr(r){return r.Va||(r.Va=function(n,s,o){const u=we(n);return u.ra(),new PI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:QI.bind(null,r),i_:XI.bind(null,r),X_:KI.bind(null,r),ea:YI.bind(null,r)}),r.Ia.push(async e=>{e?(r.Va.O_(),await Eh(r)):(await r.Va.stop(),r.ha.length>0&&(le(Vs,`Stopping write stream with ${r.ha.length} pending writes`),r.ha=[]))})),r.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new eg(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(r,e){if(qi("AsyncQueue",`${e}: ${r}`),to(r))return new ge(ee.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{static emptySet(e){return new ja(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=gl(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ja)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ja;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(){this.ma=new st(pe.comparator)}track(e){const n=e.doc.key,s=this.ma.get(n);s?e.type!==0&&s.type===3?this.ma=this.ma.insert(n,e):e.type===3&&s.type!==1?this.ma=this.ma.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ma=this.ma.remove(n):e.type===1&&s.type===2?this.ma=this.ma.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):_e(63341,{Vt:e,fa:s}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ka{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Ka(e,n,ja.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class JI{constructor(){this.queries=i0(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=i0(),u.forEach((f,m)=>{for(const p of m.ya)p.onError(s)})})(this,new ge(ee.ABORTED,"Firestore shutting down"))}}function i0(){return new Ps(r=>YE(r),dh)}async function WI(r,e){const n=we(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.wa()&&e.Sa()&&(s=2):(u=new ZI,s=e.Sa()?0:1);try{switch(s){case 0:u.pa=await n.onListen(o,!0);break;case 1:u.pa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=tg(f,`Initialization of query '${xa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ya.push(e),e.Da(n.onlineState),u.pa&&e.va(u.pa)&&ng(n)}async function e4(r,e){const n=we(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ya.indexOf(e);f>=0&&(u.ya.splice(f,1),u.ya.length===0?o=e.Sa()?0:1:!u.wa()&&e.Sa()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function t4(r,e){const n=we(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ya)m.va(o)&&(s=!0);f.pa=o}}s&&ng(n)}function n4(r,e,n){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.ya)u.onError(n);s.queries.delete(e)}function ng(r){r.ba.forEach(e=>{e.next()})}var dm,r0;(r0=dm||(dm={})).Ca="default",r0.Cache="cache";class i4{constructor(e,n,s){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ka(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const s=n!=="Offline";return(!this.options.La||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=Ka.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==dm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e){this.key=e}}class O1{constructor(e){this.key=e}}class r4{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Me(),this.mutatedKeys=Me(),this.Ha=XE(e),this.Ja=new ja(this.Ha)}get Ya(){return this.Ga}Za(e,n){const s=n?n.Xa:new n0,o=n?n.Ja:this.Ja;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,A)=>{const C=o.get(E),B=mh(this.query,A)?A:null,Y=!!C&&this.mutatedKeys.has(C.key),W=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let G=!1;C&&B?C.data.isEqual(B.data)?Y!==W&&(s.track({type:3,doc:B}),G=!0):this.eu(C,B)||(s.track({type:2,doc:B}),G=!0,(p&&this.Ha(B,p)>0||y&&this.Ha(B,y)<0)&&(m=!0)):!C&&B?(s.track({type:0,doc:B}),G=!0):C&&!B&&(s.track({type:1,doc:C}),G=!0,(p||y)&&(m=!0)),G&&(B?(f=f.add(B),u=W?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ja:f,Xa:s,Cs:m,mutatedKeys:u}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const f=e.Xa.ga();f.sort((E,A)=>function(B,Y){const W=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:G})}};return W(B)-W(Y)}(E.type,A.type)||this.Ha(E.doc,A.doc)),this.tu(s),o=o!=null&&o;const m=n&&!o?this.nu():[],p=this.ja.size===0&&this.current&&!o?1:0,y=p!==this.za;return this.za=p,f.length!==0||y?{snapshot:new Ka(this.query,e.Ja,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:m}:{ru:m}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new n0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Me(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const n=[];return e.forEach(s=>{this.ja.has(s)||n.push(new O1(s))}),this.ja.forEach(s=>{e.has(s)||n.push(new N1(s))}),n}su(e){this.Ga=e.$s,this.ja=Me();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return Ka.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const ig="SyncEngine";class s4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class a4{constructor(e){this.key=e,this._u=!1}}class o4{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.au={},this.uu=new Ps(m=>YE(m),dh),this.cu=new Map,this.lu=new Set,this.hu=new st(pe.comparator),this.Pu=new Map,this.Tu=new Qm,this.Iu={},this.Eu=new Map,this.du=Qa.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function l4(r,e,n=!0){const s=k1(r);let o;const u=s.uu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.ou()):o=await D1(s,e,n,!0),o}async function u4(r,e){const n=k1(r);await D1(n,e,!0,!1)}async function D1(r,e,n,s){const o=await RI(r.localStore,si(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await c4(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&A1(r.remoteStore,o),m}async function c4(r,e,n,s,o){r.Ru=(A,C,B)=>async function(W,G,ce,oe){let ae=G.view.Za(ce);ae.Cs&&(ae=await $_(W.localStore,G.query,!1).then(({documents:x})=>G.view.Za(x,ae)));const Ee=oe&&oe.targetChanges.get(G.targetId),me=oe&&oe.targetMismatches.get(G.targetId)!=null,Ne=G.view.applyChanges(ae,W.isPrimaryClient,Ee,me);return a0(W,G.targetId,Ne.ru),Ne.snapshot}(r,A,C,B);const u=await $_(r.localStore,e,!0),f=new r4(e,u.$s),m=f.Za(u.documents),p=Hl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);a0(r,n,y.ru);const E=new s4(e,n,f);return r.uu.set(e,E),r.cu.has(n)?r.cu.get(n).push(e):r.cu.set(n,[e]),y.snapshot}async function h4(r,e,n){const s=we(r),o=s.uu.get(e),u=s.cu.get(o.targetId);if(u.length>1)return s.cu.set(o.targetId,u.filter(f=>!dh(f,e))),void s.uu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await hm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&$m(s.remoteStore,o.targetId),mm(s,o.targetId)}).catch(eo)):(mm(s,o.targetId),await hm(s.localStore,o.targetId,!0))}async function f4(r,e){const n=we(r),s=n.uu.get(e),o=n.cu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),$m(n.remoteStore,s.targetId))}async function d4(r,e,n){const s=E4(r);try{const o=await function(f,m){const p=we(f),y=Rt.now(),E=m.reduce((B,Y)=>B.add(Y.key),Me());let A,C;return p.persistence.runTransaction("Locally write mutations","readwrite",B=>{let Y=Hi(),W=Me();return p.Bs.getEntries(B,E).next(G=>{Y=G,Y.forEach((ce,oe)=>{oe.isValidDocument()||(W=W.add(ce))})}).next(()=>p.localDocuments.getOverlayedDocuments(B,Y)).next(G=>{A=G;const ce=[];for(const oe of m){const ae=RC(oe,A.get(oe.key).overlayedDocument);ae!=null&&ce.push(new ks(oe.key,ae,zE(ae.value.mapValue),ji.exists(!0)))}return p.mutationQueue.addMutationBatch(B,y,ce,m)}).next(G=>{C=G;const ce=G.applyToLocalDocumentSet(A,W);return p.documentOverlayCache.saveOverlays(B,G.batchId,ce)})}).then(()=>({batchId:C.batchId,changes:ZE(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Iu[f.currentUser.toKey()];y||(y=new st(Ie)),y=y.insert(m,p),f.Iu[f.currentUser.toKey()]=y}(s,o.batchId,n),await Fl(s,o.changes),await Eh(s.remoteStore)}catch(o){const u=tg(o,"Failed to persist write");n.reject(u)}}async function x1(r,e){const n=we(r);try{const s=await AI(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Pu.get(u);f&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f._u=!0:o.modifiedDocuments.size>0?He(f._u,14607):o.removedDocuments.size>0&&(He(f._u,42227),f._u=!1))}),await Fl(n,s,e)}catch(s){await eo(s)}}function s0(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.uu.forEach((u,f)=>{const m=f.view.Da(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=we(f);p.onlineState=m;let y=!1;p.queries.forEach((E,A)=>{for(const C of A.ya)C.Da(m)&&(y=!0)}),y&&ng(p)}(s.eventManager,e),o.length&&s.au.j_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function m4(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Pu.get(e),u=o&&o.key;if(u){let f=new st(pe.comparator);f=f.insert(u,Yt.newNoDocument(u,Se.min()));const m=Me().add(u),p=new yh(Se.min(),new Map,new st(Ie),f,m);await x1(s,p),s.hu=s.hu.remove(u),s.Pu.delete(e),rg(s)}else await hm(s.localStore,e,!1).then(()=>mm(s,e,n)).catch(eo)}async function g4(r,e){const n=we(r),s=e.batch.batchId;try{const o=await bI(n.localStore,e);M1(n,s,null),V1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Fl(n,o)}catch(o){await eo(o)}}async function p4(r,e,n){const s=we(r);try{const o=await function(f,m){const p=we(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(A=>(He(A!==null,37113),E=A.keys(),p.mutationQueue.removeMutationBatch(y,A))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);M1(s,e,n),V1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Fl(s,o)}catch(o){await eo(o)}}function V1(r,e){(r.Eu.get(e)||[]).forEach(n=>{n.resolve()}),r.Eu.delete(e)}function M1(r,e,n){const s=we(r);let o=s.Iu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Iu[s.currentUser.toKey()]=o}}function mm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.cu.get(e))r.uu.delete(s),n&&r.au.Vu(s,n);r.cu.delete(e),r.isPrimaryClient&&r.Tu.Hr(e).forEach(s=>{r.Tu.containsKey(s)||P1(r,s)})}function P1(r,e){r.lu.delete(e.path.canonicalString());const n=r.hu.get(e);n!==null&&($m(r.remoteStore,n),r.hu=r.hu.remove(e),r.Pu.delete(n),rg(r))}function a0(r,e,n){for(const s of n)s instanceof N1?(r.Tu.addReference(s.key,e),y4(r,s)):s instanceof O1?(le(ig,"Document no longer in limbo: "+s.key),r.Tu.removeReference(s.key,e),r.Tu.containsKey(s.key)||P1(r,s.key)):_e(19791,{mu:s})}function y4(r,e){const n=e.key,s=n.path.canonicalString();r.hu.get(n)||r.lu.has(s)||(le(ig,"New document in limbo: "+n),r.lu.add(s),rg(r))}function rg(r){for(;r.lu.size>0&&r.hu.size<r.maxConcurrentLimboResolutions;){const e=r.lu.values().next().value;r.lu.delete(e);const n=new pe(it.fromString(e)),s=r.du.next();r.Pu.set(s,new a4(n)),r.hu=r.hu.insert(n,s),A1(r.remoteStore,new wr(si(KE(n.path)),s,"TargetPurposeLimboResolution",uh.le))}}async function Fl(r,e,n){const s=we(r),o=[],u=[],f=[];s.uu.isEmpty()||(s.uu.forEach((m,p)=>{f.push(s.Ru(p,e,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const A=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(y){o.push(y);const A=Ym.Rs(p.targetId,y);u.push(A)}}))}),await Promise.all(f),s.au.j_(o),await async function(p,y){const E=we(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>Z.forEach(y,C=>Z.forEach(C.ds,B=>E.persistence.referenceDelegate.addReference(A,C.targetId,B)).next(()=>Z.forEach(C.As,B=>E.persistence.referenceDelegate.removeReference(A,C.targetId,B)))))}catch(A){if(!to(A))throw A;le(Xm,"Failed to update sequence numbers: "+A)}for(const A of y){const C=A.targetId;if(!A.fromCache){const B=E.xs.get(C),Y=B.snapshotVersion,W=B.withLastLimboFreeSnapshotVersion(Y);E.xs=E.xs.insert(C,W)}}}(s.localStore,u))}async function v4(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){le(ig,"User change. New user:",e.toKey());const s=await _1(n.localStore,e);n.currentUser=e,function(u,f){u.Eu.forEach(m=>{m.forEach(p=>{p.reject(new ge(ee.CANCELLED,f))})}),u.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Fl(n,s.ks)}}function _4(r,e){const n=we(r),s=n.Pu.get(e);if(s&&s._u)return Me().add(s.key);{let o=Me();const u=n.cu.get(e);if(!u)return o;for(const f of u){const m=n.uu.get(f);o=o.unionWith(m.view.Ya)}return o}}function k1(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=x1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=m4.bind(null,e),e.au.j_=t4.bind(null,e.eventManager),e.au.Vu=n4.bind(null,e.eventManager),e}function E4(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=g4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=p4.bind(null,e),e}class Wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vh(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return TI(this.persistence,new vI,e.initialUser,this.serializer)}yu(e){return new v1(Km.fi,this.serializer)}pu(e){return new II}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wc.provider={build:()=>new Wc};class T4 extends Wc{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){He(this.persistence.referenceDelegate instanceof Zc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new iI(s,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new v1(s=>Zc.fi(s,n),this.serializer)}}class gm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>s0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=v4.bind(null,this.syncEngine),await $I(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JI}()}createDatastore(e){const n=vh(e.databaseInfo.databaseId),s=function(u){return new VI(u)}(e.databaseInfo);return function(u,f,m,p){return new UI(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new jI(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>s0(this.syncEngine,n,0),function(){return W_.C()?new W_:new NI}())}createSyncEngine(e,n){return function(o,u,f,m,p,y,E){const A=new o4(o,u,f,m,p,y);return E&&(A.Au=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=we(o);le(Vs,"RemoteStore shutting down."),u.Ta.add(5),await Gl(u),u.Ea.shutdown(),u.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}gm.provider={build:()=>new gm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):qi("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr="FirestoreClient";class A4{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Kt.UNAUTHENTICATED,this.clientId=OE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{le(jr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(le(jr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=tg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Bd(r,e){r.asyncQueue.verifyOperationInProgress(),le(jr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await _1(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function o0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await S4(r);le(jr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>t0(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>t0(e.remoteStore,o)),r._onlineComponents=e}async function S4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(jr,"Using user provided OfflineComponentProvider");try{await Bd(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;qa("Error using user provided cache. Falling back to memory cache: "+n),await Bd(r,new Wc)}}else le(jr,"Using default OfflineComponentProvider"),await Bd(r,new T4(void 0));return r._offlineComponents}async function U1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(jr,"Using user provided OnlineComponentProvider"),await o0(r,r._uninitializedComponentsProvider._online)):(le(jr,"Using default OnlineComponentProvider"),await o0(r,new gm))),r._onlineComponents}function w4(r){return U1(r).then(e=>e.syncEngine)}async function R4(r){const e=await U1(r),n=e.eventManager;return n.onListen=l4.bind(null,e.syncEngine),n.onUnlisten=h4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=u4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=f4.bind(null,e.syncEngine),n}function C4(r,e,n={}){const s=new xr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new b4({next:C=>{E.Cu(),f.enqueueAndForget(()=>e4(u,A)),C.fromCache&&p.source==="server"?y.reject(new ge(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(C)},error:C=>y.reject(C)}),A=new i4(m,E,{includeMetadataChanges:!0,La:!0});return WI(u,A)}(await R4(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(r,e,n){if(!n)throw new ge(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function I4(r,e,n,s){if(e===!0&&s===!0)throw new ge(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function u0(r){if(!pe.isDocumentKey(r))throw new ge(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function c0(r){if(pe.isDocumentKey(r))throw new ge(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function sg(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_e(12329,{type:typeof r})}function eh(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ge(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sg(r);throw new ge(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="firestore.googleapis.com",h0=!0;class f0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=z1,this.ssl=h0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:h0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=y1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tI)throw new ge(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}I4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=L1((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ge(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ge(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ge(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Th{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new OR;switch(s.type){case"firstParty":return new MR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=l0.get(n);s&&(le("ComponentProvider","Removing Datastore"),l0.delete(n),s.terminate())}(this),Promise.resolve()}}function N4(r,e,n,s={}){var o;r=eh(r,Th);const u=kl(e),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u&&(k0(`https://${p}`),U0("Firestore",!0)),f.host!==z1&&f.host!==p&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!Ns(y,m)&&(r._setSettings(y),s.mockUserToken)){let E,A;if(typeof s.mockUserToken=="string")E=s.mockUserToken,A=Kt.MOCK_USER;else{E=XA(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new ge(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Kt(C)}r._authCredentials=new DR(new IE(E,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new bh(this.firestore,e,this._query)}}class jn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}}class Vr extends bh{constructor(e,n,s){super(e,n,KE(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new pe(e))}withConverter(e){return new Vr(this.firestore,e,this._path)}}function ag(r,e,...n){if(r=mn(r),j1("collection","path",e),r instanceof Th){const s=it.fromString(e,...n);return c0(s),new Vr(r,null,s)}{if(!(r instanceof jn||r instanceof Vr))throw new ge(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return c0(s),new Vr(r.firestore,null,s)}}function O4(r,e,...n){if(r=mn(r),arguments.length===1&&(e=OE.newId()),j1("doc","path",e),r instanceof Th){const s=it.fromString(e,...n);return u0(s),new jn(r,null,new pe(s))}{if(!(r instanceof jn||r instanceof Vr))throw new ge(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return u0(s),new jn(r.firestore,r instanceof Vr?r.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="AsyncQueue";class m0{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new T1(this,"async_queue_retry"),this.ec=()=>{const s=zd();s&&le(d0,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=e;const n=zd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=zd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new xr;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!to(e))throw e;le(d0,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(s=>{throw this.Ju=s,this.Yu=!1,qi("INTERNAL UNHANDLED ERROR: ",g0(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=n,n}enqueueAfterDelay(e,n,s){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const o=eg.createAndSchedule(this,e,n,s,u=>this.oc(u));return this.Hu.push(o),o}nc(){this.Ju&&_e(47125,{_c:g0(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function g0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class og extends Th{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new m0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new m0(e),this._firestoreClient=void 0,await e}}}function D4(r,e){const n=typeof r=="object"?r:B0(),s=typeof r=="string"?r:Fc,o=Sm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=KA("firestore");u&&N4(o,...u)}return o}function B1(r){if(r._terminated)throw new ge(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||x4(r),r._firestoreClient}function x4(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,y,E){return new XR(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,L1(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new A4(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ya(qt.fromBase64String(e))}catch(n){throw new ge(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ya(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=/^__.*__$/;class M4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new ql(e,this.data,n,this.fieldTransforms)}}function q1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{hc:r})}}class fg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Pc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new fg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Tc({path:s,Ec:!1});return o.dc(e),o}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Tc({path:s,Ec:!1});return o.Pc(),o}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return th(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(q1(this.hc)&&V4.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class P4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||vh(e)}gc(e,n,s,o=!1){return new fg({hc:e,methodName:n,fc:s,path:Bt.emptyPath(),Ec:!1,mc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function k4(r){const e=r._freezeSettings(),n=vh(r._databaseId);return new P4(r._databaseId,!!e.ignoreUndefinedProperties,n)}function U4(r,e,n,s,o,u={}){const f=r.gc(u.merge||u.mergeFields?2:0,e,n,o);Q1("Data must be an object, but it was:",f,s);const m=G1(s,f);let p,y;if(u.merge)p=new Un(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const C=L4(e,A,n);if(!f.contains(C))throw new ge(ee.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);z4(E,C)||E.push(C)}p=new Un(E),y=f.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,y=f.fieldTransforms;return new M4(new In(m),p,y)}class dg extends ug{_toFieldTransform(e){return new bC(e.path,new Dl)}isEqual(e){return e instanceof dg}}function H1(r,e){if(F1(r=mn(r)))return Q1("Unsupported field value:",e,r),G1(r,e);if(r instanceof ug)return function(s,o){if(!q1(o.hc))throw o.Vc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Vc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=H1(m,o.Rc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=mn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return _C(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Rt.fromDate(s);return{timestampValue:$c(o.serializer,u)}}if(s instanceof Rt){const u=new Rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$c(o.serializer,u)}}if(s instanceof cg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ya)return{bytesValue:c1(o.serializer,s._byteString)};if(s instanceof jn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Vc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Fm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof hg)return function(f,m){return{mapValue:{fields:{[LE]:{stringValue:jE},[Qc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Vc("VectorValues must only contain numeric values.");return qm(m.serializer,y)})}}}}}}(s,o);throw o.Vc(`Unsupported field value: ${sg(s)}`)}(r,e)}function G1(r,e){const n={};return xE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ms(r,(s,o)=>{const u=H1(o,e.Ic(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function F1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof cg||r instanceof Ya||r instanceof jn||r instanceof ug||r instanceof hg)}function Q1(r,e,n){if(!F1(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=sg(n);throw s==="an object"?e.Vc(r+" a custom object"):e.Vc(r+" "+s)}}function L4(r,e,n){if((e=mn(e))instanceof lg)return e._internalPath;if(typeof e=="string")return K1(r,e);throw th("Field path arguments must be of type string or ",r,!1,void 0,n)}const j4=new RegExp("[~\\*/\\[\\]]");function K1(r,e,n){if(e.search(j4)>=0)throw th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new lg(...e.split("."))._internalPath}catch{throw th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function th(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ge(ee.INVALID_ARGUMENT,m+r+p)}function z4(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new B4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(X1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class B4 extends Y1{data(){return super.data()}}function X1(r,e){return typeof e=="string"?K1(r,e):e instanceof lg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ge(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class H4{convertValue(e,n="none"){switch(Ur(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ms(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Qc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>ft(f.doubleValue));return new hg(u)}convertGeoPoint(e){return new cg(ft(e.latitude),ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=hh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Il(e));default:return null}}convertTimestamp(e){const n=Pr(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);He(p1(s),9688,{name:e});const o=new Nl(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(n)||qi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class F4 extends Y1{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(X1("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Mc extends F4{data(e={}){return super.data(e)}}class Q4{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Sc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Mc(this._firestore,this._userDataWriter,s.key,s,new Sc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new Mc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Sc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Mc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Sc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:K4(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function K4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:r})}}class Y4 extends H4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ya(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,n)}}function X4(r){r=eh(r,bh);const e=eh(r.firestore,og),n=B1(e),s=new Y4(e);return q4(r._query),C4(n,r._query).then(o=>new Q4(e,s,r,o))}function $1(r,e){const n=eh(r.firestore,og),s=O4(r),o=G4(r.converter,e);return $4(n,[U4(k4(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ji.exists(!1))]).then(()=>s)}function $4(r,e){return function(s,o){const u=new xr;return s.asyncQueue.enqueueAndForget(async()=>d4(await w4(s),o,u)),u.promise}(B1(r),e)}function pm(){return new dg("serverTimestamp")}(function(e,n=!0){(function(o){Wa=o})(Za),za(new Os("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new og(new xR(s.getProvider("auth-internal")),new PR(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ge(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Or(E_,T_,e),Or(E_,T_,"esm2017")})();const Z4={apiKey:"AIzaSyCPiaYsbahfmpHvYfw5BeIhujrXPKk2HrI",authDomain:"my-portfolio-a6566.firebaseapp.com",projectId:"my-portfolio-a6566",storageBucket:"my-portfolio-a6566.firebasestorage.app",messagingSenderId:"228977176391",appId:"1:228977176391:web:6a86aa876cc60769886662",measurementId:"G-SE3JCN37R3"},Z1=z0(Z4),mg=TR(Z1),J4=new ki,gg=D4(Z1),W4="geovanehacker.io@gmail.com";function qd({children:r}){const[e,n]=CR(mg);return n?M.jsx("div",{children:"Carregando..."}):!e||e.email!==W4?M.jsx(RA,{to:"/",replace:!0}):r}function pg(){const r=Pl(),e=async()=>{try{await cw(mg),r("/login")}catch(n){alert("Erro ao sair: "+n.message)}};return M.jsx("nav",{children:M.jsxs("ul",{className:"flex gap-4 mb-6 bg-gray-100 p-4 rounded shadow items-center",children:[M.jsx("li",{children:M.jsx(yc,{to:"/admin",className:"text-blue-600 hover:underline",children:"Admin"})}),M.jsx("li",{children:M.jsx(yc,{to:"/admin/perfil",className:"text-blue-600 hover:underline",children:"Perfil"})}),M.jsx("li",{children:M.jsx(yc,{to:"/admin/projetos",className:"text-blue-600 hover:underline",children:"Projetos"})}),M.jsx("li",{children:M.jsx(yc,{to:"/",className:"text-blue-600 hover:underline",children:"Home"})}),M.jsx("li",{children:M.jsx("button",{onClick:e,className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 transition",children:"Sair"})})]})})}function e3(){return M.jsxs("div",{className:"container mx-auto p-2",children:[M.jsx(pg,{}),M.jsx("h1",{className:"text-2xl font-bold mb-4 ",children:"Pagina de Administração Geovane Carvalho"}),M.jsx("p",{children:"Bem-vindo à página de administração do seu portfólio!"}),M.jsx("p",{children:"Aqui você pode gerenciar seu perfil e projetos."}),M.jsx("p",{children:"Use o menu acima para navegar entre as seções."})]})}function t3(){const[r,e]=F.useState(""),[n,s]=F.useState(""),[o,u]=F.useState(""),[f,m]=F.useState(""),[p,y]=F.useState(""),[E,A]=F.useState("");Pl();const C=async B=>{B.preventDefault();try{await $1(ag(gg,"projetos"),{titulo:r,descricao:n,imagem:o,github:f,producao:p,criadoEm:pm(),atualizadoEm:pm()}),A("Projeto cadastrado com sucesso!"),e(""),s(""),u(""),m(""),y("")}catch{A("Erro ao cadastrar projeto.")}};return M.jsxs("div",{className:"p-4",children:[M.jsx(pg,{}),M.jsx("div",{className:"flex justify-between items-center mb-4",children:M.jsx("h1",{className:"text-2xl",children:"Cadastrar Projeto"})}),M.jsxs("form",{onSubmit:C,className:"flex flex-col gap-2 max-w-md",children:[M.jsx("input",{type:"text",placeholder:"Título",value:r,onChange:B=>e(B.target.value),required:!0,className:"border px-2 py-1 rounded"}),M.jsx("textarea",{placeholder:"Descrição",value:n,onChange:B=>s(B.target.value),required:!0,className:"border px-2 py-1 rounded"}),M.jsx("input",{type:"url",placeholder:"URL da imagem .gif",value:o,onChange:B=>u(B.target.value),required:!0,className:"border px-2 py-1 rounded"}),M.jsx("input",{type:"url",placeholder:"Link do GitHub",value:f,onChange:B=>m(B.target.value),required:!0,className:"border px-2 py-1 rounded"}),M.jsx("input",{type:"url",placeholder:"Link do projeto em produção",value:p,onChange:B=>y(B.target.value),required:!0,className:"border px-2 py-1 rounded"}),M.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Salvar"})]}),E&&M.jsx("p",{className:"mt-2",children:E})]})}function n3(){const r=Pl(),e=async()=>{try{await Ow(mg,J4),r("/admin")}catch(n){alert("Erro ao fazer login: "+n.message)}};return M.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[M.jsx("h1",{className:"text-2xl mb-4",children:"Página de Login"}),M.jsx("button",{onClick:e,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition",children:"Entrar com Google"})]})}function i3({title:r,titleId:e,...n},s){return F.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?F.createElement("title",{id:e},r):null,F.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const r3=F.forwardRef(i3);function s3({title:r,titleId:e,...n},s){return F.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?F.createElement("title",{id:e},r):null,F.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const J1=F.forwardRef(s3);function a3({title:r,titleId:e,...n},s){return F.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?F.createElement("title",{id:e},r):null,F.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))}const o3=F.forwardRef(a3);function l3({title:r,titleId:e,...n},s){return F.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?F.createElement("title",{id:e},r):null,F.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))}const u3=F.forwardRef(l3);function c3({title:r,titleId:e,...n},s){return F.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?F.createElement("title",{id:e},r):null,F.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),F.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const h3=F.forwardRef(c3);function f3({title:r,titleId:e,...n},s){return F.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?F.createElement("title",{id:e},r):null,F.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const d3=F.forwardRef(f3);function m3({title:r,titleId:e,...n},s){return F.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?F.createElement("title",{id:e},r):null,F.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const g3=F.forwardRef(m3);var W1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},p0=Rr.createContext&&Rr.createContext(W1),p3=["attr","size","title"];function y3(r,e){if(r==null)return{};var n=v3(r,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function v3(r,e){if(r==null)return{};var n={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;n[s]=r[s]}return n}function nh(){return nh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},nh.apply(this,arguments)}function y0(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,s)}return n}function ih(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y0(Object(n),!0).forEach(function(s){_3(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):y0(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function _3(r,e,n){return e=E3(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function E3(r){var e=T3(r,"string");return typeof e=="symbol"?e:e+""}function T3(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function eT(r){return r&&r.map((e,n)=>Rr.createElement(e.tag,ih({key:n},e.attr),eT(e.child)))}function Ql(r){return e=>Rr.createElement(b3,nh({attr:ih({},r.attr)},e),eT(r.child))}function b3(r){var e=n=>{var{attr:s,size:o,title:u}=r,f=y3(r,p3),m=o||n.size||"1em",p;return n.className&&(p=n.className),r.className&&(p=(p?p+" ":"")+r.className),Rr.createElement("svg",nh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:p,style:ih(ih({color:r.color||n.color},n.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Rr.createElement("title",null,u),r.children)};return p0!==void 0?Rr.createElement(p0.Consumer,null,n=>e(n)):e(W1)}function A3(r){return Ql({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(r)}function S3(r){return Ql({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(r)}function w3(r){return Ql({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"},child:[]}]})(r)}function R3(r){return Ql({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(r)}function C3(r){return Ql({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(r)}function v0(){return M.jsxs("div",{className:"w-full",children:[M.jsxs("h2",{className:"text-lg font-semibold text-blue-700 flex items-center gap-2 mb-2",children:[M.jsx(J1,{className:"w-5 h-5 text-blue-300"}),"Conferências e Comunidades"]}),M.jsxs("ul",{className:"space-y-4",children:[M.jsxs("li",{className:"bg-white p-3 rounded-lg shadow text-sm",children:[M.jsxs("a",{href:"https://2016.pythonbrasil.org.br/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 font-semibold hover:underline",children:[M.jsx("img",{src:"https://i.ibb.co/7d2yHV2s/pythonbrasil.png",alt:"Logo Python Brasil",className:"w-32 mb-2"}),"Python Brasil 2016"]}),M.jsx("p",{className:"text-gray-600",children:"Outubro 2016 – FLORIANÓPOLIS, SC"})]}),M.jsxs("li",{className:"bg-white p-3 rounded-lg shadow text-sm",children:[M.jsxs("a",{href:"https://www.instagram.com/pythoncerrado/",target:"_blank",rel:"noopener noreferrer",className:"text-green-700 font-semibold hover:underline",children:[M.jsx("img",{src:"https://i.ibb.co/XZF4YjVz/pythoncerrado.png",alt:"Logo Python Cerrado",className:"w-32 mb-2"}),"Python Cerrado"]}),M.jsx("p",{className:"text-gray-600",children:" Novembro 2016 – BRASÍLIA, DF"})]}),M.jsxs("li",{className:"bg-white p-3 rounded-lg shadow text-sm",children:[M.jsxs("a",{href:"https://www.instagram.com/calangoh4cker/",target:"_blank",rel:"noopener noreferrer",className:"text-green-700 font-semibold hover:underline",children:[M.jsx("img",{src:"https://i.ibb.co/7xZ6mHtT/calango.png",alt:"Logo Calango",className:"w-28 mb-2"}),"Calango hacker clube"]}),M.jsx("p",{className:"text-gray-600",children:" BRASÍLIA, DF"})]})]})]})}function I3({perfil:r}){var e,n,s,o,u,f,m,p,y,E,A,C;return r?M.jsxs("div",{className:"bg-blue-50 rounded-2xl shadow-xl p-8 max-w-7xl mx-auto mb-10 grid grid-cols-1 md:grid-cols-3 gap-8",children:[M.jsxs("div",{className:"flex flex-col items-center md:items-start gap-6",children:[M.jsx("img",{src:r.foto,alt:"Foto de perfil",className:"w-36 h-36  rounded-full object-cover border-4 border-blue-400 shadow-md bg-white"}),M.jsx("div",{className:"hidden md:block",children:M.jsx(v0,{})})]}),M.jsxs("div",{className:"md:col-span-2 flex flex-col gap-6",children:[M.jsxs("h1",{className:"text-3xl font-bold text-blue-700 flex items-center gap-2",children:[M.jsx(g3,{className:"w-7 h-7 text-blue-400"}),r.nomeCompleto]}),M.jsxs("div",{children:[M.jsxs("h2",{className:"text-lg font-semibold text-blue-700 flex items-center gap-2 mb-1",children:[M.jsx(J1,{className:"w-5 h-5 text-blue-300"}),"Bio / Resumo Profissional"]}),M.jsx("p",{className:"indent-4 text-gray-600 text-justify",children:r.bio})]}),M.jsxs("div",{children:[M.jsxs("h2",{className:"text-lg font-semibold text-blue-700 flex items-center gap-2 mb-1",children:[M.jsx(o3,{className:"w-5 h-5 text-blue-400"}),"Soft Skills"]}),M.jsx("p",{className:"text-gray-700",children:r.softSkills})]}),(((e=r.endereco)==null?void 0:e.bairro)||((n=r.endereco)==null?void 0:n.cidade)||((s=r.endereco)==null?void 0:s.estado)||((o=r.endereco)==null?void 0:o.cep))&&M.jsxs("div",{children:[M.jsxs("h2",{className:"text-lg font-semibold text-blue-700 flex items-center gap-2 mb-1",children:[M.jsx(h3,{className:"w-5 h-5 text-blue-300"}),"Endereço"]}),M.jsx("p",{className:"text-gray-500",children:[(u=r.endereco)==null?void 0:u.bairro,(f=r.endereco)==null?void 0:f.cidade,(m=r.endereco)==null?void 0:m.estado,(p=r.endereco)==null?void 0:p.cep].filter(Boolean).join(", ")})]}),M.jsxs("div",{children:[M.jsxs("h2",{className:"text-lg font-semibold text-blue-700 flex items-center gap-2 mb-1",children:[M.jsx(r3,{className:"w-6 h-6 text-blue-400"}),"Formação Acadêmica"]}),M.jsxs("div",{className:"bg-blue-100 rounded-lg p-4",children:[M.jsx("p",{className:"font-semibold",children:(y=r.formacao)==null?void 0:y.curso}),M.jsx("p",{children:(E=r.formacao)==null?void 0:E.instituicao}),M.jsxs("p",{children:[(A=r.formacao)==null?void 0:A.nivel," ",((C=r.formacao)==null?void 0:C.anoConclusao)&&M.jsxs("span",{className:"text-gray-500",children:["(",r.formacao.anoConclusao,")"]})]})]})]}),M.jsxs("div",{className:"pt-4 border-t flex flex-wrap gap-6",children:[r.email&&M.jsxs("span",{className:"flex items-center gap-1 text-gray-600",children:[M.jsx(C3,{className:"w-5 h-5 text-blue-300"}),r.email]}),r.telefone&&M.jsxs("span",{className:"flex items-center gap-1 text-gray-600",children:[M.jsx(d3,{className:"w-5 h-5 text-blue-300 "}),r.telefone]}),r.linkedin&&M.jsxs("a",{href:r.linkedin,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-blue-600 hover:underline",children:[M.jsx(S3,{className:"w-5 h-5 "})," LinkedIn"]}),r.github&&M.jsxs("a",{href:r.github,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-gray-800 hover:underline",children:[M.jsx(A3,{className:"w-5 h-5 "})," GitHub"]}),r.outrosPerfis&&M.jsxs("a",{href:r.outrosPerfis,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-pink-600 hover:underline",children:[M.jsx(u3,{className:"w-5 h-5 "})," Outros Perfis"]}),r.telegram&&M.jsxs("a",{href:r.telegram,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-blue-400 hover:underline",children:[M.jsx(w3,{className:"w-5 h-5 "})," Telegram"]}),r.whatsapp&&M.jsxs("a",{href:r.whatsapp,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-green-600 hover:underline",children:[M.jsx(R3,{className:"w-5 h-5 "})," WhatsApp"]}),M.jsx("div",{className:"md:hidden mt-8",children:M.jsx(v0,{})})]})]})]}):null}function N3(){const[r,e]=F.useState(null);return F.useEffect(()=>{async function n(){const s=await X4(ag(gg,"perfil"));s.empty||e(s.docs[0].data())}n()},[]),M.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-200 p-6",children:M.jsx("div",{className:"max-w-4xl mx-auto",children:r&&M.jsx(I3,{perfil:r})})})}function O3(){const[r,e]=F.useState(""),[n,s]=F.useState(""),[o,u]=F.useState(""),[f,m]=F.useState(""),[p,y]=F.useState(""),[E,A]=F.useState(""),[C,B]=F.useState(""),[Y,W]=F.useState(""),[G,ce]=F.useState(""),[oe,ae]=F.useState(""),[Ee,me]=F.useState(""),[Ne,x]=F.useState(""),[S,R]=F.useState(""),[D,V]=F.useState(""),[k,I]=F.useState(""),[mt,et]=F.useState(""),[Q,ie]=F.useState(""),[he,je]=F.useState(""),[N,J]=F.useState(""),[re,te]=F.useState(""),de=async se=>{se.preventDefault();try{await $1(ag(gg,"perfil"),{nomeCompleto:r,foto:n,bio:o,softSkills:f,email:p,telefone:E,endereco:{bairro:C,cidade:Y,estado:G,cep:oe},linkedin:Ee,github:Ne,outrosPerfis:S,telegram:D,whatsapp:k,formacao:{curso:mt,instituicao:Q,anoConclusao:he,nivel:N},atualizadoEm:pm()}),te("Perfil atualizado com sucesso!")}catch{te("Erro ao atualizar perfil.")}};return M.jsxs("div",{className:"p-4",children:[M.jsx(pg,{}),M.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Editar Perfil Pessoal"}),M.jsxs("form",{onSubmit:de,className:"flex flex-col gap-4 max-w-2xl bg-white rounded shadow p-6 mx-auto",children:[M.jsxs("div",{children:[M.jsx("label",{className:"font-semibold",children:"Nome completo"}),M.jsx("input",{type:"text",value:r,onChange:se=>e(se.target.value),required:!0,className:"border px-2 py-1 rounded w-full"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"font-semibold",children:"Foto de perfil (URL)"}),M.jsx("input",{type:"url",value:n,onChange:se=>s(se.target.value),required:!0,className:"border px-2 py-1 rounded w-full"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"font-semibold",children:"Bio / resumo profissional"}),M.jsx("textarea",{value:o,onChange:se=>u(se.target.value),required:!0,className:"border px-2 py-1 rounded w-full"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"font-semibold",children:"Soft skills"}),M.jsx("input",{type:"text",value:f,onChange:se=>m(se.target.value),placeholder:"Ex: Comunicação, Trabalho em equipe, Liderança",className:"border px-2 py-1 rounded w-full"})]}),M.jsxs("div",{className:"flex gap-4",children:[M.jsxs("div",{className:"flex-1",children:[M.jsx("label",{className:"font-semibold",children:"E-mail"}),M.jsx("input",{type:"email",value:p,onChange:se=>y(se.target.value),required:!0,className:"border px-2 py-1 rounded w-full"})]}),M.jsxs("div",{className:"flex-1",children:[M.jsx("label",{className:"font-semibold",children:"Telefone"}),M.jsx("input",{type:"text",value:E,onChange:se=>A(se.target.value),required:!0,className:"border px-2 py-1 rounded w-full"})]})]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"font-semibold",children:"Bairro"}),M.jsx("input",{type:"text",value:C,onChange:se=>B(se.target.value),className:"border px-2 py-1 rounded w-full"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"font-semibold",children:"Cidade"}),M.jsx("input",{type:"text",value:Y,onChange:se=>W(se.target.value),className:"border px-2 py-1 rounded w-full"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"font-semibold",children:"Estado"}),M.jsx("input",{type:"text",value:G,onChange:se=>ce(se.target.value),className:"border px-2 py-1 rounded w-full"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"font-semibold",children:"CEP"}),M.jsx("input",{type:"text",value:oe,onChange:se=>ae(se.target.value),className:"border px-2 py-1 rounded w-full"})]})]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"font-semibold",children:"LinkedIn"}),M.jsx("input",{type:"url",value:Ee,onChange:se=>me(se.target.value),className:"border px-2 py-1 rounded w-full"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"font-semibold",children:"GitHub"}),M.jsx("input",{type:"url",value:Ne,onChange:se=>x(se.target.value),className:"border px-2 py-1 rounded w-full"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"font-semibold",children:"Outros perfis (Twitter, Instagram, Portfólio...)"}),M.jsx("input",{type:"url",value:S,onChange:se=>R(se.target.value),className:"border px-2 py-1 rounded w-full"})]})]}),M.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"font-semibold",children:"Link Telegram"}),M.jsx("input",{type:"url",value:D,onChange:se=>V(se.target.value),className:"border px-2 py-1 rounded w-full"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"font-semibold",children:"Link WhatsApp"}),M.jsx("input",{type:"url",value:k,onChange:se=>I(se.target.value),className:"border px-2 py-1 rounded w-full"})]})]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"font-semibold",children:"Curso"}),M.jsx("input",{type:"text",value:mt,onChange:se=>et(se.target.value),className:"border px-2 py-1 rounded w-full"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"font-semibold",children:"Instituição"}),M.jsx("input",{type:"text",value:Q,onChange:se=>ie(se.target.value),className:"border px-2 py-1 rounded w-full"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"font-semibold",children:"Ano de conclusão"}),M.jsx("input",{type:"number",value:he,onChange:se=>je(se.target.value),className:"border px-2 py-1 rounded w-full"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"font-semibold",children:"Nível"}),M.jsx("input",{type:"text",value:N,onChange:se=>J(se.target.value),className:"border px-2 py-1 rounded w-full"})]})]}),M.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded font-semibold hover:bg-blue-700 transition",children:"Salvar"}),re&&M.jsx("p",{className:"mt-2",children:re})]})]})}function D3(){return M.jsx(PA,{children:M.jsxs(IA,{children:[M.jsx(Oa,{path:"/",element:M.jsx(N3,{})}),M.jsx(Oa,{path:"/login",element:M.jsx(n3,{})}),M.jsx(Oa,{path:"/admin",element:M.jsx(qd,{children:M.jsx(e3,{})})}),M.jsx(Oa,{path:"/admin/perfil",element:M.jsx(qd,{children:M.jsx(O3,{})})}),M.jsx(Oa,{path:"/admin/projetos",element:M.jsx(qd,{children:M.jsx(t3,{})})})]})})}const x3=kb.createRoot(document.getElementById("root"));x3.render(M.jsx(D3,{}));
